function _slicedToArray2(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,a=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _createSuper(e){return function(){var t,n=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var i=_getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"24yA":function(e,t,n){e.exports=function(){"use strict";var e=function(e){var t=e.addFilter,n=e.utils,i=n.Type,r=n.isString,o=n.replaceInString,a=n.guesstimateMimeType,s=n.getExtensionFromFilename,c=n.getFilenameFromURL,l=function(e,t){return e.some((function(e){return/\*$/.test(e)?(n=e,(/^[^/]+/.exec(t)||[]).pop()===n.slice(0,-2)):e===t;var n}))},u=function(e,t,n){if(0===t.length)return!0;var i=function(e){var t="";if(r(e)){var n=c(e),i=s(n);i&&(t=a(i))}else t=e.type;return t}(e);return n?new Promise((function(r,o){n(e,i).then((function(e){l(t,e)?r():o()})).catch(o)})):l(t,i)};return t("SET_ATTRIBUTE_TO_OPTION_MAP",(function(e){return Object.assign(e,{accept:"acceptedFileTypes"})})),t("ALLOW_HOPPER_ITEM",(function(e,t){var n=t.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||u(e,n("GET_ACCEPTED_FILE_TYPES"))})),t("LOAD_FILE",(function(e,t){var n=t.query;return new Promise((function(t,i){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var r=n("GET_ACCEPTED_FILE_TYPES"),a=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),s=u(e,r,a),c=function(){var e,t=r.map((e=n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"),function(t){return null!==e[t]&&(e[t]||t)})).filter((function(e){return!1!==e}));i({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:o(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:t.join(", "),allButLastType:t.slice(0,-1).join(", "),lastType:t[t.length-1]})}})};if("boolean"==typeof s)return s?t(e):c();s.then((function(){t(e)})).catch(c)}else t(e)}))})),{options:{allowFileTypeValidation:[!0,i.BOOLEAN],acceptedFileTypes:[[],i.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",i.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",i.STRING],fileValidateTypeLabelExpectedTypesMap:[{},i.OBJECT],fileValidateTypeDetectType:[null,i.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},"6+Ij":function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardModule",(function(){return pr}));var i,r=n("sEIs"),o=n("Bb/g"),a=n("G6qe"),s=n("wxdu"),c=n("2kYt"),l=n("nIj0"),u=n("yDe4"),d=n("P/uR"),f=n("f3iV"),h=n("PBFl"),p=n("bFHC"),m=n("Meci"),g=n("zmEM"),v=n("29Wa"),b=n("Cd2c"),_=n("nKqi"),E=n("mFH5"),y=n("R7+U"),T=n("lQ7A"),I=n("KZIX"),O=n("EM62"),x=n("5XID"),w=n("fAiE"),R=n("5lCh"),C=n("cZZj"),S=n("bwdy"),P=n("sg/T"),A=n("E5oP"),M=["sliderWrapper"],k=Object(C.f)({passive:!1}),D={provide:l.m,useExisting:Object(O.ab)((function(){return G})),multi:!0},L=function e(){_classCallCheck(this,e)},N=Object(E.D)(Object(E.y)(Object(E.A)((function e(t){_classCallCheck(this,e),this._elementRef=t})),"accent")),G=((i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s,c,l){var u;return _classCallCheck(this,n),(u=t.call(this,e))._focusMonitor=i,u._changeDetectorRef=r,u._dir=o,u._animationMode=s,u._ngZone=c,u._invert=!1,u._max=100,u._min=0,u._step=1,u._thumbLabel=!1,u._tickInterval=0,u._value=null,u._vertical=!1,u.change=new O.p,u.input=new O.p,u.valueChange=new O.p,u.onTouched=function(){},u._percent=0,u._isSliding=!1,u._isActive=!1,u._tickIntervalPercent=0,u._sliderDimensions=null,u._controlValueAccessorChangeFn=function(){},u._dirChangeSubscription=S.a.EMPTY,u._pointerDown=function(e){u.disabled||u._isSliding||!F(e)&&0!==e.button||u._runInsideZone((function(){var t=u.value,n=j(e);u._isSliding=!0,u._lastPointerEvent=e,e.preventDefault(),u._focusHostElement(),u._onMouseenter(),u._bindGlobalEvents(e),u._focusHostElement(),u._updateValueFromPosition(n),u._valueOnSlideStart=u.value,u._pointerPositionOnStart=n,t!=u.value&&(u._emitInputEvent(),u._emitChangeEvent())}))},u._pointerMove=function(e){if(u._isSliding){e.preventDefault();var t=u.value;u._lastPointerEvent=e,u._updateValueFromPosition(j(e)),t!=u.value&&u._emitInputEvent()}},u._pointerUp=function(e){if(u._isSliding){var t=u._pointerPositionOnStart,n=j(e);e.preventDefault(),u._removeGlobalEvents(),u._valueOnSlideStart=u._pointerPositionOnStart=u._lastPointerEvent=null,u._isSliding=!1,u._valueOnSlideStart==u.value||u.disabled||!t||t.x===n.x&&t.y===n.y||u._emitChangeEvent()}},u._windowBlur=function(){u._lastPointerEvent&&u._pointerUp(u._lastPointerEvent)},u._document=l,u.tabIndex=parseInt(a)||0,u._runOutsizeZone((function(){var t=e.nativeElement;t.addEventListener("mousedown",u._pointerDown,k),t.addEventListener("touchstart",u._pointerDown,k)})),u}return _createClass(n,[{key:"focus",value:function(e){this._focusHostElement(e)}},{key:"blur",value:function(){this._blurHostElement()}},{key:"_shouldInvertMouseCoords",value:function(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}},{key:"_getDirection",value:function(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}},{key:"ngOnInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(t){e._isActive=!!t&&"keyboard"!==t,e._changeDetectorRef.detectChanges()})),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe((function(){e._changeDetectorRef.markForCheck()})))}},{key:"ngOnDestroy",value:function(){var e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,k),e.removeEventListener("touchstart",this._pointerDown,k),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}},{key:"_onMouseenter",value:function(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}},{key:"_onFocus",value:function(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}},{key:"_onBlur",value:function(){this.onTouched()}},{key:"_onKeydown",value:function(e){if(!this.disabled&&!Object(w.s)(e)){var t=this.value;switch(e.keyCode){case w.l:this._increment(10);break;case w.k:this._increment(-10);break;case w.e:this.value=this.max;break;case w.h:this.value=this.min;break;case w.i:this._increment("rtl"==this._getDirection()?1:-1);break;case w.p:this._increment(1);break;case w.m:this._increment("rtl"==this._getDirection()?-1:1);break;case w.d:this._increment(-1);break;default:return}t!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,e.preventDefault()}}},{key:"_onKeyup",value:function(){this._isSliding=!1}},{key:"_getWindow",value:function(){var e;return(null===(e=this._document)||void 0===e?void 0:e.defaultView)||window}},{key:"_bindGlobalEvents",value:function(e){if(void 0!==this._document&&this._document){var t=this._document.body,n=F(e),i=n?"touchend":"mouseup";t.addEventListener(n?"touchmove":"mousemove",this._pointerMove,k),t.addEventListener(i,this._pointerUp,k),n&&t.addEventListener("touchcancel",this._pointerUp,k)}var r=this._getWindow();void 0!==r&&r&&r.addEventListener("blur",this._windowBlur)}},{key:"_removeGlobalEvents",value:function(){if(void 0!==this._document&&this._document){var e=this._document.body;e.removeEventListener("mousemove",this._pointerMove,k),e.removeEventListener("mouseup",this._pointerUp,k),e.removeEventListener("touchmove",this._pointerMove,k),e.removeEventListener("touchend",this._pointerUp,k),e.removeEventListener("touchcancel",this._pointerUp,k)}var t=this._getWindow();void 0!==t&&t&&t.removeEventListener("blur",this._windowBlur)}},{key:"_increment",value:function(e){this.value=this._clamp((this.value||0)+this.step*e,this.min,this.max)}},{key:"_updateValueFromPosition",value:function(e){if(this._sliderDimensions){var t=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(t=1-t),0===t)this.value=this.min;else if(1===t)this.value=this.max;else{var n=this._calculateValue(t),i=Math.round((n-this.min)/this.step)*this.step+this.min;this.value=this._clamp(i,this.min,this.max)}}}},{key:"_emitChangeEvent",value:function(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}},{key:"_emitInputEvent",value:function(){this.input.emit(this._createChangeEvent())}},{key:"_updateTickIntervalPercent",value:function(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){var e=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,t=Math.ceil(30/(e*this.step/(this.max-this.min)));this._tickIntervalPercent=t*this.step/e}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}},{key:"_createChangeEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=new L;return t.source=this,t.value=e,t}},{key:"_calculatePercentage",value:function(e){return((e||0)-this.min)/(this.max-this.min)}},{key:"_calculateValue",value:function(e){return this.min+e*(this.max-this.min)}},{key:"_clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(e,n))}},{key:"_getSliderDimensions",value:function(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}},{key:"_focusHostElement",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_blurHostElement",value:function(){this._elementRef.nativeElement.blur()}},{key:"_runInsideZone",value:function(e){this._ngZone?this._ngZone.run(e):e()}},{key:"_runOutsizeZone",value:function(e){this._ngZone?this._ngZone.runOutsideAngular(e):e()}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"invert",get:function(){return this._invert},set:function(e){this._invert=Object(x.c)(e)}},{key:"max",get:function(){return this._max},set:function(e){this._max=Object(x.f)(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}},{key:"min",get:function(){return this._min},set:function(e){this._min=Object(x.f)(e,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}},{key:"step",get:function(){return this._step},set:function(e){this._step=Object(x.f)(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}},{key:"thumbLabel",get:function(){return this._thumbLabel},set:function(e){this._thumbLabel=Object(x.c)(e)}},{key:"tickInterval",get:function(){return this._tickInterval},set:function(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?Object(x.f)(e,this._tickInterval):0}},{key:"value",get:function(){return null===this._value&&(this.value=this._min),this._value},set:function(e){if(e!==this._value){var t=Object(x.f)(e);this._roundToDecimal&&(t=parseFloat(t.toFixed(this._roundToDecimal))),this._value=t,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}},{key:"vertical",get:function(){return this._vertical},set:function(e){this._vertical=Object(x.c)(e)}},{key:"displayValue",get:function(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}},{key:"percent",get:function(){return this._clamp(this._percent)}},{key:"_invertAxis",get:function(){return this.vertical?!this.invert:this.invert}},{key:"_isMinValue",get:function(){return 0===this.percent}},{key:"_thumbGap",get:function(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}},{key:"_trackBackgroundStyles",get:function(){var e=this.vertical?"1, ".concat(1-this.percent,", 1"):"".concat(1-this.percent,", 1, 1");return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this._shouldInvertMouseCoords()?"-":"").concat(this._thumbGap,"px) scale3d(").concat(e,")")}}},{key:"_trackFillStyles",get:function(){var e=this.percent,t=this.vertical?"1, ".concat(e,", 1"):"".concat(e,", 1, 1");return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this._shouldInvertMouseCoords()?"":"-").concat(this._thumbGap,"px) scale3d(").concat(t,")"),display:0===e?"none":""}}},{key:"_ticksContainerStyles",get:function(){return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this.vertical||"rtl"!=this._getDirection()?"-":"").concat(this._tickIntervalPercent/2*100,"%)")}}},{key:"_ticksStyles",get:function(){var e,t=100*this._tickIntervalPercent,n={backgroundSize:this.vertical?"2px ".concat(t,"%"):"".concat(t,"% 2px"),transform:"translateZ(0) translate".concat(this.vertical?"Y":"X","(").concat(this.vertical||"rtl"!=this._getDirection()?"":"-").concat(t/2,"%)").concat(this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)")};return this._isMinValue&&this._thumbGap&&(e=this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left",n["padding".concat(e)]="".concat(this._thumbGap,"px")),n}},{key:"_thumbContainerStyles",get:function(){return{transform:"translate".concat(this.vertical?"Y":"X","(-").concat(100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent),"%)")}}}]),n}(N)).\u0275fac=function(e){return new(e||i)(O.Yb(O.m),O.Yb(P.h),O.Yb(O.i),O.Yb(A.b,8),O.kc("tabindex"),O.Yb(R.a,8),O.Yb(O.D),O.Yb(c.d,8))},i.\u0275cmp=O.Sb({type:i,selectors:[["mat-slider"]],viewQuery:function(e,t){var n;1&e&&O.Wc(M,!0),2&e&&O.Cc(n=O.oc())&&(t._sliderWrapper=n.first)},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:28,hostBindings:function(e,t){1&e&&O.nc("focus",(function(){return t._onFocus()}))("blur",(function(){return t._onBlur()}))("keydown",(function(e){return t._onKeydown(e)}))("keyup",(function(){return t._onKeyup()}))("mouseenter",(function(){return t._onMouseenter()}))("selectstart",(function(e){return e.preventDefault()})),2&e&&(O.hc("tabIndex",t.tabIndex),O.Lb("aria-disabled",t.disabled)("aria-valuemax",t.max)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-orientation",t.vertical?"vertical":"horizontal"),O.Ob("mat-slider-disabled",t.disabled)("mat-slider-has-ticks",t.tickInterval)("mat-slider-horizontal",!t.vertical)("mat-slider-axis-inverted",t._invertAxis)("mat-slider-invert-mouse-coords",t._shouldInvertMouseCoords())("mat-slider-sliding",t._isSliding)("mat-slider-thumb-label-showing",t.thumbLabel)("mat-slider-vertical",t.vertical)("mat-slider-min-value",t._isMinValue)("mat-slider-hide-last-tick",t.disabled||t._isMinValue&&t._thumbGap&&t._invertAxis)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[O.Jb([D]),O.Hb],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,t){1&e&&(O.ec(0,"div",0,1),O.ec(2,"div",2),O.Zb(3,"div",3),O.Zb(4,"div",4),O.dc(),O.ec(5,"div",5),O.Zb(6,"div",6),O.dc(),O.ec(7,"div",7),O.Zb(8,"div",8),O.Zb(9,"div",9),O.ec(10,"div",10),O.ec(11,"span",11),O.Pc(12),O.dc(),O.dc(),O.dc(),O.dc()),2&e&&(O.Kb(3),O.xc("ngStyle",t._trackBackgroundStyles),O.Kb(1),O.xc("ngStyle",t._trackFillStyles),O.Kb(1),O.xc("ngStyle",t._ticksContainerStyles),O.Kb(1),O.xc("ngStyle",t._ticksStyles),O.Kb(1),O.xc("ngStyle",t._thumbContainerStyles),O.Kb(5),O.Qc(t.displayValue))},directives:[c.o],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),i);function F(e){return"t"===e.type[0]}function j(e){var t=F(e)?e.touches[0]||e.changedTouches[0]:e;return{x:t.clientX,y:t.clientY}}var U,V,B,z,q=((U=function e(){_classCallCheck(this,e)}).\u0275mod=O.Wb({type:U}),U.\u0275inj=O.Vb({factory:function(e){return new(e||U)},imports:[[c.c,E.j],E.j]}),U),H=n("A7yd"),Y=n("ZTXN"),W=n("cqs0"),X=0,K=((z=function(){function e(){_classCallCheck(this,e),this._stateChanges=new Y.a,this._openCloseAllActions=new Y.a,this.id="cdk-accordion-".concat(X++),this._multi=!1}return _createClass(e,[{key:"openAll",value:function(){this._openCloseAll(!0)}},{key:"closeAll",value:function(){this._openCloseAll(!1)}},{key:"ngOnChanges",value:function(e){this._stateChanges.next(e)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_openCloseAll",value:function(e){this.multi&&this._openCloseAllActions.next(e)}},{key:"multi",get:function(){return this._multi},set:function(e){this._multi=Object(x.c)(e)}}]),e}()).\u0275fac=function(e){return new(e||z)},z.\u0275dir=O.Tb({type:z,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[O.Ib]}),z),Z=0,Q=((B=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.accordion=t,this._changeDetectorRef=n,this._expansionDispatcher=i,this._openCloseAllSubscription=S.a.EMPTY,this.closed=new O.p,this.opened=new O.p,this.destroyed=new O.p,this.expandedChange=new O.p,this.id="cdk-accordion-child-".concat(Z++),this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=i.listen((function(e,t){r.accordion&&!r.accordion.multi&&r.accordion.id===t&&r.id!==e&&(r.expanded=!1)})),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}},{key:"toggle",value:function(){this.disabled||(this.expanded=!this.expanded)}},{key:"close",value:function(){this.disabled||(this.expanded=!1)}},{key:"open",value:function(){this.disabled||(this.expanded=!0)}},{key:"_subscribeToOpenCloseAllActions",value:function(){var e=this;return this.accordion._openCloseAllActions.subscribe((function(t){e.disabled||(e.expanded=t)}))}},{key:"expanded",get:function(){return this._expanded},set:function(e){e=Object(x.c)(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Object(x.c)(e)}}]),e}()).\u0275fac=function(e){return new(e||B)(O.Yb(K,12),O.Yb(O.i),O.Yb(W.d))},B.\u0275dir=O.Tb({type:B,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[O.Jb([{provide:K,useValue:void 0}])]}),B),$=((V=function e(){_classCallCheck(this,e)}).\u0275mod=O.Wb({type:V}),V.\u0275inj=O.Vb({factory:function(e){return new(e||V)}}),V),J=n("Sv/w"),ee=n("Ohay"),te=n("jIqt"),ne=n("xVbo"),ie=n("J+dc"),re=n("6Oco"),oe=n("g6G6"),ae=n("f7+R"),se=["body"];function ce(e,t){}var le=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],ue=["mat-expansion-panel-header","*","mat-action-row"],de=function(e,t){return{collapsedHeight:e,expandedHeight:t}},fe=function(e,t){return{value:e,params:t}};function he(e,t){if(1&e&&O.Zb(0,"span",2),2&e){var n=O.rc();O.xc("@indicatorRotate",n._getExpandedState())}}var pe,me,ge,ve,be,_e,Ee,ye,Te,Ie=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Oe=["mat-panel-title","mat-panel-description","*"],xe=new O.t("MAT_ACCORDION"),we={indicatorRotate:Object(ae.p)("indicatorRotate",[Object(ae.m)("collapsed, void",Object(ae.n)({transform:"rotate(0deg)"})),Object(ae.m)("expanded",Object(ae.n)({transform:"rotate(180deg)"})),Object(ae.o)("expanded <=> collapsed, void => collapsed",Object(ae.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:Object(ae.p)("expansionHeight",[Object(ae.m)("collapsed, void",Object(ae.n)({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),Object(ae.m)("expanded",Object(ae.n)({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Object(ae.o)("expanded <=> collapsed, void => collapsed",Object(ae.h)([Object(ae.j)("@indicatorRotate",Object(ae.f)(),{optional:!0}),Object(ae.e)("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:Object(ae.p)("bodyExpansion",[Object(ae.m)("collapsed, void",Object(ae.n)({height:"0px",visibility:"hidden"})),Object(ae.m)("expanded",Object(ae.n)({height:"*",visibility:"visible"})),Object(ae.o)("expanded <=> collapsed, void => collapsed",Object(ae.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])},Re=((pe=function e(t){_classCallCheck(this,e),this._template=t}).\u0275fac=function(e){return new(e||pe)(O.Yb(O.Q))},pe.\u0275dir=O.Tb({type:pe,selectors:[["ng-template","matExpansionPanelContent",""]]}),pe),Ce=0,Se=new O.t("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Pe=((be=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s,c){var l;return _classCallCheck(this,n),(l=t.call(this,e,i,r))._viewContainerRef=o,l._animationMode=s,l._hideToggle=!1,l.afterExpand=new O.p,l.afterCollapse=new O.p,l._inputChanges=new Y.a,l._headerId="mat-expansion-panel-header-".concat(Ce++),l._bodyAnimationDone=new Y.a,l.accordion=e,l._document=a,l._bodyAnimationDone.pipe(Object(ee.a)((function(e,t){return e.fromState===t.fromState&&e.toState===t.toState}))).subscribe((function(e){"void"!==e.fromState&&("expanded"===e.toState?l.afterExpand.emit():"collapsed"===e.toState&&l.afterCollapse.emit())})),c&&(l.hideToggle=c.hideToggle),l}return _createClass(n,[{key:"_hasSpacing",value:function(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}},{key:"_getExpandedState",value:function(){return this.expanded?"expanded":"collapsed"}},{key:"toggle",value:function(){this.expanded=!this.expanded}},{key:"close",value:function(){this.expanded=!1}},{key:"open",value:function(){this.expanded=!0}},{key:"ngAfterContentInit",value:function(){var e=this;this._lazyContent&&this.opened.pipe(Object(te.a)(null),Object(ne.a)((function(){return e.expanded&&!e._portal})),Object(ie.a)(1)).subscribe((function(){e._portal=new J.i(e._lazyContent._template,e._viewContainerRef)}))}},{key:"ngOnChanges",value:function(e){this._inputChanges.next(e)}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()}},{key:"_containsFocus",value:function(){if(this._body){var e=this._document.activeElement,t=this._body.nativeElement;return e===t||t.contains(e)}return!1}},{key:"hideToggle",get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(e){this._hideToggle=Object(x.c)(e)}},{key:"togglePosition",get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(e){this._togglePosition=e}}]),n}(Q)).\u0275fac=function(e){return new(e||be)(O.Yb(xe,12),O.Yb(O.i),O.Yb(W.d),O.Yb(O.U),O.Yb(c.d),O.Yb(R.a,8),O.Yb(Se,8))},be.\u0275cmp=O.Sb({type:be,selectors:[["mat-expansion-panel"]],contentQueries:function(e,t,n){var i;1&e&&O.Qb(n,Re,!0),2&e&&O.Cc(i=O.oc())&&(t._lazyContent=i.first)},viewQuery:function(e,t){var n;1&e&&O.Wc(se,!0),2&e&&O.Cc(n=O.oc())&&(t._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,t){2&e&&O.Ob("mat-expanded",t.expanded)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-expansion-panel-spacing",t._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[O.Jb([{provide:xe,useValue:void 0}]),O.Hb,O.Ib],ngContentSelectors:ue,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,t){1&e&&(O.wc(le),O.vc(0),O.ec(1,"div",0,1),O.nc("@bodyExpansion.done",(function(e){return t._bodyAnimationDone.next(e)})),O.ec(3,"div",2),O.vc(4,1),O.Nc(5,ce,0,0,"ng-template",3),O.dc(),O.vc(6,2),O.dc()),2&e&&(O.Kb(1),O.xc("@bodyExpansion",t._getExpandedState())("id",t.id),O.Lb("aria-labelledby",t._headerId),O.Kb(4),O.xc("cdkPortalOutlet",t._portal))},directives:[J.c],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[we.bodyExpansion]},changeDetection:0}),be),Ae=((ve=function(){function e(t,n,i,r,o){var a=this;_classCallCheck(this,e),this.panel=t,this._element=n,this._focusMonitor=i,this._changeDetectorRef=r,this._parentChangeSubscription=S.a.EMPTY,this._animationsDisabled=!0;var s=t.accordion?t.accordion._stateChanges.pipe(Object(ne.a)((function(e){return!(!e.hideToggle&&!e.togglePosition)}))):re.a;this._parentChangeSubscription=Object(oe.a)(t.opened,t.closed,s,t._inputChanges.pipe(Object(ne.a)((function(e){return!!(e.hideToggle||e.disabled||e.togglePosition)})))).subscribe((function(){return a._changeDetectorRef.markForCheck()})),t.closed.pipe(Object(ne.a)((function(){return t._containsFocus()}))).subscribe((function(){return i.focusVia(n,"program")})),i.monitor(n).subscribe((function(e){e&&t.accordion&&t.accordion._handleHeaderFocus(a)})),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}return _createClass(e,[{key:"_animationStarted",value:function(){this._animationsDisabled=!1}},{key:"_toggle",value:function(){this.disabled||this.panel.toggle()}},{key:"_isExpanded",value:function(){return this.panel.expanded}},{key:"_getExpandedState",value:function(){return this.panel._getExpandedState()}},{key:"_getPanelId",value:function(){return this.panel.id}},{key:"_getTogglePosition",value:function(){return this.panel.togglePosition}},{key:"_showToggle",value:function(){return!this.panel.hideToggle&&!this.panel.disabled}},{key:"_keydown",value:function(e){switch(e.keyCode){case w.n:case w.f:Object(w.s)(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",t=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._element,e,t)}},{key:"ngOnDestroy",value:function(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}},{key:"disabled",get:function(){return this.panel.disabled}}]),e}()).\u0275fac=function(e){return new(e||ve)(O.Yb(Pe,1),O.Yb(O.m),O.Yb(P.h),O.Yb(O.i),O.Yb(Se,8))},ve.\u0275cmp=O.Sb({type:ve,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header"],hostVars:19,hostBindings:function(e,t){1&e&&(O.Pb("@expansionHeight.start",(function(){return t._animationStarted()})),O.nc("click",(function(){return t._toggle()}))("keydown",(function(e){return t._keydown(e)}))),2&e&&(O.Lb("id",t.panel._headerId)("tabindex",t.disabled?-1:0)("aria-controls",t._getPanelId())("aria-expanded",t._isExpanded())("aria-disabled",t.panel.disabled),O.Vc("@.disabled",t._animationsDisabled)("@expansionHeight",O.Bc(16,fe,t._getExpandedState(),O.Bc(13,de,t.collapsedHeight,t.expandedHeight))),O.Ob("mat-expanded",t._isExpanded())("mat-expansion-toggle-indicator-after","after"===t._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===t._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:Oe,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,t){1&e&&(O.wc(Ie),O.ec(0,"span",0),O.vc(1),O.vc(2,1),O.vc(3,2),O.dc(),O.Nc(4,he,1,1,"span",1)),2&e&&(O.Kb(4),O.xc("ngIf",t._showToggle()))},directives:[c.n],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[we.indicatorRotate,we.expansionHeaderHeight]},changeDetection:0}),ve),Me=((ge=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ge)},ge.\u0275dir=O.Tb({type:ge,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),ge),ke=((me=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._ownHeaders=new O.H,e._hideToggle=!1,e.displayMode="default",e.togglePosition="after",e}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var e=this;this._headers.changes.pipe(Object(te.a)(this._headers)).subscribe((function(t){e._ownHeaders.reset(t.filter((function(t){return t.panel.accordion===e}))),e._ownHeaders.notifyOnChanges()})),this._keyManager=new P.g(this._ownHeaders).withWrap()}},{key:"_handleHeaderKeydown",value:function(e){var t=e.keyCode,n=this._keyManager;t===w.h?Object(w.s)(e)||(n.setFirstItemActive(),e.preventDefault()):t===w.e?Object(w.s)(e)||(n.setLastItemActive(),e.preventDefault()):this._keyManager.onKeydown(e)}},{key:"_handleHeaderFocus",value:function(e){this._keyManager.updateActiveItem(e)}},{key:"hideToggle",get:function(){return this._hideToggle},set:function(e){this._hideToggle=Object(x.c)(e)}}]),n}(K)).\u0275fac=function(e){return De(e||me)},me.\u0275dir=O.Tb({type:me,selectors:[["mat-accordion"]],contentQueries:function(e,t,n){var i;1&e&&O.Qb(n,Ae,!0),2&e&&O.Cc(i=O.oc())&&(t._headers=i)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,t){2&e&&O.Ob("mat-accordion-multi",t.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[O.Jb([{provide:xe,useExisting:me}]),O.Hb]}),me),De=O.gc(ke),Le=((_e=function e(){_classCallCheck(this,e)}).\u0275mod=O.Wb({type:_e}),_e.\u0275inj=O.Vb({factory:function(e){return new(e||_e)},imports:[[c.c,$,J.h]]}),_e),Ne=n("40Bj"),Ge=n("SKbq"),Fe=((ye=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,{currentSize:{width:0,height:0},startSize:{width:0,height:0},currentPosition:{x:0,y:0},startPosition:{x:0,y:0},isResizing:!1,direction:null})}return n}(Ge.a)).\u0275fac=function(e){return new(e||ye)},ye.\u0275prov=O.Ub({token:ye,factory:ye.\u0275fac}),ye),je=((Ee=function e(){_classCallCheck(this,e)}).\u0275mod=O.Wb({type:Ee}),Ee.\u0275inj=O.Vb({factory:function(e){return new(e||Ee)},providers:[Fe],imports:[[c.c]]}),Ee),Ue=n("oqI+"),Ve=n("Z2DH"),Be=n("D57K");!function(e){var t;!function(e){e[e.EN="en"]="EN",e[e.DE="de"]="DE",e[e.ES="es"]="ES",e[e.PT_BR="pt-BR"]="PT_BR",e[e.ZH_HK="zh-HK"]="ZH_HK",e[e.ZH_CN="zh-CN"]="ZH_CN",e[e.ZH_TW="zh-TW"]="ZH_TW",e[e.NL="nl"]="NL",e[e.FR="fr"]="FR",e[e.IT="it"]="IT",e[e.JA="ja"]="JA",e[e.KO="ko"]="KO",e[e.PT="pt"]="PT",e[e.RU="ru"]="RU",e[e.UK="uk"]="UK"}(t=e.AVAILABLE_LANGUAGES||(e.AVAILABLE_LANGUAGES={})),e.VERSION="2.0.0-beta.20",e.DEFAULT_BASE_URL="https://api.api.ai/v1/",e.DEFAULT_API_VERSION="20150910",e.DEFAULT_CLIENT_LANG=t.EN}(Te||(Te={}));var ze=function(e){_inherits(n,_wrapNativeSuper(Error));var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).message=e,i.stack=(new Error).stack,i}return n}(),qe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).name="ApiAiClientConfigurationError",i}return n}(ze),He=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,n),(i=t.call(this,e)).message=e,i.code=r,i.name="ApiAiRequestError",i}return n}(ze),Ye=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"ajax",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new Promise((function(a,s){var c=e.createXMLHTTPObject(),l=n,u=null;if(i&&t===e.Method.GET){l+="?";var d=0;for(var f in i)i.hasOwnProperty(f)&&(d++&&(l+="&"),l+=encodeURIComponent(f)+"="+encodeURIComponent(i[f]))}else i&&(r||(r={}),r["Content-Type"]="application/json; charset=utf-8",u=JSON.stringify(i));for(var h in o)h in c&&(c[h]=o[h]);if(c.open(e.Method[t],l,!0),r)for(var p in r)r.hasOwnProperty(p)&&c.setRequestHeader(p,r[p]);u?c.send(u):c.send(),c.onload=function(){c.status>=200&&c.status<300?a(c):s(c)},c.onerror=function(){s(c)}}))}},{key:"get",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.ajax(e.Method.GET,t,n,i,r)}},{key:"post",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.ajax(e.Method.POST,t,n,i,r)}},{key:"put",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.ajax(e.Method.PUT,t,n,i,r)}},{key:"delete",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.ajax(e.Method.DELETE,t,n,i,r)}},{key:"createXMLHTTPObject",value:function(){var t,n=null,i=_createForOfIteratorHelper(e.XMLHttpFactories);try{for(i.s();!(t=i.n()).done;){var r=t.value;try{n=r()}catch(o){continue}break}}catch(a){i.e(a)}finally{i.f()}return n}}]),e}();Ye.XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new window.ActiveXObject("Msxml2.XMLHTTP")},function(){return new window.ActiveXObject("Msxml3.XMLHTTP")},function(){return new window.ActiveXObject("Microsoft.XMLHTTP")}],function(e){!function(e){e[e.GET="GET"]="GET",e[e.POST="POST"]="POST",e[e.PUT="PUT"]="PUT",e[e.DELETE="DELETE"]="DELETE"}(e.Method||(e.Method={}))}(Ye||(Ye={}));var We,Xe=Ye,Ke=function(){function e(t,n){_classCallCheck(this,e),this.apiAiClient=t,this.options=n,this.uri=this.apiAiClient.getApiBaseUrl()+"query?v="+this.apiAiClient.getApiVersion(),this.requestMethod=Xe.Method.POST,this.headers={Authorization:"Bearer "+this.apiAiClient.getAccessToken()},this.options.lang=this.apiAiClient.getApiLang(),this.options.sessionId=this.apiAiClient.getSessionId()}return _createClass(e,[{key:"perform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Xe.ajax(this.requestMethod,this.uri,t||this.options,this.headers).then(e.handleSuccess.bind(this)).catch(e.handleError.bind(this))}}],[{key:"handleSuccess",value:function(e){return Promise.resolve(JSON.parse(e.responseText))}},{key:"handleError",value:function(e){var t=new He(null);try{var n=JSON.parse(e.responseText);t=n.status&&n.status.errorDetails?new He(n.status.errorDetails,n.status.code):new He(e.statusText,e.status)}catch(i){t=new He(e.statusText,e.status)}return Promise.reject(t)}}]),e}(),Ze=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Ke),Qe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Ke);!function(e){!function(e){e[e.ERR_NETWORK=0]="ERR_NETWORK",e[e.ERR_AUDIO=1]="ERR_AUDIO",e[e.ERR_SERVER=2]="ERR_SERVER",e[e.ERR_CLIENT=3]="ERR_CLIENT"}(e.ERROR||(e.ERROR={})),function(e){e[e.MSG_WAITING_MICROPHONE=0]="MSG_WAITING_MICROPHONE",e[e.MSG_MEDIA_STREAM_CREATED=1]="MSG_MEDIA_STREAM_CREATED",e[e.MSG_INIT_RECORDER=2]="MSG_INIT_RECORDER",e[e.MSG_RECORDING=3]="MSG_RECORDING",e[e.MSG_SEND=4]="MSG_SEND",e[e.MSG_SEND_EMPTY=5]="MSG_SEND_EMPTY",e[e.MSG_SEND_EOS_OR_JSON=6]="MSG_SEND_EOS_OR_JSON",e[e.MSG_WEB_SOCKET=7]="MSG_WEB_SOCKET",e[e.MSG_WEB_SOCKET_OPEN=8]="MSG_WEB_SOCKET_OPEN",e[e.MSG_WEB_SOCKET_CLOSE=9]="MSG_WEB_SOCKET_CLOSE",e[e.MSG_STOP=10]="MSG_STOP",e[e.MSG_CONFIG_CHANGED=11]="MSG_CONFIG_CHANGED"}(e.EVENT||(e.EVENT={}))}(We||(We={}));var $e,Je,et,tt,nt,it,rt,ot,at=function(){function e(t){if(_classCallCheck(this,e),!t||!t.accessToken)throw new qe("Access token is required for new ApiAi.Client instance");this.accessToken=t.accessToken,this.apiLang=t.lang||Te.DEFAULT_CLIENT_LANG,this.apiVersion=t.version||Te.DEFAULT_API_VERSION,this.apiBaseUrl=t.baseUrl||Te.DEFAULT_BASE_URL,this.sessionId=t.sessionId||this.guid()}return _createClass(e,[{key:"textRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new qe("Query should not be empty");return t.query=e,new Qe(this,t).perform()}},{key:"eventRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new qe("Event name can not be empty");return n.event={name:e,data:t},new Ze(this,n).perform()}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"getApiVersion",value:function(){return this.apiVersion?this.apiVersion:Te.DEFAULT_API_VERSION}},{key:"getApiLang",value:function(){return this.apiLang?this.apiLang:Te.DEFAULT_CLIENT_LANG}},{key:"getApiBaseUrl",value:function(){return this.apiBaseUrl?this.apiBaseUrl:Te.DEFAULT_BASE_URL}},{key:"setSessionId",value:function(e){this.sessionId=e}},{key:"getSessionId",value:function(){return this.sessionId}},{key:"guid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}]),e}(),st=new O.t("DIALOGFLOW_TOKEN"),ct=(($e=function(){function e(t){_classCallCheck(this,e),this.accessToken=t,this.client=new at({accessToken:t})}return _createClass(e,[{key:"process",value:function(e){return Object(Be.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.client.textRequest(e);case 3:return t.abrupt("return",t.sent.result.fulfillment.speech.replace(/<<(.*)>>/gi,""));case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"sanitize",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/[\n\r]+/g,"<br>")}}]),e}()).\u0275fac=function(e){return new(e||$e)(O.jc(st))},$e.\u0275prov=O.Ub({token:$e,factory:$e.\u0275fac}),$e),lt=n("AytR"),ut=n("vobO"),dt=((Je=function(){function e(t){_classCallCheck(this,e),this.httpClient=t,this.apiBaseUrl=lt.a.API_BASE_URL,this.entityPath="conversations"}return _createClass(e,[{key:"saveConversation",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||Je)(O.jc(ut.c))},Je.\u0275prov=O.Ub({token:Je,factory:Je.\u0275fac}),Je),ft=n("LTOS"),ht=((et=function(){function e(t,n){_classCallCheck(this,e),this.featureService=t,this.window=n,this.canUseSpeechSynthesis=!1,this.canUseSpeechSynthesis=this.featureService.detectFeature(ft.a.SpeechSynthesis).supported,this.canUseSpeechSynthesis&&(this.speechSynthesis=n.speechSynthesis)}return _createClass(e,[{key:"synthesisVoice",value:function(e,t){var n=new SpeechSynthesisUtterance(e);n.voice=t.voice,n.text=e,n.volume=t.volume,n.rate=t.rate,n.pitch=t.pitch,this.speechSynthesis.speak(n)}},{key:"getVoiceList",value:function(){return Object(Be.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="onvoiceschanged"in speechSynthesis,!e.t0){e.next=4;break}return e.next=4,new Promise((function(e,n){t.speechSynthesis.addEventListener("voiceschanged",e)}));case 4:return e.abrupt("return",this.speechSynthesis.getVoices());case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||et)(O.jc(ft.g),O.jc(ft.m))},et.\u0275prov=O.Ub({token:et,factory:et.\u0275fac}),et),pt=window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition||window.SpeechRecognition,mt=((tt=function(){function e(t,n){_classCallCheck(this,e),this.featureService=t,this.window=n,this.canUseSpeechRecognition=!1,this.canUseSpeechRecognition=this.featureService.detectFeature(ft.a.SpeechRecognition).supported,this.canUseSpeechRecognition&&(this.speechRecognition=new pt,this.speechRecognition.continuous=!1,this.speechRecognition.lang="en-US",this.speechRecognition.interimResults=!1,this.speechRecognition.maxAlternatives=1)}return _createClass(e,[{key:"getVoiceMessage",value:function(){var e=this;return new Promise((function(t,n){e.speechRecognition.onresult=function(e){var n="";if(e.results){var i=e.results[e.resultIndex],r=i[0].transcript;i.isFinal&&(i[0].confidence<.1?console.log("Unrecognized result - Please try again"):(n=r.trim(),console.log("Sentence: ".concat(n)),console.log("Confidence: ".concat(i[0].confidence)),t(n)))}},e.speechRecognition.onspeechend=function(t){e.speechRecognition.stop()},e.speechRecognition.onnomatch=function(e){console.log("No Match"),n("I didn't recognise your question.")},e.speechRecognition.onerror=function(e){console.log("Error: "+e.error),n(e.error)},e.speechRecognition.start()}))}}]),e}()).\u0275fac=function(e){return new(e||tt)(O.jc(ft.g),O.jc(ft.m))},tt.\u0275prov=O.Ub({token:tt,factory:tt.\u0275fac}),tt),gt=n("K8n8"),vt=n("8j5Y"),bt=function(e){return e[e.BOT=0]="BOT",e[e.USER=1]="USER",e[e.ADMIN=2]="ADMIN",e[e.GROUP=3]="GROUP",e[e.ALL=4]="ALL",e}({}),_t=function(e){return e[e.INCOMING=0]="INCOMING",e[e.OUTGOING=1]="OUTGOING",e}({}),Et=function(e){return e[e.SPEAK=0]="SPEAK",e[e.TYPE=1]="TYPE",e}({}),yt=function e(t,n){_classCallCheck(this,e),this.type=t,n&&(this.who=n)},Tt=function(){function e(t){_classCallCheck(this,e),Object.assign(this,t)}return _createClass(e,[{key:"render",value:function(){return this.content instanceof function(){return function e(t){_classCallCheck(this,e),Object.assign(this,t)}}()?this.content.render():this.content}},{key:"isIncoming",get:function(){return this.direction===_t.INCOMING}},{key:"isOutgoing",get:function(){return this.direction===_t.OUTGOING}}],[{key:"fromBotMessage",value:function(t){return new e({direction:_t.INCOMING,from:new yt(bt.BOT),to:new yt(bt.USER),content:t,timestamp:new Date,isRead:!1})}},{key:"fromUserMessage",value:function(t,n){return new e({direction:_t.OUTGOING,from:new yt(bt.USER),to:new yt(bt.BOT),content:t,timestamp:new Date,isRead:!0,mode:n})}}]),e}(),It=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,e),this.id=t,this.messages=n},Ot=function(){var e=function e(){_classCallCheck(this,e)};return e.type="[ChatBox] FetchConversations",e}(),xt=function(){var e=function e(){_classCallCheck(this,e)};return e.type="[ChatBox] CreateNewConversation",e}(),wt=function(){var e=function e(t){_classCallCheck(this,e),this.payload=t};return e.type="[ChatBox] SwitchConversation",e}(),Rt=function(){var e=function e(t){_classCallCheck(this,e),this.payload=t};return e.type="[ChatBox] SaveConversation",e}(),Ct=function(){var e=function e(t){_classCallCheck(this,e),this.payload=t};return e.type="[ChatBox] CloseConversation",e}(),St=function(){var e=function e(t){_classCallCheck(this,e),this.payload=t};return e.type="[ChatBox] AddMessage",e}(),Pt=function(){var e=function e(){_classCallCheck(this,e)};return e.type="[ChatBox] StartVoiceCommand",e}(),At=function(){var e=function e(t){_classCallCheck(this,e),this.payload=t};return e.type="[ChatBox] SendMessage",e}(),Mt=function e(){_classCallCheck(this,e)},kt=((rt=nt=function(){function e(t,n,i,r,o,a){var s=this;_classCallCheck(this,e),this.nlp=t,this.stt=n,this.tts=i,this.chat=r,this.store=o,this.actions$=a,this.actions$.pipe(Object(u.p)(St)).subscribe((function(e){switch(e.payload.message.to.type){case bt.BOT:return s.nlp.process(e.payload.message.content).then((function(t){o.dispatch(new St({conversationId:e.payload.conversationId,message:Tt.fromBotMessage(t)})),e.payload.message.mode===Et.SPEAK&&s.tts.synthesisVoice(t,s.store.selectSnapshot(nt.getVoicePreference))}))}}))}return _createClass(e,[{key:"ngxsAfterBootstrap",value:function(e){var t=e.patchState,n=e.dispatch;return Object(Be.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("ChatBoxState initialized, setting defaults"),!this.tts.canUseSpeechSynthesis){e.next=5;break}return e.next=3,this.tts.getVoiceList();case 3:i=e.sent,t({canUseSpeechRecognition:this.stt.canUseSpeechRecognition,canUseSpeechSynthesis:this.tts.canUseSpeechSynthesis,voices:i,voiceForm:{model:{voice:i[48],volume:1,rate:1,pitch:1},dirty:!1,status:"VALID",errors:{}}});case 5:n(new Ot);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"fetchConversations",value:function(e){console.log("fetching open conversations")}},{key:"createConversation",value:function(e){var t=new It("payload.conversationId");e.setState((function(e){return e.conversations.push(t),e.activeConversationId=t.id,e}))}},{key:"switchConversation",value:function(e,t){_objectDestructuringEmpty(t);var n=e.getState(),i=n.conversations[n.conversations.findIndex((function(e){return e.id===n.activeConversationId}))];i&&e.setState((function(e){return e.activeConversationId=i.id,e}))}},{key:"saveConversation",value:function(e,t){var n=t.payload;console.log("saving conversation ".concat(n.conversationId))}},{key:"closeConversation",value:function(e,t){var n=t.payload;console.log("close conversation ".concat(n.conversationId)),e.getState().conversations.find((function(e){return e.id===n.conversationId})),e.dispatch(new Rt({conversationId:n.conversationId})).pipe(Object(vt.a)((function(t){e.setState((function(e){return e.conversations.splice(e.conversations.findIndex((function(e){return e.id===n.conversationId})),1),e.activeConversationId=e.conversations[e.conversations.length-1].id,e}))})))}},{key:"addMessage",value:function(e,t){var n=t.payload;e.setState((function(e){var t=e.conversations.findIndex((function(e){return e.id===n.conversationId})),i=e.conversations[t];return e.conversations[t]=new It(i.id,[].concat(_toConsumableArray(i.messages),[n.message])),e.activeConversationId=e.conversations[t].id,e}))}},{key:"sendMessage",value:function(e,t){var n=t.payload;return Object(Be.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.dispatch(new St({conversationId:e.getState().activeConversationId,message:Tt.fromUserMessage(n.message,Et.TYPE)}));case 1:case"end":return t.stop()}}),t)})))}},{key:"startVoiceCommand",value:function(e){return Object(Be.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.stt.getVoiceMessage();case 2:n=t.sent,e.dispatch(new St({conversationId:e.getState().activeConversationId,message:Tt.fromUserMessage(n,Et.SPEAK)}));case 4:case"end":return t.stop()}}),t,this)})))}}],[{key:"canUseSpeechRecognition",value:function(e){return e.canUseSpeechRecognition}},{key:"canUseSpeechSynthesis",value:function(e){return e.canUseSpeechSynthesis}},{key:"loading",value:function(e){return e.loading}},{key:"getConversations",value:function(e){return e.conversations}},{key:"getActiveConversation",value:function(e){return e.conversations[e.conversations.findIndex((function(t){return t.id===e.activeConversationId}))]}},{key:"getConversationById",value:function(e){return Object(u.m)([nt],(function(t){return t.conversations.find((function(t){return t.id===e}))}))}},{key:"getVoices",value:function(e){return e.voices}},{key:"getVoicePreference",value:function(e){return e.voiceForm.model}}]),e}()).\u0275fac=function(e){return new(e||rt)(O.jc(ct),O.jc(mt),O.jc(ht),O.jc(dt),O.jc(u.j),O.jc(u.b))},rt.\u0275prov=O.Ub({token:rt,factory:rt.\u0275fac,providedIn:"root"}),Object(Be.c)([Object(u.a)(Ot),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Object]),Object(Be.e)("design:returntype",void 0)],rt.prototype,"fetchConversations",null),Object(Be.c)([Object(gt.a)(),Object(u.a)(xt),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Object]),Object(Be.e)("design:returntype",void 0)],rt.prototype,"createConversation",null),Object(Be.c)([Object(gt.a)(),Object(u.a)(wt),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Object,wt]),Object(Be.e)("design:returntype",void 0)],rt.prototype,"switchConversation",null),Object(Be.c)([Object(u.a)(Rt),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Object,Rt]),Object(Be.e)("design:returntype",void 0)],rt.prototype,"saveConversation",null),Object(Be.c)([Object(gt.a)(),Object(u.a)(Ct),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Object,Ct]),Object(Be.e)("design:returntype",void 0)],rt.prototype,"closeConversation",null),Object(Be.c)([Object(gt.a)(),Object(u.a)(St,{cancelUncompleted:!0}),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Object,St]),Object(Be.e)("design:returntype",void 0)],rt.prototype,"addMessage",null),Object(Be.c)([Object(u.a)(At,{cancelUncompleted:!0}),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Object,At]),Object(Be.e)("design:returntype",Promise)],rt.prototype,"sendMessage",null),Object(Be.c)([Object(u.a)(Pt,{cancelUncompleted:!0}),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Object]),Object(Be.e)("design:returntype",Promise)],rt.prototype,"startVoiceCommand",null),Object(Be.c)([Object(u.g)(),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Mt]),Object(Be.e)("design:returntype",void 0)],rt,"canUseSpeechRecognition",null),Object(Be.c)([Object(u.g)(),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Mt]),Object(Be.e)("design:returntype",void 0)],rt,"canUseSpeechSynthesis",null),Object(Be.c)([Object(u.g)(),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Mt]),Object(Be.e)("design:returntype",void 0)],rt,"loading",null),Object(Be.c)([Object(u.g)(),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Mt]),Object(Be.e)("design:returntype",void 0)],rt,"getConversations",null),Object(Be.c)([Object(u.g)(),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Mt]),Object(Be.e)("design:returntype",void 0)],rt,"getActiveConversation",null),Object(Be.c)([Object(u.g)(),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[String]),Object(Be.e)("design:returntype",void 0)],rt,"getConversationById",null),Object(Be.c)([Object(u.g)(),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Mt]),Object(Be.e)("design:returntype",void 0)],rt,"getVoices",null),Object(Be.c)([Object(u.g)(),Object(Be.e)("design:type",Function),Object(Be.e)("design:paramtypes",[Mt]),Object(Be.e)("design:returntype",void 0)],rt,"getVoicePreference",null),rt=nt=Object(Be.c)([Object(u.h)({name:"chatbox",defaults:{conversations:[],activeConversationId:null,canUseSpeechRecognition:!1,canUseSpeechSynthesis:!1,voices:[],voiceForm:{model:{voice:null,volume:1,rate:1,pitch:1},dirty:!1,status:"VALID",errors:{}},activeUsersBots:[],loading:!1}})],rt)),Dt=((it=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:st,useValue:t.accessToken}]}}}]),e}()).\u0275mod=O.Wb({type:it}),it.\u0275inj=O.Vb({factory:function(e){return new(e||it)},providers:[dt,ct,ht,mt],imports:[[c.c,l.s,je,Ue.d,Ve.a,Ne.a,y.b,H.b,E.u,f.b,h.c,b.c,_.e,m.g,I.c,p.b,T.g,q,g.b,v.e,Le,u.e.forFeature([kt]),d.a]]}),it),Lt=n("47kq"),Nt=n("BDe3"),Gt=n("OsmZ"),Ft=n("evwg"),jt=n("t6I5"),Ut=n("fBdv"),Vt=n("YtkY"),Bt=n("QvBt"),zt=n("AIZc"),qt=n("5pe5"),Ht=n("Y0z4"),Yt=((ot=function(){function e(t,n,i){_classCallCheck(this,e),this.store=t,this.menuService=n,this.mediaObserver=i,this.isMobile=!1}return _createClass(e,[{key:"onMouseEnter",value:function(){this.isIconSidenav&&!this.isMobile&&(this.collapsed=!1,this.menuService.currentlyOpen=this.currentlyOpen)}},{key:"onMouseLeave",value:function(){this.isIconSidenav&&!this.isMobile&&(this.collapsed=!0,this.currentlyOpen=this.menuService.currentlyOpen,this.menuService.currentlyOpen=[])}},{key:"ngOnInit",value:function(){var e=this;this.mediaSubscription=this.mediaObserver.asObservable().pipe(Object(ne.a)((function(e){return e.length>0})),Object(Vt.a)((function(e){return e[0]}))).subscribe((function(t){e.isMobile="xs"===t.mqAlias||"sm"===t.mqAlias}))}},{key:"ngOnDestroy",value:function(){this.mediaSubscription.unsubscribe()}},{key:"isIconSidenav",get:function(){return this.menuService.isIconSidenav}}]),e}()).\u0275fac=function(e){return new(e||ot)(O.Yb(u.j),O.Yb(Ht.b),O.Yb(Bt.g))},ot.\u0275dir=O.Tb({type:ot,selectors:[["","ngxIconSidenav",""]],hostVars:4,hostBindings:function(e,t){1&e&&O.nc("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()})),2&e&&O.Ob("icon-sidenav",t.isIconSidenav)("collapsed",t.collapsed)}}),ot),Wt=n("W1gw"),Xt=n("qFEQ"),Kt=n("GAih"),Zt=n("GobW");function Qt(e,t){if(1&e&&(O.ec(0,"span",9),O.Pc(1),O.dc()),2&e){var n=O.rc(3);O.Mc("background-color",n.item.badge.color),O.Kb(1),O.Qc(n.item.badge.value)}}var $t=function(e){return[e]},Jt=function(){return{exact:!0}};function en(e,t){if(1&e&&(O.ec(0,"a",5),O.ec(1,"mat-icon"),O.Pc(2),O.dc(),O.ec(3,"span",6),O.Pc(4),O.dc(),O.Zb(5,"span",7),O.Nc(6,Qt,2,3,"span",8),O.dc()),2&e){var n=O.rc(2);O.xc("routerLink",O.Ac(5,$t,n.item.link))("routerLinkActiveOptions",O.zc(7,Jt)),O.Kb(2),O.Qc(n.item.icon),O.Kb(2),O.Qc(n.item.name),O.Kb(2),O.xc("ngIf",n.item.badge)}}function tn(e,t){if(1&e){var n=O.fc();O.ec(0,"a",10),O.nc("click",(function(){return O.Gc(n),O.rc(2).toggleDropdown()})),O.ec(1,"mat-icon"),O.Pc(2),O.dc(),O.ec(3,"span",6),O.Pc(4),O.dc(),O.Zb(5,"span",7),O.ec(6,"mat-icon",11),O.Pc(7,"expand_more"),O.dc(),O.dc()}if(2&e){var i=O.rc(2);O.Kb(2),O.Qc(i.item.icon),O.Kb(2),O.Qc(i.item.name)}}function nn(e,t){1&e&&O.Zb(0,"ngx-sidenav-item",12),2&e&&O.xc("item",t.$implicit)}function rn(e,t){if(1&e&&(O.cc(0),O.Nc(1,en,7,8,"a",1),O.Nc(2,tn,8,2,"ng-template",null,2,O.Oc),O.ec(4,"mat-nav-list",3),O.Nc(5,nn,1,1,"ngx-sidenav-item",4),O.dc(),O.bc()),2&e){var n=O.Dc(3),i=O.rc();O.Kb(1),O.xc("ngIf",!((null==i.item.children?null:i.item.children.length)>0))("ngIfElse",n),O.Kb(3),O.Mc("height",i.getSubItemsHeight()),O.Kb(1),O.xc("ngForOf",i.item.children)}}var on,an=((on=function(){function e(t){_classCallCheck(this,e),this.menuService=t,this.sidenavItemClass=!0}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"toggleDropdown",value:function(){this.item.children&&this.item.children.length>0&&this.menuService.toggleItemOpen(this.item)}},{key:"getSubItemsHeight",value:function(){return 48*this.getOpenSubItemsCount(this.item)+"px"}},{key:"getOpenSubItemsCount",value:function(e){var t=this,n=0;return e.children&&e.children.length>0&&this.menuService.isOpen(e)&&(n+=e.children.length,e.children.forEach((function(e){n+=t.getOpenSubItemsCount(e)}))),n}},{key:"isOpen",get:function(){return this.menuService.isOpen(this.item)}}]),e}()).\u0275fac=function(e){return new(e||on)(O.Yb(Ht.b))},on.\u0275cmp=O.Sb({type:on,selectors:[["ngx-sidenav-item"]],hostVars:4,hostBindings:function(e,t){2&e&&O.Ob("open",t.isOpen)("sidenav-item",t.sidenavItemClass)},inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],["class","sidenav-anchor","mat-list-item","","matRipple","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngIf","ngIfElse"],["elseBlock",""],["fxLayout","column",1,"sidenav-list","sidenav-list-nested"],[3,"item",4,"ngFor","ngForOf"],["mat-list-item","","matRipple","","routerLinkActive","active",1,"sidenav-anchor",3,"routerLink","routerLinkActiveOptions"],[1,"sidenav-item-name","fade-in-on-icon-sidenav"],["fxFlex",""],["class","badge fade-in-on-icon-sidenav",3,"background-color",4,"ngIf"],[1,"badge","fade-in-on-icon-sidenav"],["mat-list-item","","matRipple","",1,"sidenav-anchor",3,"click"],[1,"sidenav-item-dropdown-indicator","rotate","fade-in-on-icon-sidenav"],[3,"item"]],template:function(e,t){1&e&&O.Nc(0,rn,6,5,"ng-container",0),2&e&&O.xc("ngIf",!0!==t.item.disabled)},directives:[c.n,_.g,Xt.e,c.m,_.d,r.l,E.t,r.k,p.a,Xt.b,on],styles:[':host{display:block}mat-nav-list a.sidenav-anchor.mat-list-item .mat-list-item-content{padding-left:24px;padding-right:24px}mat-nav-list a.sidenav-anchor .sidenav-item-name{margin-left:24px;font-size:14px}mat-nav-list a.sidenav-anchor mat-icon{width:18px;height:18px;font-size:18px;line-height:18px}.sidenav-list{transition:height .4s cubic-bezier(.35,0,.25,1)}.sidenav-list>ngx-sidenav-item.open>.sidenav-anchor .sidenav-item-dropdown-indicator{transform:rotate(180deg)}.sidenav-list>ngx-sidenav-item .sidenav-item-dropdown-indicator{transition:transform .25s}.sidenav-list>ngx-sidenav-item .badge{padding:4px 8px;font-size:12px;background:#2196f3;border-radius:5px;color:#fff}.sidenav-toplevel .sidenav-anchor{position:relative;cursor:pointer;color:#a7a9ae;transition:color .1s;outline:none}.sidenav-toplevel .sidenav-anchor.active,.sidenav-toplevel .sidenav-anchor:hover{color:#fff}.sidenav-toplevel>.sidenav-item>.sidenav-anchor.active,.sidenav-toplevel>.sidenav-item>.sidenav-anchor:hover{background:#272b35}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item{background:#262a34}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor.active,.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor:hover{background:#22262f}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item{background:#20242c}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor{padding-left:10px}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor.active,.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor:hover{background:#1d2028}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item{background:#1b1e25}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor{padding-left:20px}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor.active,.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor:hover{background:#181a20}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item{background:#16181e}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor{padding-left:30px}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor.active,.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor:hover{background:#121419}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item{background:#101216}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor{padding-left:40px}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor.active,.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-anchor:hover{background:#0d0e12}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item .sidenav-list-nested>.sidenav-item>.sidenav-anchor{padding-left:40px}.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item .sidenav-list-nested>.sidenav-item>.sidenav-anchor.active,.sidenav-toplevel>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item>.sidenav-list-nested>.sidenav-item .sidenav-list-nested>.sidenav-item>.sidenav-anchor:hover{background:#08080a}.sidenav-toplevel .sidenav-item .sidenav-list-nested{position:relative;padding:0;overflow:hidden}.sidenav-toplevel .sidenav-item .sidenav-list-nested:after,.sidenav-toplevel .sidenav-item .sidenav-list-nested:before{content:" ";left:0;position:absolute;width:100%;height:2px;z-index:3}.sidenav-toplevel .sidenav-item .sidenav-list-nested:before{background:linear-gradient(180deg,rgba(0,0,0,.3),transparent);top:0}.sidenav-toplevel .sidenav-item .sidenav-list-nested:after{background:linear-gradient(-180deg,rgba(0,0,0,.3),transparent);bottom:0}'],encapsulation:2}),on);function sn(e,t){1&e&&O.Zb(0,"ngx-sidenav-item",13),2&e&&O.xc("item",t.$implicit)}var cn,ln,un=((cn=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.router=t,this.menuService=n,this.snackBar=i,this.cd=r,this.window=o,this.destroyed$=new Y.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.menuService.items$.subscribe((function(t){e.items=t}))}},{key:"ngOnDestroy",value:function(){}},{key:"toggleIconSidenav",value:function(){var e=this;setTimeout((function(){e.window.dispatchEvent(new Event("resize"))}),300),this.menuService.isIconSidenav=!this.menuService.isIconSidenav,this.menuService.isIconSidenav&&this.snackBar.open("You activated Icon-Sidenav, move your mouse to the content and see what happens!","",{duration:1e4})}},{key:"isIconSidenav",value:function(){return this.menuService.isIconSidenav}}]),e}()).\u0275fac=function(e){return new(e||cn)(O.Yb(r.i),O.Yb(Ht.b),O.Yb(Wt.a),O.Yb(O.i),O.Yb(ft.m))},cn.\u0275cmp=O.Sb({type:cn,selectors:[["ngx-sidenav"]],decls:15,vars:3,consts:[["fxLayout","column",1,"sidenav-container"],[1,"sidenav-toolbar","mat-elevation-z2"],["fxLayout","row",2,"width","100%"],["fxFlexAlign","center",2,"width","22px","text-align","center","margin-left","-3px"],["src","assets/img/logo-icon2.png",2,"width","25px","vertical-align","text-top"],["src","assets/img/logo_text.png","fxFlexAlign","center",1,"fade-in-on-icon-sidenav",2,"height","35px","margin-left","24px","margin-bottom","-5px"],["fxFlex",""],["fxHide","true","fxHide.gt-sm","false","fxFlexAlign","center"],["mat-icon-button","",3,"click"],[1,"icon-sidenav-toggle","fade-in-on-icon-sidenav"],["fxLayout","column",1,"sidenav-scrollbar-container"],["fxLayout","column",1,"sidenav-list","sidenav-toplevel"],[3,"item",4,"ngFor","ngForOf"],[3,"item"]],template:function(e,t){1&e&&(O.ec(0,"div",0),O.ec(1,"mat-toolbar",1),O.ec(2,"div",2),O.ec(3,"span",3),O.Zb(4,"img",4),O.dc(),O.Zb(5,"img",5),O.Zb(6,"span",6),O.ec(7,"div",7),O.ec(8,"button",8),O.nc("click",(function(){return t.toggleIconSidenav()})),O.ec(9,"mat-icon",9),O.Pc(10,"chevron_left"),O.dc(),O.dc(),O.dc(),O.dc(),O.dc(),O.ec(11,"div",10),O.ec(12,"perfect-scrollbar"),O.ec(13,"mat-nav-list",11),O.Nc(14,sn,1,1,"ngx-sidenav-item",12),O.dc(),O.dc(),O.dc(),O.dc()),2&e&&(O.Kb(9),O.Ob("rotate",t.isIconSidenav()),O.Kb(5),O.xc("ngForOf",t.items))},directives:[Xt.e,H.a,Xt.a,Xt.b,Kt.b,h.b,p.a,Zt.b,_.g,c.m,an],styles:["mat-toolbar.mat-toolbar.sidenav-toolbar{background:#272b35;padding:0 14px 0 24px;z-index:3}.sidenav-container,.sidenav-scrollbar-container{height:100%}.cdk-focus-trap-content,mat-sidenav{overflow-y:hidden!important;overflow-x:hidden}.icon-sidenav-toggle{color:#a7a9ae;transition:transform .25s}.icon-sidenav-toggle.rotate{transform:rotate(-180deg)}.sidenav{width:250px;max-width:250px;background:#2b303b;overflow-x:hidden;z-index:4}@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes fadein{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeout{0%{opacity:1}to{opacity:0}}@keyframes fadeout{0%{opacity:1}to{opacity:0}}@media screen and (min-width:960px){.sidenav+.cdk-visually-hidden+.mat-drawer-content,.sidenav+.mat-drawer-content{transition:all .4s cubic-bezier(.25,.8,.25,1);transition-property:transform,max-width,margin-left,margin-right!important;margin-left:0!important;background:#eee;z-index:5;overflow:hidden;box-shadow:inset 7px 0 9px -7px rgba(0,0,0,.4);max-width:calc(100% - 250px);transform:translate3d(250px,0,0)!important}.sidenav.icon-sidenav.collapsed+.cdk-visually-hidden+.mat-drawer-content,.sidenav.icon-sidenav.collapsed+.mat-drawer-content{max-width:calc(100% - 68px);transform:translate3d(68px,0,0)!important}.sidenav.icon-sidenav+.cdk-visually-hidden+.mat-drawer-content,.sidenav.icon-sidenav+.mat-drawer-content{max-width:calc(100% - 68px)}.sidenav.collapsed .fade-in-on-icon-sidenav{-webkit-animation:fadeout .5s cubic-bezier(.25,.8,.25,1) 0s 1 normal forwards;animation:fadeout .5s cubic-bezier(.25,.8,.25,1) 0s 1 normal forwards}.sidenav:not(.collapsed) .fade-in-on-icon-sidenav{-webkit-animation:fadein .5s cubic-bezier(.25,.8,.25,1) 0s 1 normal forwards;animation:fadein .5s cubic-bezier(.25,.8,.25,1) 0s 1 normal forwards}}"],encapsulation:2}),cn=Object(Be.c)([Object(Ut.a)()],cn)),dn=n("8LFz"),fn=n("KTx3"),hn=n("IdLP"),pn=n("kuMc"),mn={x:-1/0,y:-1/0,width:1/0,height:1/0},gn=((ln=function(){function e(){_classCallCheck(this,e),this.state={currentSize:{width:0,height:0},startSize:{width:0,height:0},currentPosition:{x:0,y:0},startPosition:{x:0,y:0},isResizing:!1,direction:null},this.reducers=[]}return _createClass(e,[{key:"addReducer",value:function(e){this.reducers.push(e)}},{key:"emitAction",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.state=this.reducers.reduce((function(t,i){return i.apply(null,[t,e].concat(n))}),this.state)}}]),e}()).\u0275fac=function(e){return new(e||ln)},ln.\u0275prov=O.Ub({token:ln,factory:ln.\u0275fac}),ln),vn=function(e,t,n){return e<=t.minSize.width&&(e=t.minSize.width),e>=t.maxSize.width&&(e=t.maxSize.width),e+n.x>=t.bound.x+t.bound.width&&(e-=e+n.x-(t.bound.x+t.bound.width)),{nextWidth:e,nextLeft:n.x}},bn=function(e,t,n){return e<=t.minSize.height&&(e=t.minSize.height),e>=t.maxSize.height&&(e=t.maxSize.height),e+n.y>=t.bound.y+t.bound.height&&(e-=e+n.y-(t.bound.y+t.bound.height)),{nextHeight:e,nextTop:n.y}},_n=function(e,t,n,i){var r=t.x+(n.width-e);return e<=i.minSize.width&&(r-=i.minSize.width-e,e=i.minSize.width),e>=i.maxSize.width&&(r+=e-i.maxSize.width,e=i.maxSize.width),r<=i.bound.x&&(e-=i.bound.x-r,r=i.bound.x),{nextWidth:e,nextLeft:r}},En=function(e,t,n,i,r,o,a){if(r.disabled)return e;var s=e.startPosition,c=e.startSize,l=e.currentSize,u=e.currentPosition;switch(t){case"resize-mouse-down":if(!a)throw new Error("Direction not provided");e.direction=a,e.isResizing=!0,s.x=n.x,s.y=n.y,u.x=i.x,u.y=i.y,l.width=o.width,l.height=o.height,c.width=o.width,c.height=o.height;break;case"resize-resize":if(!e.isResizing)return e;var d=l.width,f=l.height,h=u.x,p=u.y;if(/right/.test(e.direction)&&(d=vn(n.x-s.x+c.width,r,e.currentPosition).nextWidth),/bottom/.test(e.direction)&&(f=bn(n.y-s.y+c.height,r,e.currentPosition).nextHeight),/top/.test(e.direction)){var m=function(e,t,n,i){var r=t.y+(n.height-e);return e<=i.minSize.height&&(r-=i.minSize.height-e,e=i.minSize.height),e>=i.maxSize.height&&(r+=e-i.maxSize.height,e=i.maxSize.height),r<=i.bound.y&&(e-=i.bound.y-r,r=i.bound.y),{nextHeight:e,nextTop:r}}(s.y-n.y+c.height,u,l,r);p=m.nextTop,f=m.nextHeight}if(/left/.test(e.direction)){var g=_n(s.x-n.x+c.width,u,l,r);h=g.nextLeft,d=g.nextWidth}if(r.ratio){var v=function(e,t,n,i,r,o){var a,s=e.nextWidth,c=e.nextHeight,l=e.nextTop,u=e.nextLeft,d=t.bound;switch(d.x=parseInt(d.x.toFixed(),10),d.y=parseInt(d.y.toFixed(),10),d.width=parseInt(d.width.toFixed(),10),d.height=parseInt(d.height.toFixed(),10),r){case"left":u+=s-(c=bn(t.ratio*s,t,o).nextHeight)/t.ratio,s=c/t.ratio;break;case"right":s=(c=bn(t.ratio*s,t,o).nextHeight)/t.ratio;break;case"top":l+=c-(s=vn(c/t.ratio,t,o).nextWidth)*t.ratio,c=t.ratio*s;break;case"bottom":case"bottom-right":s=vn(c/t.ratio,t,o).nextWidth,c=t.ratio*s;break;case"top-left":u=(a=_n(c/t.ratio,n,i,t)).nextLeft,(s=a.nextWidth)<c/t.ratio&&(l+=c-s*t.ratio,c=s*t.ratio);break;case"bottom-left":u=(a=_n(c/t.ratio,n,i,t)).nextLeft,(s=a.nextWidth)<c/t.ratio&&(c=s*t.ratio);break;case"top-right":(s=(a=vn(c/t.ratio,t,o)).nextWidth)<c/t.ratio&&(l+=c-s*t.ratio,c=s*t.ratio)}return{nextWidth:s,nextHeight:c,nextTop:l,nextLeft:u}}({nextTop:p,nextWidth:d,nextHeight:f,nextLeft:h},r,u,l,e.direction,e.currentPosition);h=v.nextLeft,p=v.nextTop,d=v.nextWidth,f=v.nextHeight}u.x=Math.round(h/r.grid.width)*r.grid.width,u.y=Math.round(p/r.grid.height)*r.grid.height,l.width=Math.round(d/r.grid.width)*r.grid.width,l.height=Math.round(f/r.grid.height)*r.grid.height;break;case"resize-stop":e.isResizing=!1,c.width=l.width,c.height=l.height}return e},yn=["resizable",""];function Tn(e,t){if(1&e){var n=O.fc();O.ec(0,"div",1),O.nc("mousedown",(function(e){O.Gc(n);var i=t.$implicit;return O.rc().onMouseDown(e,i)}))("touchstart",(function(e){O.Gc(n);var i=t.$implicit;return O.rc().onMouseDown(e,i)})),O.dc()}2&e&&O.xc("ngClass","ngr-"+t.$implicit)}var In,On=["*"],xn=((In=function(){function e(t,n,i,r){_classCallCheck(this,e),this.el=t,this.store=n,this.renderer=i,this.rState=r,this.resizeStart=new O.p,this.resizing=new O.p,this.resizeEnd=new O.p,this.minWidth=350,this.minHeight=400,this.maxWidth=1/0,this.maxHeight=1/0,this.disableResize=!1,this.directions=["bottom","right"],this.grid={width:1,height:1},this.bound=null,this.ratio=null}return _createClass(e,[{key:"ngOnInit",value:function(){this.renderer.addClass(this.el.nativeElement,"ngresizable");var e=getComputedStyle(this.el.nativeElement);this.width=e.width?parseInt(e.width,10):this.width,this.height=e.height?parseInt(e.height,10):this.height,this.minWidth=e.minWidth?parseInt(e.minWidth,10):this.minWidth,this.minHeight=e.minHeight?parseInt(e.minHeight,10):this.minHeight,this.maxWidth=e.maxWidth?parseInt(e.maxWidth,10):this.maxWidth,this.maxHeight=e.maxHeight?parseInt(e.maxHeight,10):this.maxHeight,this.store.addReducer(En),this.setSize({width:this.width,height:this.height},{x:this.x,y:this.y})}},{key:"ngOnChanges",value:function(e){this.setSize({width:this.width,height:this.height},{x:this.x,y:this.y})}},{key:"onMouseMove",value:function(e){e.touches&&(e=e.touches[0]),this._state.isResizing&&(this.emitAction("resize-resize",{x:e.clientX,y:e.clientY}),this.setSize(this._state.currentSize,this._state.currentPosition),this.emitEvent(this.resizing))}},{key:"onMouseDown",value:function(e,t){e.touches&&(e=e.touches[0]),this.emitAction("resize-mouse-down",{x:e.clientX,y:e.clientY},{x:this.el.nativeElement.offsetLeft,y:this.el.nativeElement.offsetTop},{width:this.el.nativeElement.offsetWidth,height:this.el.nativeElement.offsetHeight},t),this.emitEvent(this.resizeStart)}},{key:"onMouseUp",value:function(e){this.emitAction("resize-stop",{x:0,y:0},{x:0,y:0}),this.emitEvent(this.resizeEnd)}},{key:"emitAction",value:function(e,t,n,i,r){this.store.emitAction(e,t,n,{minSize:{width:this.minWidth,height:this.minHeight},maxSize:{width:this.maxWidth,height:this.maxHeight},grid:this.grid,ratio:this.ratio,disabled:this.disableResize,directions:this.directions,bound:this.bound||mn},i,r)}},{key:"emitEvent",value:function(e){e.next({position:this._state.currentPosition,size:this._state.currentSize,direction:this._state.direction})}},{key:"setSize",value:function(e,t){this.width=e.width,this.height=e.height,this.x=t.x,this.y=t.y,this.renderer.setStyle(this.el.nativeElement,"width",this.width+"px"),this.renderer.setStyle(this.el.nativeElement,"height",this.height+"px"),this.renderer.setStyle(this.el.nativeElement,"left",this.x+"px"),this.renderer.setStyle(this.el.nativeElement,"top",this.y+"px")}},{key:"_state",get:function(){return this.store.state}}]),e}()).\u0275fac=function(e){return new(e||In)(O.Yb(O.m),O.Yb(gn),O.Yb(O.I),O.Yb(Fe))},In.\u0275cmp=O.Sb({type:In,selectors:[["","resizable",""]],hostBindings:function(e,t){1&e&&O.nc("mouseup",(function(e){return t.onMouseUp(e)}),!1,O.Fc)("touchend",(function(e){return t.onMouseUp(e)}),!1,O.Fc)("mousemove",(function(e){return t.onMouseMove(e)}),!1,O.Fc)("touchmove",(function(e){return t.onMouseMove(e)}),!1,O.Fc)},inputs:{x:"x",y:"y",width:"width",height:"height",minWidth:"minWidth",minHeight:"minHeight",maxWidth:"maxWidth",maxHeight:"maxHeight",disableResize:"disableResize",directions:"directions",grid:"grid",bound:"bound",ratio:"ratio"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},features:[O.Jb([gn]),O.Ib],attrs:yn,ngContentSelectors:On,decls:2,vars:1,consts:[["class","ngr-grabber",3,"ngClass","mousedown","touchstart",4,"ngFor","ngForOf"],[1,"ngr-grabber",3,"ngClass","mousedown","touchstart"]],template:function(e,t){1&e&&(O.wc(),O.vc(0),O.Nc(1,Tn,1,1,"div",0)),2&e&&(O.Kb(1),O.xc("ngForOf",t.directions))},directives:[c.m,c.l],styles:['.ngr-grabber[_ngcontent-%COMP%]{position:absolute}.ngr-grabber.ngr-bottom[_ngcontent-%COMP%], .ngr-grabber.ngr-top[_ngcontent-%COMP%]{cursor:ns-resize;width:100%;height:14px}.ngr-grabber.ngr-left[_ngcontent-%COMP%], .ngr-grabber.ngr-right[_ngcontent-%COMP%]{cursor:ew-resize;width:14px;height:100%}.ngr-grabber.ngr-bottom[_ngcontent-%COMP%]:after, .ngr-grabber.ngr-bottom[_ngcontent-%COMP%]:before, .ngr-grabber.ngr-left[_ngcontent-%COMP%]:after, .ngr-grabber.ngr-left[_ngcontent-%COMP%]:before, .ngr-grabber.ngr-right[_ngcontent-%COMP%]:after, .ngr-grabber.ngr-right[_ngcontent-%COMP%]:before, .ngr-grabber.ngr-top[_ngcontent-%COMP%]:after, .ngr-grabber.ngr-top[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:1}.ngr-grabber.ngr-bottom[_ngcontent-%COMP%]:before, .ngr-grabber.ngr-left[_ngcontent-%COMP%]:before, .ngr-grabber.ngr-right[_ngcontent-%COMP%]:before, .ngr-grabber.ngr-top[_ngcontent-%COMP%]:before{border-radius:7px;width:7px;height:7px}.ngr-grabber.ngr-bottom[_ngcontent-%COMP%]:after, .ngr-grabber.ngr-top[_ngcontent-%COMP%]:after{width:100%;height:2px;top:50%;left:0}.ngr-grabber.ngr-left[_ngcontent-%COMP%]:after, .ngr-grabber.ngr-right[_ngcontent-%COMP%]:after{width:2px;height:100%;left:50%}.ngr-grabber.ngr-bottom[_ngcontent-%COMP%]:before, .ngr-grabber.ngr-top[_ngcontent-%COMP%]:before{left:50%;top:4px;transform:translateX(-50%)}.ngr-grabber.ngr-left[_ngcontent-%COMP%]:before, .ngr-grabber.ngr-right[_ngcontent-%COMP%]:before{top:50%;left:4px;transform:translateY(-50%)}.ngr-grabber.ngr-bottom[_ngcontent-%COMP%], .ngr-grabber.ngr-top[_ngcontent-%COMP%]{left:0}.ngr-grabber.ngr-top[_ngcontent-%COMP%]{top:-7px}.ngr-grabber.ngr-bottom[_ngcontent-%COMP%]{bottom:-7px}.ngr-grabber.ngr-left[_ngcontent-%COMP%], .ngr-grabber.ngr-right[_ngcontent-%COMP%]{top:0}.ngr-grabber.ngr-left[_ngcontent-%COMP%]{left:-7px}.ngr-grabber.ngr-right[_ngcontent-%COMP%]{right:-7px}.ngr-grabber.ngr-bottom-left[_ngcontent-%COMP%], .ngr-grabber.ngr-bottom-right[_ngcontent-%COMP%], .ngr-grabber.ngr-top-left[_ngcontent-%COMP%], .ngr-grabber.ngr-top-right[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;border-radius:4px;z-index:1}.ngr-grabber.ngr-top-left[_ngcontent-%COMP%]{cursor:nwse-resize;top:-5px;left:-5px}.ngr-grabber.ngr-top-right[_ngcontent-%COMP%]{cursor:nesw-resize;top:-5px;right:-5px}.ngr-grabber.ngr-bottom-left[_ngcontent-%COMP%]{cursor:nesw-resize;bottom:-5px;left:-5px}.ngr-grabber.ngr-bottom-right[_ngcontent-%COMP%]{cursor:nwse-resize;bottom:-5px;right:-5px}']}),In);function wn(e,t){if(1&e&&(O.ec(0,"mat-option",9),O.Pc(1),O.dc()),2&e){var n=t.$implicit;O.xc("value",n),O.Kb(1),O.Sc(" ",n.name,"[",n.lang,"] ")}}var Rn,Cn,Sn=((Cn=function(){function e(t,n){_classCallCheck(this,e),this.store=t,this.fb=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.voices=this.store.selectSnapshot(kt.getVoices),this.buildForm()}},{key:"buildForm",value:function(){this.voiceForm=this.fb.group({voice:[this.voices[48]],volume:[1,l.u.required],rate:[1,l.u.required],pitch:[1,l.u.required]})}},{key:"reset",value:function(){this.store.dispatch(new d.b({path:"chatbox.voiceForm",value:{voice:this.voices[48],volume:1,rate:1,pitch:1},dirty:!1,status:"VALID",errors:{}}))}}]),e}()).\u0275fac=function(e){return new(e||Cn)(O.Yb(u.j),O.Yb(l.e))},Cn.\u0275cmp=O.Sb({type:Cn,selectors:[["ngx-text-to-speech-preferences"]],decls:22,vars:2,consts:[["ngxsForm","chatbox.voiceForm","fxLayout","column",3,"formGroup"],["placeholder","Favorite Voice","formControlName","voice"],[3,"value",4,"ngFor","ngForOf"],["matTooltip","Volume","formControlName","volume","min","0","max","1","step","0.1","thumbLabel",""],[2,"margin-right","20px"],["formControlName","rate","min","0.1","max","10","step","0.1","thumbLabel",""],[2,"margin-right","16px"],["formControlName","pitch","min","0","max","2","step","0.1","thumbLabel",""],["mat-button","","color","warn",3,"click"],[3,"value"]],template:function(e,t){1&e&&(O.ec(0,"mat-card"),O.ec(1,"form",0),O.ec(2,"mat-card-content"),O.ec(3,"div"),O.ec(4,"mat-form-field"),O.ec(5,"mat-select",1),O.Nc(6,wn,2,3,"mat-option",2),O.dc(),O.dc(),O.dc(),O.ec(7,"div"),O.ec(8,"mat-label"),O.Pc(9,"Volume"),O.dc(),O.Zb(10,"mat-slider",3),O.dc(),O.ec(11,"div"),O.ec(12,"mat-label",4),O.Pc(13,"Rate"),O.dc(),O.Zb(14,"mat-slider",5),O.dc(),O.ec(15,"div"),O.ec(16,"mat-label",6),O.Pc(17,"Pitch"),O.dc(),O.Zb(18,"mat-slider",7),O.dc(),O.dc(),O.ec(19,"mat-card-actions"),O.ec(20,"button",8),O.nc("click",(function(){return t.reset()})),O.Pc(21,"Reset"),O.dc(),O.dc(),O.dc(),O.dc()),2&e&&(O.Kb(1),O.xc("formGroup",t.voiceForm),O.Kb(5),O.xc("ngForOf",t.voices))},directives:[m.a,l.v,l.p,d.c,Xt.e,l.j,m.d,v.c,y.a,l.o,l.h,c.m,v.g,G,m.b,h.b,E.o],styles:[""]}),Cn),Pn=((Rn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Rn)},Rn.\u0275cmp=O.Sb({type:Rn,selectors:[["typing-indicator"]],decls:4,vars:0,consts:[[1,"typing-indicator"]],template:function(e,t){1&e&&(O.ec(0,"div",0),O.Zb(1,"span"),O.Zb(2,"span"),O.Zb(3,"span"),O.dc())},styles:['.typing-indicator[_ngcontent-%COMP%]{background-color:#e6e7ed;will-change:transform;width:auto;border-radius:33px;padding:10px;display:inline-block;margin:5px auto 0;top:-10px;position:relative;-webkit-animation:bulge 2s ease-out infinite;animation:bulge 2s ease-out infinite}.typing-indicator[_ngcontent-%COMP%]:after, .typing-indicator[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-2px;left:-2px;height:10px;width:10px;border-radius:40%;background-color:#e6e7ed}.typing-indicator[_ngcontent-%COMP%]:after{height:5px;width:5px;left:-5px;bottom:-5px}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:6px;width:6px;float:left;margin:0 1px;background-color:#9e9ea1;display:block;border-radius:50%;opacity:.4}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{-webkit-animation:blink 1s .3333s infinite;animation:blink 1s .3333s infinite}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){-webkit-animation:blink 1s .6666s infinite;animation:blink 1s .6666s infinite}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(3){-webkit-animation:blink 1s .9999s infinite;animation:blink 1s .9999s infinite}@-webkit-keyframes blink{50%{opacity:1}}@keyframes blink{50%{opacity:1}}@-webkit-keyframes bulge{50%{transform:scale(1.05)}}@keyframes bulge{50%{transform:scale(1.05)}}']}),Rn),An=["bottom"],Mn=["input"];function kn(e,t){if(1&e){var n=O.fc();O.ec(0,"button",6),O.ec(1,"mat-icon",7),O.nc("click",(function(){return O.Gc(n),O.rc(),O.Dc(14).toggle()})),O.Pc(2,"settings"),O.dc(),O.dc()}}function Dn(e,t){1&e&&O.Zb(0,"ngx-text-to-speech-preferences")}var Ln=function(e,t){return{from:e,to:t}};function Nn(e,t){if(1&e&&(O.ec(0,"div",24),O.Pc(1),O.dc()),2&e){var n=t.$implicit;O.xc("ngClass",O.Bc(2,Ln,n.isIncoming,n.isOutgoing)),O.Kb(1),O.Rc(" ",n.render()," ")}}function Gn(e,t){1&e&&O.Zb(0,"typing-indicator")}function Fn(e,t){if(1&e){var n=O.fc();O.ec(0,"mat-icon",25),O.nc("click",(function(){return O.Gc(n),O.rc().startTalkingToBot()})),O.Pc(1,"keyboard_voice"),O.dc()}}var jn,Un,Vn,Bn,zn,qn,Hn=function(){return["bottom","top","left","right","top-left","bottom-left","top-right","bottom-right"]},Yn=((jn=function(){function e(t){_classCallCheck(this,e),this.store=t,this.showChatBox=!1,this.typing=!1,this.canUseSpeechRecognition=!1,this.canUseSpeechSynthesis=!1,this.canUseSpeechRecognition=this.store.selectSnapshot(kt.canUseSpeechRecognition),this.canUseSpeechSynthesis=this.store.selectSnapshot(kt.canUseSpeechSynthesis),this.voices=this.store.selectSnapshot(kt.getVoices)}return _createClass(e,[{key:"ngOnInit",value:function(){this.store.dispatch(new Ot),this.store.selectSnapshot(kt.getActiveConversation)||this.store.dispatch(new xt)}},{key:"ngOnDestroy",value:function(){}},{key:"focus",value:function(){var e=this;setTimeout((function(){e.input.nativeElement.focus(),void 0!==e.bottom&&e.bottom.nativeElement.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),e.checkTyping()}),100)}},{key:"sendMessageToBot",value:function(){return Object(Be.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.store.dispatch(new At({message:this.input.nativeElement.value})),this.input.nativeElement.value="",this.focus();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"startTalkingToBot",value:function(){return Object(Be.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.store.dispatch(new Pt);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"toggleChatBox",value:function(){this.showChatBox=!this.showChatBox,this.showChatBox&&this.focus()}},{key:"checkTyping",value:function(){var e=this;console.log("in checkTyping");var t=Object(fn.a)(this.input.nativeElement,"keydown"),n=Object(fn.a)(this.input.nativeElement,"keyup").pipe(Object(ne.a)((function(e){return"Enter"===e.key})),Object(ie.a)(1));t.pipe(Object(pn.a)(n)).subscribe((function(){return e.typing=!0}),(function(){return e.typing=!1}),(function(){return e.typing=!1}))}}]),e}()).\u0275fac=function(e){return new(e||jn)(O.Yb(u.j))},jn.\u0275cmp=O.Sb({type:jn,selectors:[["ngx-chat-box"]],viewQuery:function(e,t){var n;1&e&&(O.Lc(An,!0),O.Lc(Mn,!0)),2&e&&(O.Cc(n=O.oc())&&(t.bottom=n.first),O.Cc(n=O.oc())&&(t.input=n.first))},decls:47,vars:12,consts:[["mat-fab","",1,"chat-button",3,"click"],["cdkDrag","","fxLayout","column","resizable","",1,"chat-box",3,"directions"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center","color","primary","cdkDragHandle","",1,"header","mat-elevation-z2",2,"cursor","move"],["fxFlex",""],["fxFlex","grow"],["mat-icon-button","",4,"ngIf"],["mat-icon-button",""],[3,"click"],["fxFlex","grow",3,"hasBackdrop"],["mode","over","position","end"],["drawer",""],["color","accent"],[3,"expanded"],["matExpansionPanelContent",""],["fxFlex","grow",1,"body"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[2,"position","fixed","bottom","60px"],[4,"ngIf"],["bottom",""],["fxFlex","","appearance","outline","color","primary",1,"input","custom-outline"],["matPrefix","",3,"click",4,"ngIf"],["matInput","","type","text","placeholder","Ask anything...","autocomplete","off","x-webkit-speech","",3,"keyup.enter","keyup.escape"],["input",""],["matSuffix","",3,"click"],[1,"message",3,"ngClass"],["matPrefix","",3,"click"]],template:function(e,t){1&e&&(O.ec(0,"button",0),O.nc("click",(function(){return t.toggleChatBox()})),O.ec(1,"mat-icon"),O.Pc(2,"chat_bubble"),O.dc(),O.dc(),O.ec(3,"div",1),O.ec(4,"mat-toolbar",2),O.ec(5,"span",3),O.Pc(6,"ChatBox"),O.dc(),O.Zb(7,"span",4),O.Nc(8,kn,3,0,"button",5),O.ec(9,"button",6),O.ec(10,"mat-icon",7),O.nc("click",(function(){return t.toggleChatBox()})),O.Pc(11,"close"),O.dc(),O.dc(),O.dc(),O.ec(12,"mat-drawer-container",8),O.ec(13,"mat-drawer",9,10),O.ec(15,"mat-toolbar",11),O.Pc(16,"Preferences"),O.dc(),O.ec(17,"mat-accordion"),O.ec(18,"mat-expansion-panel",12),O.ec(19,"mat-expansion-panel-header"),O.ec(20,"mat-panel-title"),O.Pc(21,"Voice"),O.dc(),O.dc(),O.Nc(22,Dn,1,0,"ng-template",13),O.dc(),O.ec(23,"mat-expansion-panel"),O.ec(24,"mat-expansion-panel-header"),O.ec(25,"mat-panel-title"),O.Pc(26,"Other"),O.dc(),O.dc(),O.ec(27,"p"),O.Pc(28,"TODO: Other Settings"),O.dc(),O.dc(),O.dc(),O.dc(),O.ec(29,"mat-drawer-content",14),O.Nc(30,Nn,2,5,"div",15),O.sc(31,"async"),O.ec(32,"div",16),O.Nc(33,Gn,1,0,"typing-indicator",17),O.dc(),O.Zb(34,"div",null,18),O.Zb(36,"br"),O.Zb(37,"br"),O.Zb(38,"br"),O.Zb(39,"br"),O.dc(),O.dc(),O.Zb(40,"mat-divider"),O.ec(41,"mat-form-field",19),O.Nc(42,Fn,2,0,"mat-icon",20),O.ec(43,"input",21,22),O.nc("keyup.enter",(function(){return t.sendMessageToBot()}))("keyup.escape",(function(){return t.showChatBox=!1})),O.dc(),O.ec(45,"mat-icon",23),O.nc("click",(function(){return t.sendMessageToBot()})),O.Pc(46,"send"),O.dc(),O.dc(),O.dc()),2&e&&(O.xc("@scrollAnimation",t.showChatBox?"hide":"show"),O.Kb(3),O.xc("directions",O.zc(11,Hn))("@scrollAnimation",t.showChatBox?"show":"hide"),O.Kb(5),O.xc("ngIf",t.canUseSpeechSynthesis),O.Kb(4),O.xc("hasBackdrop",!1),O.Kb(6),O.xc("expanded",!0),O.Kb(12),O.xc("ngForOf",O.tc(31,9,t.activeConversation$).messages),O.Kb(3),O.xc("ngIf",t.typing),O.Kb(9),O.xc("ngIf",t.canUseSpeechRecognition))},directives:[h.b,p.a,Ue.a,Xt.e,xn,H.a,Xt.b,Xt.d,Ue.b,c.n,T.b,T.a,ke,Pe,Ae,Me,Re,T.c,c.m,g.a,v.c,b.b,v.i,Sn,c.l,Kt.a,Pn,v.h],pipes:[c.b],styles:[".chat-button[_ngcontent-%COMP%]{position:fixed!important;bottom:25px;right:25px;z-index:5}.chat-box[_ngcontent-%COMP%]{background:#efefef;position:fixed;bottom:50px;right:30px;width:351px;height:60vh;min-width:350px;min-height:400px;max-width:85vw;max-height:85vh;border-radius:5px;z-index:10;box-shadow:0 5px 35px 9px #ccc}@media (min-width:768px){.chat-box[_ngcontent-%COMP%]{min-height:30vh;height:40vh}}@media (min-width:992px){.chat-box[_ngcontent-%COMP%]{height:60vh}}.chat-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{min-height:72px!important;border-top-left-radius:5px;border-top-right-radius:5px}.chat-box[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding:15px;overflow-y:scroll}@media only screen and (max-width:500px){.chat-box[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{height:40vh}}.chat-box[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding:8px 16px;font-weight:400;text-transform:none;text-align:center;font-size:16px;letter-spacing:.5px;margin:0 0 2px;max-width:65%;float:none;clear:both;line-height:1.5em;transition:all .2s;box-sizing:content-box}.chat-box[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .message.to[_ngcontent-%COMP%]{color:#212121;background:hsla(0,0%,100%,.84);border-radius:5px 15px 15px 15px;text-align:left;word-break:break-all;transform-origin:left top}.chat-box[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .message.from[_ngcontent-%COMP%]{color:#fff;background:rgba(44,44,44,.67);box-shadow:none;float:right;position:relative;transform-origin:right top;margin:8px 0 10px 2px;border-radius:15px 15px 5px 15px;text-align:center;display:inline-block;text-decoration:none;word-break:normal;-webkit-animation-name:animate-reply;animation-name:animate-reply;-webkit-animation-play-state:paused;animation-play-state:paused;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;transform:translateZ(0);animation-delay:-3s;-webkit-animation-delay:-3s}.chat-box[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .message.from[_ngcontent-%COMP%] + .chat-box[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .message.from[_ngcontent-%COMP%], .chat-box[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .message.to[_ngcontent-%COMP%] + .chat-box[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .message.to[_ngcontent-%COMP%]{margin-top:-10px}.card-content[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     mat-form-field.mat-form-field-appearance-outline.custom-outline .mat-form-field-wrapper{padding-bottom:0;margin:0}"],data:{animation:[Gt.g]}}),Object(Be.c)([Object(u.f)(kt.getConversations),Object(Be.e)("design:type",hn.a)],jn.prototype,"conversations$",void 0),Object(Be.c)([Object(u.f)(kt.getActiveConversation),Object(Be.e)("design:type",hn.a)],jn.prototype,"activeConversation$",void 0),jn),Wn=["sidenav"],Xn=((Un=function(){function e(t,n,i,r,o,a){_classCallCheck(this,e),this.router=t,this.store=n,this.actions$=i,this.mediaObserver=r,this.oauthService=o,this.window=a,this.quickpanelOpen=!1,this.sidenavOpen=!0,this.sidenavMode="side",this.isMobile=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.crumbs$=this.store.select(jt.d.state).pipe(Object(Vt.a)((function(e){return Array.from(e.breadcrumbs,(function(e){var t=_slicedToArray2(e,2);return{name:t[0],link:"/"+t[1]}}))}))),this.depth$=this.store.select(jt.d.state).pipe(Object(Vt.a)((function(e){return e.data.depth}))),this.mediaObserver.asObservable().pipe(Object(ne.a)((function(e){return e.length>0})),Object(Vt.a)((function(e){return e[0]}))).subscribe((function(t){var n="xs"===t.mqAlias||"sm"===t.mqAlias;e.isMobile=n,e.sidenavMode=n?"over":"side",e.sidenavOpen=!n})),this.router.events.pipe().subscribe((function(t){t instanceof r.d&&e.isMobile&&e.sidenav.close()})),setTimeout((function(){e.window.dispatchEvent(new Event("resize"))}),2e3),"mock"!==lt.a.envName&&this.store.dispatch(new Ft.b({url:lt.a.WS_EVENT_BUS_URL,tokenFn:function(){return e.oauthService.getAccessToken()}}))}},{key:"ngOnDestroy",value:function(){this.store.dispatch(new Ft.c)}}]),e}()).\u0275fac=function(e){return new(e||Un)(O.Yb(r.i),O.Yb(u.j),O.Yb(u.b),O.Yb(Bt.g),O.Yb(zt.c),O.Yb(ft.m))},Un.\u0275cmp=O.Sb({type:Un,selectors:[["ngx-dashboard-layout"]],viewQuery:function(e,t){var n;1&e&&O.Lc(Wn,!0),2&e&&O.Cc(n=O.oc())&&(t.sidenav=n.first)},decls:14,vars:8,consts:[[1,"dashboard-container"],["position","end","align","end","mode","over",1,"quickpanel",3,"opened"],["quickpanel",""],["align","start","role","navigation","ngxIconSidenav","",1,"sidenav",3,"opened","mode"],["sidenav",""],["fxLayout","column",1,"content-container"],[3,"quickpanel","sidenav"],[1,"route-container"]],template:function(e,t){if(1&e&&(O.ec(0,"mat-sidenav-container",0),O.ec(1,"mat-sidenav",1,2),O.Zb(3,"ngx-quickpanel"),O.dc(),O.ec(4,"mat-sidenav",3,4),O.Zb(6,"ngx-sidenav"),O.dc(),O.ec(7,"mat-sidenav-content",5),O.Zb(8,"ngx-toolbar",6),O.ec(9,"perfect-scrollbar"),O.ec(10,"div",7),O.sc(11,"async"),O.Zb(12,"router-outlet"),O.Zb(13,"ngx-chat-box"),O.dc(),O.dc(),O.dc(),O.dc()),2&e){var n=O.Dc(2),i=O.Dc(5);O.Kb(1),O.xc("opened",t.quickpanelOpen),O.Kb(3),O.xc("opened",t.sidenavOpen)("mode",t.sidenavMode),O.Kb(4),O.xc("quickpanel",n)("sidenav",i),O.Kb(2),O.xc("@routeAnimation",O.tc(11,6,t.depth$))}},directives:[T.e,T.d,qt.a,Yt,un,T.f,Xt.e,dn.a,Zt.b,r.n,Yn],pipes:[c.b],styles:[".dashboard-container[_ngcontent-%COMP%]{height:100%}mat-sidenav.quickpanel[_ngcontent-%COMP%]{z-index:100;width:330px;min-width:330px;max-width:330px}@media screen and (max-width:959px){mat-sidenav.quickpanel[_ngcontent-%COMP%]{width:250px;min-width:250px;max-width:250px}button.user-button[_ngcontent-%COMP%]{min-width:72px}}@media screen and (min-width:960px){[_nghost-%COMP%]     .mat-drawer-backdrop{z-index:50!important}}.main-container[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;height:calc(100% - 64px);position:relative}@media (max-width:599px){.main-container[_ngcontent-%COMP%]{height:calc(100% - 56px)}}.content-container[_ngcontent-%COMP%]{height:100%}"],data:{animation:[Gt.d]}}),Un=Object(Be.c)([Object(Ut.a)()],Un)),Kn=n("AxBZ"),Zn=((Vn=function(){function e(){_classCallCheck(this,e),this.crumbs=[{name:"Dashboard",link:"/dashboard"}]}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Vn)},Vn.\u0275cmp=O.Sb({type:Vn,selectors:[["ngx-overview"]],decls:42,vars:1,consts:[["title","Overview",3,"crumbs"],["fxLayout","row wrap","fxLayout.lt-sm","column","fxLayoutGap","32px grid"],["fxFlex","0 1 calc(33.3% - 32px)","fxFlex.lt-md","0 1 calc(50% - 32px)","fxFlex.lt-sm","100%"],["routerLink","/dashboard/grid/grid-list"],["routerLink","/dashboard/grid/crud-table"],["routerLink","/dashboard/experiments/layout"],["routerLink","/dashboard/experiments/animations"],["routerLink","/dashboard/experiments/viewport"],["routerLink","/dashboard/experiments/knob"],["routerLink","/dashboard/experiments/clap"],["routerLink","/dashboard/widgets"],["routerLink","/dashboard/settings"],["routerLink","/dashboard/experiments/dashing"]],template:function(e,t){1&e&&(O.Zb(0,"ngx-breadcrumbs",0),O.ec(1,"div",1),O.ec(2,"div",2),O.ec(3,"mat-card"),O.ec(4,"a",3),O.Pc(5,"Grid List"),O.dc(),O.dc(),O.dc(),O.ec(6,"div",2),O.ec(7,"mat-card"),O.ec(8,"a",4),O.Pc(9,"CRUD Table"),O.dc(),O.dc(),O.dc(),O.ec(10,"div",2),O.ec(11,"mat-card"),O.ec(12,"a",5),O.Pc(13,"Layout"),O.dc(),O.dc(),O.dc(),O.ec(14,"div",2),O.ec(15,"mat-card"),O.ec(16,"a",6),O.Pc(17,"Animations"),O.dc(),O.dc(),O.dc(),O.ec(18,"div",2),O.ec(19,"mat-card"),O.ec(20,"a",7),O.Pc(21,"Viewport"),O.dc(),O.dc(),O.dc(),O.ec(22,"div",2),O.ec(23,"mat-card"),O.ec(24,"a",8),O.Pc(25,"Knob"),O.dc(),O.dc(),O.dc(),O.ec(26,"div",2),O.ec(27,"mat-card"),O.ec(28,"a",9),O.Pc(29,"Micro Interactions"),O.dc(),O.dc(),O.dc(),O.ec(30,"div",2),O.ec(31,"mat-card"),O.ec(32,"a",10),O.Pc(33,"Widgets"),O.dc(),O.dc(),O.dc(),O.ec(34,"div",2),O.ec(35,"mat-card"),O.ec(36,"a",11),O.Pc(37,"Settings"),O.dc(),O.dc(),O.dc(),O.ec(38,"div",2),O.ec(39,"mat-card"),O.ec(40,"a",12),O.Pc(41,"Dashing"),O.dc(),O.dc(),O.dc(),O.dc()),2&e&&O.xc("crumbs",t.crumbs)},directives:[Kn.a,Xt.e,Xt.f,Xt.b,m.a,r.l],styles:["[_nghost-%COMP%]{display:block;padding:1.5%;position:relative}"]}),Vn),Qn=n("F1o0"),$n=n("TKFd"),Jn=["thumbContainer"],ei=["toggleBar"],ti=["input"],ni=function(){return{enterDuration:150}},ii=["*"],ri=new O.t("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1}}}),oi=0,ai={provide:l.m,useExisting:Object(O.ab)((function(){return li})),multi:!0},si=function e(t,n){_classCallCheck(this,e),this.source=t,this.checked=n},ci=Object(E.D)(Object(E.y)(Object(E.z)(Object(E.A)((function e(t){_classCallCheck(this,e),this._elementRef=t}))),"accent")),li=((qn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s,c,l){var u;return _classCallCheck(this,n),(u=t.call(this,e))._focusMonitor=i,u._changeDetectorRef=r,u.defaults=s,u._animationMode=c,u._onChange=function(e){},u._onTouched=function(){},u._uniqueId="mat-slide-toggle-".concat(++oi),u._required=!1,u._checked=!1,u.name=null,u.id=u._uniqueId,u.labelPosition="after",u.ariaLabel=null,u.ariaLabelledby=null,u.change=new O.p,u.toggleChange=new O.p,u.dragChange=new O.p,u.tabIndex=parseInt(o)||0,u}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(t){"keyboard"===t||"program"===t?e._inputElement.nativeElement.focus():t||Promise.resolve().then((function(){return e._onTouched()}))}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_onChangeEvent",value:function(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}},{key:"_onInputClick",value:function(e){e.stopPropagation()}},{key:"writeValue",value:function(e){this.checked=!!e}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetectorRef.markForCheck()}},{key:"focus",value:function(e){this._focusMonitor.focusVia(this._inputElement,"keyboard",e)}},{key:"toggle",value:function(){this.checked=!this.checked,this._onChange(this.checked)}},{key:"_emitChangeEvent",value:function(){this._onChange(this.checked),this.change.emit(new si(this,this.checked))}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"required",get:function(){return this._required},set:function(e){this._required=Object(x.c)(e)}},{key:"checked",get:function(){return this._checked},set:function(e){this._checked=Object(x.c)(e),this._changeDetectorRef.markForCheck()}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}}]),n}(ci)).\u0275fac=function(e){return new(e||qn)(O.Yb(O.m),O.Yb(P.h),O.Yb(O.i),O.kc("tabindex"),O.Yb(O.D),O.Yb(ri),O.Yb(R.a,8),O.Yb(A.b,8))},qn.\u0275cmp=O.Sb({type:qn,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){var n;1&e&&(O.Wc(Jn,!0),O.Wc(ei,!0),O.Wc(ti,!0)),2&e&&(O.Cc(n=O.oc())&&(t._thumbEl=n.first),O.Cc(n=O.oc())&&(t._thumbBarEl=n.first),O.Cc(n=O.oc())&&(t._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,t){2&e&&(O.hc("id",t.id),O.Lb("tabindex",t.disabled?null:-1)("aria-label",null)("aria-labelledby",null),O.Ob("mat-checked",t.checked)("mat-disabled",t.disabled)("mat-slide-toggle-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[O.Jb([ai]),O.Hb],ngContentSelectors:ii,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,t){if(1&e&&(O.wc(),O.ec(0,"label",0,1),O.ec(2,"div",2,3),O.ec(4,"input",4,5),O.nc("change",(function(e){return t._onChangeEvent(e)}))("click",(function(e){return t._onInputClick(e)})),O.dc(),O.ec(6,"div",6,7),O.Zb(8,"div",8),O.ec(9,"div",9),O.Zb(10,"div",10),O.dc(),O.dc(),O.dc(),O.ec(11,"span",11,12),O.nc("cdkObserveContent",(function(){return t._onLabelTextChange()})),O.ec(13,"span",13),O.Pc(14,"\xa0"),O.dc(),O.vc(15),O.dc(),O.dc()),2&e){var n=O.Dc(1),i=O.Dc(12);O.Lb("for",t.inputId),O.Kb(2),O.Ob("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),O.Kb(2),O.xc("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex)("checked",t.checked)("disabled",t.disabled),O.Lb("name",t.name)("aria-checked",t.checked.toString())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),O.Kb(5),O.xc("matRippleTrigger",n)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",O.zc(17,ni))}},directives:[E.t,$n.a],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),qn),ui=((zn=function e(){_classCallCheck(this,e)}).\u0275mod=O.Wb({type:zn}),zn.\u0275inj=O.Vb({factory:function(e){return new(e||zn)}}),zn),di=((Bn=function e(){_classCallCheck(this,e)}).\u0275mod=O.Wb({type:Bn}),Bn.\u0275inj=O.Vb({factory:function(e){return new(e||Bn)},imports:[[ui,E.u,E.j,$n.c],ui,E.j]}),Bn);function fi(e,t){if(1&e&&(O.ec(0,"mat-radio-button",14),O.Pc(1),O.dc()),2&e){var n=t.$implicit;O.xc("value",n),O.Kb(1),O.Rc(" ",n," ")}}function hi(e,t){if(1&e&&(O.ec(0,"mat-radio-button",14),O.Pc(1),O.dc()),2&e){var n=t.$implicit;O.xc("value",n),O.Kb(1),O.Rc(" ",n," ")}}var pi,mi,gi,vi=((pi=function(){function e(t,n,i){_classCallCheck(this,e),this.fb=t,this.store=n,this.pnServ=i,this.crumbs=[{name:"Dashboard",link:"/dashboard"},{name:"Settings"}],this.languages=["en","es","de","fr","cn"],this.themes=[ft.l.DEEPPURPLE_AMBER,ft.l.INDIGO_PINK,ft.l.PINK_BLUEGREY,ft.l.PURPLE_GREEN]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.preferences=this.store.selectSnapshot(ft.h),this.buildForm(),this.settingsForm.get("selectedLanguage").valueChanges.subscribe((function(t){return e.store.dispatch(new ft.b(t))})),this.settingsForm.get("selectedTheme").valueChanges.subscribe((function(t){return e.store.dispatch(new ft.c(t))})),this.settingsForm.get("enableNotifications").valueChanges.subscribe((function(t){return Object(Be.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,this.pnServ.register();case 3:this.store.dispatch(new ft.f),e.next=9;break;case 6:return e.next=8,this.pnServ.unregister();case 8:this.store.dispatch(new ft.e);case 9:case"end":return e.stop()}}),e,this)})))}))}},{key:"ngOnDestroy",value:function(){}},{key:"buildForm",value:function(){this.settingsForm=this.fb.group({selectedLanguage:[this.preferences.language],selectedTheme:[this.preferences.activeThemeName],enableNotifications:this.preferences.enableNotifications})}}]),e}()).\u0275fac=function(e){return new(e||pi)(O.Yb(l.e),O.Yb(u.j),O.Yb(ft.j))},pi.\u0275cmp=O.Sb({type:pi,selectors:[["ngx-settings"]],decls:31,vars:4,consts:[["title","Overview",3,"crumbs"],["fxLayout","row",3,"formGroup"],["fxFlex","60",1,"scrolling"],[1,"mat-table"],[1,"mat-header-row"],["fxFlex","30",1,"mat-header-cell"],["fxFlex","70",1,"mat-header-cell"],[1,"mat-row"],["fxFlex","30",1,"mat-cell"],["formControlName","selectedLanguage"],["class","add-padding-right",3,"value",4,"ngFor","ngForOf"],["fxFlex","70",1,"mat-cell"],["formControlName","selectedTheme"],["aria-label","enableNotifications","formControlName","enableNotifications",1,"add-padding-right"],[1,"add-padding-right",3,"value"]],template:function(e,t){1&e&&(O.Zb(0,"ngx-breadcrumbs",0),O.ec(1,"form",1),O.ec(2,"mat-card",2),O.ec(3,"mat-card-header"),O.ec(4,"mat-card-title"),O.Pc(5,"Preferences"),O.dc(),O.dc(),O.ec(6,"mat-card-content"),O.ec(7,"div",3),O.ec(8,"div",4),O.ec(9,"div",5),O.Pc(10,"Setting"),O.dc(),O.ec(11,"div",6),O.Pc(12,"Options"),O.dc(),O.dc(),O.ec(13,"div",7),O.ec(14,"div",8),O.Pc(15,"Language"),O.dc(),O.ec(16,"div",8),O.ec(17,"mat-radio-group",9),O.Nc(18,fi,2,2,"mat-radio-button",10),O.dc(),O.dc(),O.dc(),O.ec(19,"div",7),O.ec(20,"div",8),O.Pc(21,"Theme"),O.dc(),O.ec(22,"div",11),O.ec(23,"mat-radio-group",12),O.Nc(24,hi,2,2,"mat-radio-button",10),O.dc(),O.dc(),O.dc(),O.ec(25,"div",7),O.ec(26,"div",8),O.Pc(27,"Push Notifications"),O.dc(),O.ec(28,"div",11),O.Zb(29,"mat-slide-toggle",13),O.dc(),O.dc(),O.dc(),O.dc(),O.Zb(30,"mat-card-actions"),O.dc(),O.dc()),2&e&&(O.xc("crumbs",t.crumbs),O.Kb(1),O.xc("formGroup",t.settingsForm),O.Kb(17),O.xc("ngForOf",t.languages),O.Kb(6),O.xc("ngForOf",t.themes))},directives:[Kn.a,l.v,l.p,Xt.e,l.j,m.a,Xt.b,m.e,m.i,m.d,Qn.b,l.o,l.h,c.m,li,m.b,Qn.a],styles:["[_nghost-%COMP%]{padding:1.5%;position:relative}.mat-table[_ngcontent-%COMP%], [_nghost-%COMP%]{display:block}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:flex;border-bottom-width:1px;border-bottom-style:solid;align-items:center;min-height:60px;padding:0 24px}.add-padding-right[_ngcontent-%COMP%]{padding-right:8px}"]}),pi=Object(Be.c)([Object(Ut.a)()],pi)),bi=n("m5bY"),_i=n("2okz"),Ei=new O.t("mat-chips-default-options"),yi={separatorKeyCodes:[w.f]},Ti=((mi=function e(){_classCallCheck(this,e)}).\u0275mod=O.Wb({type:mi}),mi.\u0275inj=O.Vb({factory:function(e){return new(e||mi)},providers:[E.d,{provide:Ei,useValue:yi}]}),mi),Ii=n("6SKM"),Oi=((gi=function e(){_classCallCheck(this,e)}).\u0275mod=O.Wb({type:gi}),gi.\u0275inj=O.Vb({factory:function(e){return new(e||gi)},imports:[[c.c,p.b,H.b,_.e,h.c,T.g,E.u,Ti,r.m,Zt.c,Ne.a,Ii.a]]}),gi),xi=function(e){return e.MALE="male",e.FEMALE="female",e.UNKNOW="unknow",e}({}),wi=n("e4iD"),Ri=["C","&","a","A","?","L","9","0","#"],Ci=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parseValueByMask",value:function(e,t,n){var i=e,r=t.format,o=this.getMaskLiterals(r),a=Array.from(o.keys()),s=this.getNonLiteralIndeces(r,a);if(i.length<r.length){if(""===i&&-1===n)return this.cursorPrivate=0,this.parseValueByMaskOnInit(e,t);if(-1!==s.indexOf(n+1))i=this.insertCharAt(i,n+1,t.promptChar),this.cursorPrivate=n+1;else{i=this.insertCharAt(i,n+1,r[n+1]),this.cursorPrivate=n+1;for(var c=this.cursorPrivate;c<0&&-1!==a.indexOf(this.cursorPrivate);c--)this.cursorPrivate--}}else{var l=i[n],u=this.validateCharOnPostion(l,n,r);if(-1!==s.indexOf(n))i=this.replaceCharAt(i,n,""),u?(i=this.replaceCharAt(i,n,l),this.cursorPrivate=n+1):this.cursorPrivate=n;else{i=this.replaceCharAt(i,n,""),this.cursorPrivate=++n;for(var d=n;d<r.length;d++){if(-1===a.indexOf(this.cursorPrivate)){if(u=this.validateCharOnPostion(l,n,r)){i=this.replaceCharAt(i,n,l),this.cursorPrivate=++n;break}break}this.cursorPrivate=++n}}}return i}},{key:"parseMask",value:function(e){var t,n=this,i="",r=e.format,o=this.getMaskLiterals(r),a=_createForOfIteratorHelper(r);try{for(a.s();!(t=a.n()).done;){t.value;i+=e.promptChar}}catch(s){a.e(s)}finally{a.f()}return o.forEach((function(e,t){i=n.replaceCharAt(i,t,e)})),i}},{key:"parseValueByMaskOnInit",value:function(e,t){var n=this,i="",r="",o=t.format,a=this.getMaskLiterals(o),s=Array.from(a.keys()),c=this.getNonLiteralIndeces(o,s),l=Array.from(a.values());null!=e&&(r=e.toString());var u,d=_createForOfIteratorHelper(o);try{for(d.s();!(u=d.n()).done;){u.value;i+=t.promptChar}}catch(_){d.e(_)}finally{d.f()}if(a.forEach((function(e,t){i=n.replaceCharAt(i,t,e)})),!r)return i;for(var f=this.getNonLiteralValues(r,l),h=0;h<f.length;h++){var p=f[h];this.validateCharOnPostion(p,c[h],o)||p===t.promptChar||(f[h]=t.promptChar)}f.length>c.length&&f.splice(c.length);var m,g=0,v=_createForOfIteratorHelper(f);try{for(v.s();!(m=v.n()).done;){var b=m.value;i=this.replaceCharAt(i,c[g++],b)}}catch(_){v.e(_)}finally{v.f()}return i}},{key:"restoreValueFromMask",value:function(e,t){var n,i="",r=this.getMaskLiterals(t.format),o=Array.from(r.values()),a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;-1===o.indexOf(s)&&s!==t.promptChar&&(i+=s)}}catch(c){a.e(c)}finally{a.f()}return i}},{key:"parseValueByMaskUponSelection",value:function(e,t,n,i){var r=e,o=r[n],a=t.format,s=this.getMaskLiterals(a),c=Array.from(s.keys()),l=this.getNonLiteralIndeces(a,c);if(this.data){if(""===r&&-1===n)return this.cursorPrivate=0,this.parseValueByMaskOnInit(e,t);this.cursorPrivate<0&&(this.cursorPrivate++,n++),n++,this.cursorPrivate=n;for(var u=0;u<i;u++)-1!==l.indexOf(n)?(r=this.insertCharAt(r,n,t.promptChar),n++):(r=this.insertCharAt(r,n,a[n]),n++)}else if(this.cursorPrivate=n<0?++n:n,-1!==l.indexOf(this.cursorPrivate)){if(r=this.validateCharOnPostion(o,this.cursorPrivate,a)?this.replaceCharAt(r,this.cursorPrivate++,o):r=this.replaceCharAt(r,this.cursorPrivate++,t.promptChar),--i>0)for(var d=0;d<i;d++)n++,r=-1!==l.indexOf(n)?this.insertCharAt(r,n,t.promptChar):this.insertCharAt(r,n,a[n])}else{r=this.replaceCharAt(r,this.cursorPrivate,a[this.cursorPrivate]),this.cursorPrivate++;var f=!1;if(--i>0){n=this.cursorPrivate;for(var h=0;h<i;h++)-1!==l.indexOf(n)?this.validateCharOnPostion(o,n,a)&&!f?(r=this.insertCharAt(r,n,o),n++,this.cursorPrivate++,f=!0):(r=this.insertCharAt(r,n,t.promptChar),n++):(r=this.insertCharAt(r,n,a[n]),n===this.cursorPrivate&&this.cursorPrivate++,n++)}}return r}},{key:"parseValueByMaskUponCopyPaste",value:function(e,t,n,i,r){var o=e,a=t.format,s=this.getMaskLiterals(a),c=Array.from(s.keys()),l=this.getNonLiteralIndeces(a,c),u=n+r;this.cursorPrivate=n;var d,f=_createForOfIteratorHelper(i);try{for(f.s();!(d=f.n()).done;){var h=d.value;if(this.cursorPrivate>a.length)return o;if(-1!==l.indexOf(this.cursorPrivate))this.validateCharOnPostion(h,this.cursorPrivate,a)&&(o=this.replaceCharAt(o,this.cursorPrivate++,h));else for(var p=n;p<a.length;p++){if(-1===c.indexOf(this.cursorPrivate)){this.validateCharOnPostion(h,this.cursorPrivate,a)&&(o=this.replaceCharAt(o,this.cursorPrivate++,h));break}this.cursorPrivate++}r--}}catch(g){f.e(g)}finally{f.f()}if(r>0)for(var m=this.cursorPrivate;m<u;m++)-1!==c.indexOf(this.cursorPrivate)?this.cursorPrivate++:o=this.replaceCharAt(o,this.cursorPrivate++,t.promptChar);return o}},{key:"validateCharOnPostion",value:function(e,t,n){var i;switch(n.charAt(t)){case"C":i=""!==e;break;case"&":i=!new RegExp("[\\u0020]").test(e);break;case"a":i=new RegExp("[\\d\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z\\u0020]").test(e);break;case"A":i=new RegExp("[\\d\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z]").test(e);break;case"?":i=new RegExp("[\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z\\u0020]").test(e);break;case"L":i=new RegExp("[\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z]").test(e);break;case"0":i=new RegExp("[\\d]").test(e);break;case"9":i=new RegExp("[\\d\\u0020]").test(e);break;case"#":i=new RegExp("[\\d-\\+]").test(e);break;default:i=null}return i}},{key:"replaceCharAt",value:function(e,t,n){if(void 0!==e)return e.substring(0,t)+n+e.substring(t+1)}},{key:"insertCharAt",value:function(e,t,n){if(void 0!==e)return e.substring(0,t)+n+e.substring(t)}},{key:"getMaskLiterals",value:function(e){for(var t=new Map,n=0;n<e.length;n++){var i=e.charAt(n);-1===Ri.indexOf(i)&&t.set(n,i)}return t}},{key:"getNonLiteralIndeces",value:function(e,t){for(var n=new Array,i=0;i<e.length;i++)-1===t.indexOf(i)&&n.push(i);return n}},{key:"getNonLiteralValues",value:function(e,t){var n,i=new Array,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;-1===t.indexOf(o)&&i.push(o)}}catch(a){r.e(a)}finally{r.f()}return i}},{key:"cursor",get:function(){return this.cursorPrivate}}]),e}();function Si(){return navigator.appVersion.indexOf("Trident/")>0}var Pi,Ai=function(){},Mi=((Pi=function(){function e(t){_classCallCheck(this,e),this.elementRef=t,this.valueChange=new O.p,this.maskOptions={format:"",promptChar:""},this.onTouchedCallback=Ai,this.onChangeCallback=Ai,this.maskHelper=new Ci}return _createClass(e,[{key:"ngOnInit",value:function(){this.promptChar&&this.promptChar.length>1&&(this.maskOptions.promptChar=this.promptChar=this.promptChar.substring(0,1)),this.maskOptions.format=this.mask?this.mask:"CCCCCCCCCC",this.maskOptions.promptChar=this.promptChar?this.promptChar:"_",this.nativeElement.setAttribute("placeholder",this.placeholder?this.placeholder:this.maskOptions.format)}},{key:"onKeydown",value:function(e){var t=e.keyCode||e.charCode;Si()&&this.stopPropagation&&(this.stopPropagation=!1),17===t&&(this.ctrlDown=!0),(this.ctrlDown&&90===t||this.ctrlDown&&89===t)&&e.preventDefault(),this.key=t,this.selection=Math.abs(this.selectionEnd-this.selectionStart)}},{key:"onKeyup",value:function(e){17===(e.keyCode||e.charCode)&&(this.ctrlDown=!1)}},{key:"onPaste",value:function(e){this.paste=!0,this.valOnPaste=this.value,this.cursorOnPaste=this.getCursorPosition()}},{key:"onInputChanged",value:function(e){if(Si()&&this.stopPropagation)this.stopPropagation=!1;else{if(this.paste){this.paste=!1;var t=this.value.substring(this.cursorOnPaste,this.getCursorPosition());this.value=this.maskHelper.parseValueByMaskUponCopyPaste(this.valOnPaste,this.maskOptions,this.cursorOnPaste,t,this.selection),this.setCursorPosition(this.maskHelper.cursor)}else{var n=this.getCursorPosition();this.maskHelper.data=8===this.key||46===this.key,this.value=this.selection&&0!==this.selection?this.maskHelper.parseValueByMaskUponSelection(this.value,this.maskOptions,n-1,this.selection):this.maskHelper.parseValueByMask(this.value,this.maskOptions,n-1),this.setCursorPosition(this.maskHelper.cursor)}var i=this.maskHelper.restoreValueFromMask(this.value,this.maskOptions);this.dataValue=this.includeLiterals?this.value:i,this.onChangeCallback(this.dataValue),this.valueChange.emit({rawValue:i,formattedValue:this.value})}}},{key:"onFocus",value:function(e){this.focusedValuePipe?(Si()&&(this.stopPropagation=!0),this.value=this.focusedValuePipe.transform(e)):this.value=this.maskHelper.parseValueByMaskOnInit(this.value,this.maskOptions)}},{key:"onBlur",value:function(e){this.displayValuePipe?this.value=this.displayValuePipe.transform(e):e===this.maskHelper.parseMask(this.maskOptions)&&(this.value="")}},{key:"getCursorPosition",value:function(){return this.nativeElement.selectionStart}},{key:"setCursorPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this.nativeElement.setSelectionRange(e,t)}},{key:"writeValue",value:function(e){this.promptChar&&this.promptChar.length>1&&(this.maskOptions.promptChar=this.promptChar.substring(0,1)),this.value=e?this.maskHelper.parseValueByMaskOnInit(e,this.maskOptions):"",this.displayValuePipe&&(this.value=this.displayValuePipe.transform(this.value)),this.dataValue=this.includeLiterals?this.value:e,this.onChangeCallback(this.dataValue),this.valueChange.emit({rawValue:e,formattedValue:this.value})}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"value",get:function(){return this.nativeElement.value},set:function(e){this.nativeElement.value=e}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"selectionStart",get:function(){return this.nativeElement.selectionStart}},{key:"selectionEnd",get:function(){return this.nativeElement.selectionEnd}}]),e}()).\u0275fac=function(e){return new(e||Pi)(O.Yb(O.m))},Pi.\u0275dir=O.Tb({type:Pi,selectors:[["","ngxMask",""]],hostBindings:function(e,t){1&e&&O.nc("keydown",(function(e){return t.onKeydown(e)}))("keyup",(function(e){return t.onKeyup(e)}))("paste",(function(e){return t.onPaste(e)}))("input",(function(e){return t.onInputChanged(e)}))("focus",(function(e){return t.onFocus(e.target.value)}))("blur",(function(e){return t.onBlur(e.target.value)}))},inputs:{mask:["ngxMask","mask"],promptChar:"promptChar",includeLiterals:"includeLiterals",placeholder:"placeholder",displayValuePipe:"displayValuePipe",focusedValuePipe:"focusedValuePipe",dataValue:"dataValue"},outputs:{valueChange:"valueChange"},features:[O.Jb([{provide:l.m,useExisting:Pi,multi:!0}])]}),Pi),ki=n("GJk9"),Di=["myPond"];function Li(e,t){if(1&e){var n=O.fc();O.cc(0),O.ec(1,"button",15),O.nc("click",(function(){return O.Gc(n),O.rc().save()})),O.ec(2,"mat-icon"),O.Pc(3,"save"),O.dc(),O.dc(),O.bc()}}function Ni(e,t){if(1&e){var n=O.fc();O.ec(0,"button",16),O.nc("click",(function(){return O.Gc(n),O.rc().editing=!0})),O.ec(1,"mat-icon"),O.Pc(2,"edit"),O.dc(),O.dc()}}function Gi(e,t){if(1&e&&(O.ec(0,"mat-list-item",8),O.ec(1,"div",9),O.Pc(2),O.dc(),O.ec(3,"div",17),O.Pc(4),O.sc(5,"json"),O.dc(),O.dc()),2&e){var n=t.$implicit;O.Kb(2),O.Rc(" ",n.key," "),O.Kb(2),O.Rc(" ",O.tc(5,2,n.value)," ")}}function Fi(e,t){if(1&e&&(O.ec(0,"mat-option",21),O.Pc(1),O.dc()),2&e){var n=t.$implicit;O.xc("value",n.value),O.Kb(1),O.Rc(" ",n.key," ")}}function ji(e,t){if(1&e&&(O.cc(0),O.ec(1,"mat-form-field",18),O.ec(2,"mat-select",19),O.Nc(3,Fi,2,2,"mat-option",20),O.sc(4,"keyvalue"),O.dc(),O.dc(),O.bc()),2&e){var n=O.rc();O.Kb(3),O.xc("ngForOf",O.tc(4,1,n.genderOptions))}}function Ui(e,t){if(1&e&&(O.cc(0),O.ec(1,"div",17),O.Pc(2),O.dc(),O.bc()),2&e){var n=O.rc();O.Kb(2),O.Qc(n.formGroup.controls.gender.value)}}function Vi(e,t){1&e&&(O.cc(0),O.ec(1,"mat-form-field",18),O.Zb(2,"input",22),O.dc(),O.bc()),2&e&&(O.Kb(2),O.xc("ngxMask","(###) 000-0000"))}function Bi(e,t){if(1&e&&(O.cc(0),O.ec(1,"div",17),O.Pc(2),O.dc(),O.bc()),2&e){var n=O.rc();O.Kb(2),O.Qc(n.formGroup.controls.mobilePhone.value)}}function zi(e,t){if(1&e){var n=O.fc();O.cc(0),O.ec(1,"file-pond",23,24),O.nc("oninit",(function(){return O.Gc(n),O.rc().pondHandleInit()}))("onaddfile",(function(e){return O.Gc(n),O.rc().pondHandleAddFile(e)}))("onremovefile",(function(e){return O.Gc(n),O.rc().pondHandleRemoveFile(e)}))("onprocessfile",(function(e){return O.Gc(n),O.rc().emitUpload(e)})),O.dc(),O.bc()}if(2&e){var i=O.rc();O.Kb(1),O.xc("files",i.files)("options",i.pondOptions)}}function qi(e,t){if(1&e&&(O.cc(0),O.ec(1,"div",17),O.Zb(2,"img",0),O.dc(),O.bc()),2&e){var n=O.rc();O.Kb(2),O.xc("src",n.imagePath,O.Ic)}}function Hi(e,t){if(1&e&&(O.ec(0,"div"),O.Pc(1),O.sc(2,"formatTimeInWords"),O.dc()),2&e){var n=O.rc();O.Kb(1),O.Rc("Updated ",O.tc(2,1,n.appProfile.updatedAt),"")}}var Yi,Wi,Xi=((Wi=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.fb=t,this.cd=n,this.sanitizer=i,this.genderOptions=xi,this.imagePath=this.sanitizer.bypassSecurityTrustResourceUrl("assets/img/avatars/noavatar.png"),this.editing=!1,this.hasAvatar=!0,this.files=[],this.server={timeout:7e3,fetch:function(e,t,n,i,r,o){},restore:function(e,t,n,i,r,o){},load:function(e,t,n,i,o,a){return fetch("data:".concat(r.appProfile.avatar.mimeType,";base64,").concat(r.appProfile.avatar.data)).then((function(e){return e.blob()})).then(t).catch(n),{abort:o}},process:function(e,t,n,i,r,o,a){console.log("test");var s=new FormData;s.append(e,t,t.name);var c=new XMLHttpRequest;return c.open("POST","/ajax/image-upload/xxxxxx"),c.upload.onprogress=function(e){o(e.lengthComputable,e.loaded,e.total)},c.onload=function(){c.status>=200&&c.status<300?i(c.responseText):r("Error")},c.send(s),{abort:function(){c.abort(),a()}}},revert:function(e,t,n){var i=new FormData;i.append("unique",e),i.append("_method","DELETE");var r=new XMLHttpRequest;return r.open("POST","/ajax/image-delete"),r.onload=function(){r.status>=200&&r.status<300?t(r.responseText):n("Error")},r.send(i),{abort:function(){r.abort()}}}},this.pondOptions={name:"app-profile-avatar",maxFileSize:"1MB",dropOnPage:!0,instantUpload:!1,dropValidation:!0,acceptedFileTypes:"image/*",server:{timeout:7e3,load:this.loadHandler.bind(this),process:this.processHandler.bind(this)},imagePreviewHeight:170,imageCropAspectRatio:"1:1",imageResizeTargetWidth:200,imageResizeTargetHeight:200,stylePanelLayout:"compact circle",styleLoadIndicatorPosition:"center bottom",styleProgressIndicatorPosition:"right bottom",styleButtonRemoveItemPosition:"left bottom",styleButtonProcessItemPosition:"right bottom"}}return _createClass(e,[{key:"ngOnInit",value:function(){this.formGroup=this.fb.group(this.appProfile?{file:[],gender:[this.appProfile.gender],mobilePhone:[this.appProfile.mobilePhone]}:{file:[],gender:[],mobilePhone:[]}),this.appProfile&&this.appProfile.avatar?(this.files=[{source:this.appProfile.avatar.title,options:{type:"local"}}],this.imagePath=this.sanitizer.bypassSecurityTrustResourceUrl("data:".concat(this.appProfile.avatar.mimeType,";base64,").concat(this.appProfile.avatar.data))):this.hasAvatar=!1}},{key:"loadHandler",value:function(e,t,n,i,r,o){return this.appProfile&&this.appProfile.avatar?(fetch("data:".concat(this.appProfile.avatar.mimeType,";base64,").concat(this.appProfile.avatar.data)).then((function(e){return e.blob()})).then(t).catch(n),{abort:r}):{abort:r}}},{key:"processHandler",value:function(e,t,n,i,r,o,a){console.log("test");var s=new FormData;s.append(e,t,t.name);var c=new XMLHttpRequest;return c.open("POST","/ajax/image-upload/xxxxxx"),c.upload.onprogress=function(e){o(e.lengthComputable,e.loaded,e.total)},c.onload=function(){c.status>=200&&c.status<300?i(c.responseText):r("Error")},c.send(s),{abort:function(){c.abort(),a()}}}},{key:"save",value:function(){this.editing=!1,console.log(this.formGroup)}},{key:"pondHandleInit",value:function(){console.log("FilePond has initialised",this.myPond)}},{key:"pondHandleAddFile",value:function(e){console.log("A file was added",e.file)}},{key:"pondHandleRemoveFile",value:function(e){console.log("A file was removed",e.file),console.log("A file was removed1111",this.files)}},{key:"createProfile",value:function(){console.log(this.myPond.server),this.myPond.processFile().then((function(e){}))}},{key:"updateProfile",value:function(){this.myPond.processFile().then((function(e){}))}},{key:"deleteProfile",value:function(){}},{key:"ngOnDestroy",value:function(){}},{key:"emitUpload",value:function(e){console.log("emitUpload",e)}},{key:"removeAll",value:function(){this.myPond.removeFiles()}}]),e}()).\u0275fac=function(e){return new(e||Wi)(O.Yb(l.e),O.Yb(O.i),O.Yb(wi.b))},Wi.\u0275cmp=O.Sb({type:Wi,selectors:[["ngx-app-profile"]],viewQuery:function(e,t){var n;1&e&&O.Lc(Di,!0),2&e&&O.Cc(n=O.oc())&&(t.myPond=n.first)},inputs:{oidcProfile:"oidcProfile",appProfile:"appProfile"},decls:43,vars:17,consts:[["mat-card-avatar","","alt","User Avatar",3,"src"],["fxFlex",""],[4,"ngIf","ngIfElse"],["otherwise",""],[3,"formGroup","ngSubmit"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],[3,"ngSwitch"],["role","listitem"],["fxFlex","40",1,"thick"],[4,"ngSwitchCase"],["role","listitem",2,"height","auto"],["align","end"],[4,"ngIf"],["mat-button","",3,"click"],["mat-icon-button","","aria-label","save",3,"click"],["mat-icon-button","","aria-label","edit",3,"click"],["fxFlex","60"],["floatLabel","never","fxFlex","40"],["name","gender","formControlName","gender","placeholder","Gender"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","type","tel","name","mobilePhone","formControlName","mobilePhone","placeholder","Mobile Phone",3,"ngxMask"],[3,"files","options","oninit","onaddfile","onremovefile","onprocessfile"],["myPond",""]],template:function(e,t){if(1&e&&(O.ec(0,"mat-card"),O.ec(1,"mat-card-header"),O.Zb(2,"img",0),O.ec(3,"mat-card-title"),O.Pc(4,"App Profile"),O.dc(),O.ec(5,"mat-card-subtitle"),O.Pc(6),O.dc(),O.Zb(7,"div",1),O.Nc(8,Li,4,0,"ng-container",2),O.Nc(9,Ni,3,0,"ng-template",null,3,O.Oc),O.dc(),O.Zb(11,"mat-divider"),O.ec(12,"mat-card-content"),O.ec(13,"form",4),O.nc("ngSubmit",(function(){return t.save()})),O.ec(14,"mat-list",5),O.Nc(15,Gi,6,4,"mat-list-item",6),O.sc(16,"keyvalue"),O.cc(17,7),O.ec(18,"mat-list-item",8),O.ec(19,"div",9),O.Pc(20,"Gender"),O.dc(),O.Nc(21,ji,5,3,"ng-container",10),O.Nc(22,Ui,3,1,"ng-container",10),O.dc(),O.ec(23,"mat-list-item",8),O.ec(24,"div",9),O.Pc(25,"Phone"),O.dc(),O.Nc(26,Vi,3,1,"ng-container",10),O.Nc(27,Bi,3,1,"ng-container",10),O.dc(),O.ec(28,"mat-list-item",11),O.ec(29,"div",9),O.Pc(30,"Avatar"),O.dc(),O.Nc(31,zi,3,2,"ng-container",10),O.Nc(32,qi,3,1,"ng-container",10),O.dc(),O.bc(),O.dc(),O.dc(),O.dc(),O.Zb(33,"mat-divider"),O.ec(34,"mat-card-actions",12),O.Nc(35,Hi,3,3,"div",13),O.Zb(36,"div",1),O.ec(37,"button",14),O.nc("click",(function(){return t.createProfile()})),O.Pc(38,"CREATE"),O.dc(),O.ec(39,"button",14),O.nc("click",(function(){return t.updateProfile()})),O.Pc(40,"UPDATE"),O.dc(),O.ec(41,"button",14),O.nc("click",(function(){return t.removeAll()})),O.Pc(42,"DELETE"),O.dc(),O.dc(),O.dc()),2&e){var n=O.Dc(10);O.Kb(2),O.xc("src",t.imagePath,O.Ic),O.Kb(4),O.Sc("",t.oidcProfile.firstName," ",t.oidcProfile.lastName,""),O.Kb(2),O.xc("ngIf",t.editing)("ngIfElse",n),O.Kb(5),O.xc("formGroup",t.formGroup),O.Kb(2),O.xc("ngForOf",O.tc(16,15,t.oidcProfile)),O.Kb(2),O.xc("ngSwitch",t.editing),O.Kb(4),O.xc("ngSwitchCase",!0),O.Kb(1),O.xc("ngSwitchCase",!1),O.Kb(4),O.xc("ngSwitchCase",!0),O.Kb(1),O.xc("ngSwitchCase",!1),O.Kb(4),O.xc("ngSwitchCase",!0),O.Kb(1),O.xc("ngSwitchCase",!1),O.Kb(3),O.xc("ngIf",t.appProfile)}},directives:[m.a,m.e,m.c,m.i,m.h,Xt.b,c.n,g.a,m.d,l.v,l.p,l.j,_.a,c.m,c.p,_.d,c.q,m.b,h.b,p.a,v.c,y.a,l.o,l.h,E.o,b.b,l.c,Mi,o.c],pipes:[c.h,c.g,ki.a],styles:[".thick[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]     .filepond--drop-label{color:#4c4e53}[_nghost-%COMP%]     .filepond--label-action{-webkit-text-decoration-color:#babdc0;text-decoration-color:#babdc0}[_nghost-%COMP%]     .filepond--panel-root{background-color:#edf0f4}[_nghost-%COMP%]     .filepond--root{width:170px;margin:0 auto}"],changeDetection:0}),Wi),Ki=((Yi=function(){function e(t){_classCallCheck(this,e),this.snackBar=t,this.crumbs=[{name:"Dashboard",link:"/dashboard"},{name:"Profile"}]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.error$.subscribe((function(t){return e.snackBar.open("Profile Error: ".concat(t),"",{duration:3e3})}))}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Yi)(O.Yb(Wt.a))},Yi.\u0275cmp=O.Sb({type:Yi,selectors:[["ngx-profile"]],decls:5,vars:7,consts:[["title","Overview",3,"crumbs"],["fxLayout.gt-xs","row","fxLayout.xs","column","fxLayoutGap","60px grid"],["fxFlex","60%",3,"oidcProfile","appProfile"]],template:function(e,t){1&e&&(O.Zb(0,"ngx-breadcrumbs",0),O.ec(1,"div",1),O.Zb(2,"ngx-app-profile",2),O.sc(3,"async"),O.sc(4,"async"),O.dc()),2&e&&(O.xc("crumbs",t.crumbs),O.Kb(2),O.xc("oidcProfile",O.tc(3,3,t.oidcProfile$))("appProfile",O.tc(4,5,t.appProfile$)))},directives:[Kn.a,Xt.e,Xt.f,Xi,Xt.b],pipes:[c.b],styles:["[_nghost-%COMP%]{display:block;padding:1.5%;position:relative}"],changeDetection:0}),Object(Be.c)([Object(u.f)(s.d.profile),Object(Be.e)("design:type",hn.a)],Yi.prototype,"oidcProfile$",void 0),Object(Be.c)([Object(u.f)(ft.i.profile),Object(Be.e)("design:type",hn.a)],Yi.prototype,"appProfile$",void 0),Object(Be.c)([Object(u.f)(ft.i.loading),Object(Be.e)("design:type",hn.a)],Yi.prototype,"loading$",void 0),Object(Be.c)([Object(u.f)(ft.i.error),Object(Be.e)("design:type",hn.a)],Yi.prototype,"error$",void 0),Yi=Object(Be.c)([Object(Ut.a)()],Yi)),Zi=n("e2cq"),Qi=n.n(Zi),$i=n("24yA"),Ji=n.n($i),er=n("eFs7"),tr=n.n(er),nr=n("x32j"),ir=n.n(nr),rr=n("x6aL"),or=n.n(rr),ar=n("QgGR"),sr=n.n(ar),cr=n("dcom"),lr=n.n(cr),ur=n("hrFO"),dr=n.n(ur);Object(o.b)(Qi.a,tr.a,Ji.a,dr.a,ir.a,or.a,sr.a,lr.a);var fr,hr=[T.g,m.g,p.b,h.c,b.c,y.b,g.b,_.e,Qn.c,di],pr=((fr=function e(){_classCallCheck(this,e)}).\u0275mod=O.Wb({type:fr}),fr.\u0275inj=O.Vb({factory:function(e){return new(e||fr)},imports:[[Lt.h,Nt.a,[].concat(hr),Oi,_i.a,bi.a,a.b,a.e,o.a,Dt.forRoot({accessToken:"37808bf14a19406cbe2a50cfd1332dd3"}),r.m.forChild([{path:"",component:Xn,canActivate:[s.b],data:{title:"Dashboard",depth:1,roles:[]},children:[{path:"",component:Zn,data:{title:"Overview"}},{path:"profile",component:Ki,data:{title:"Settings",depth:"2"}},{path:"settings",component:vi,data:{title:"Settings",depth:"2"}},{path:"grid",loadChildren:function(){return Promise.all([n.e(5),n.e(18)]).then(n.bind(null,"TuAl")).then((function(e){return e.GridModule}))},data:{title:"Grid",depth:2,preload:!1}},{path:"experiments",loadChildren:function(){return Promise.all([n.e(3),n.e(17)]).then(n.bind(null,"uPWe")).then((function(e){return e.ExperimentsModule}))},data:{title:"Experiments",depth:2,preload:!1}},{path:"widgets",loadChildren:function(){return Promise.all([n.e(3),n.e(14)]).then(n.bind(null,"Rldf")).then((function(e){return e.WidgetsModule}))},data:{title:"Widgets",depth:"2",preload:!1}}]}])]]}),fr)},"6SKM":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i,r=n("2kYt"),o=n("EM62"),a=((i=function e(){_classCallCheck(this,e)}).\u0275mod=o.Wb({type:i}),i.\u0275inj=o.Vb({factory:function(e){return new(e||i)},imports:[[r.c]]}),i)},"Bb/g":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));var i=n("EM62"),r=n("WAnW");n.d(t,"b",(function(){return r.registerPlugin}));var o=n("2kYt"),a=Object(r.supported)(),s=["id","name","class","multiple","required","disabled","capture","accept"],c=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],l=["oninit","onwarning","onerror","onactivatefile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onupdatefiles"],u=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.options={},this.handleEvent=null,this.root=t,this.zone=n,l.forEach((function(e){r[e]=new i.p}))}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this,t=this.root.nativeElement.querySelector("input"),n=this.root.nativeElement.attributes;s.forEach((function(i){var r=n[i]?n[i].value:e.options[i];r&&t.setAttribute(i,r)})),a&&(this.handleEvent=function(t){e["on".concat(t.type.split(":")[1])].emit(Object.assign({},t.detail))},l.forEach((function(t){e.root.nativeElement.addEventListener("FilePond:".concat(t.substr(2)),e.handleEvent)})),this.zone.runOutsideAngular((function(){e.pond=Object(r.create)(t,Object.assign({},e.options,{files:e.files}))})),Object.keys(this.pond).filter((function(e){return-1===c.indexOf(e)})).forEach((function(t){e[t]=e.pond[t]})))}},{key:"ngOnChanges",value:function(e){if(!e.firstChange&&this.pond){var t=e.options?e.options.currentValue:this.options;e.files&&JSON.stringify(e.files.previousValue)!==JSON.stringify(e.files.currentValue)&&(t.files=e.files.currentValue),this.pond.setOptions(t)}}},{key:"ngOnDestroy",value:function(){var e=this;this.pond&&(l.forEach((function(t){e.root.nativeElement.removeEventListener("FilePond:".concat(t.substr(2)),e.handleEvent)})),this.pond.destroy())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(i.m),i.Yb(i.D))},e.\u0275cmp=i.Sb({type:e,selectors:[["file-pond"]],inputs:{options:"options",files:"files"},outputs:{oninit:"oninit",onwarning:"onwarning",onerror:"onerror",onactivatefile:"onactivatefile",onaddfilestart:"onaddfilestart",onaddfileprogress:"onaddfileprogress",onaddfile:"onaddfile",onprocessfilestart:"onprocessfilestart",onprocessfileprogress:"onprocessfileprogress",onprocessfileabort:"onprocessfileabort",onprocessfilerevert:"onprocessfilerevert",onprocessfile:"onprocessfile",onprocessfiles:"onprocessfiles",onremovefile:"onremovefile",onpreparefile:"onpreparefile",onupdatefiles:"onupdatefiles"},features:[i.Ib],decls:2,vars:0,consts:[[1,"filepond--wrapper"],["type","file"]],template:function(e,t){1&e&&(i.ec(0,"div",0),i.Zb(1,"input",1),i.dc())},styles:[""],encapsulation:2}),e}(),d=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Wb({type:e}),e.\u0275inj=i.Vb({factory:function(t){return new(t||e)},imports:[[o.c]]}),e}()},QgGR:function(e,t,n){e.exports=function(){"use strict";var e=function(e){var t=e.utils.Type;return(0,e.addFilter)("DID_LOAD_ITEM",(function(e,t){var n=t.query;return new Promise((function(t,i){var r=e.file;if(!function(e){return/^image/.test(e.type)}(r)||!n("GET_ALLOW_IMAGE_RESIZE"))return t(e);var o=n("GET_IMAGE_RESIZE_MODE"),a=n("GET_IMAGE_RESIZE_TARGET_WIDTH"),s=n("GET_IMAGE_RESIZE_TARGET_HEIGHT"),c=n("GET_IMAGE_RESIZE_UPSCALE");if(null===a&&null===s)return t(e);var l,u,d,f=null===a?s:a,h=null===s?f:s,p=URL.createObjectURL(r);l=p,u=function(n,i){URL.revokeObjectURL(p);var r=(e.getMetadata("exif")||{}).orientation||-1;if(r>=5&&r<=8){var a=[i,n];n=a[0],i=a[1]}return n===f&&i===h||n<=f&&i<=h&&!c?t(e):(e.setMetadata("resize",{mode:o,upscale:c,size:{width:f,height:h}}),void t(e))},(d=new Image).onload=function(){var e=d.naturalWidth,t=d.naturalHeight;d=null,u(e,t)},d.src=l}))})),{options:{allowImageResize:[!0,t.BOOLEAN],imageResizeMode:["cover",t.STRING],imageResizeUpscale:[!0,t.BOOLEAN],imageResizeTargetWidth:[null,t.INT],imageResizeTargetHeight:[null,t.INT]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},WAnW:function(e,t,n){!function(e){"use strict";var t,n,i=function(e){return e instanceof HTMLElement},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.assign({},e),r=[],o=[],a=function(){return Object.assign({},i)},s=function(){var e=[].concat(r);return r.length=0,e},c=function(){var e=[].concat(o);o.length=0,e.forEach((function(e){l(e.type,e.data)}))},l=function(e,t,n){n?o.push({type:e,data:t}):(h[e]&&h[e](t),r.push({type:e,data:t}))},u=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return f[e]?(t=f)[e].apply(t,i):null},d={getState:a,processActionQueue:s,processDispatchQueue:c,dispatch:l,query:u},f={};t.forEach((function(e){f=Object.assign({},e(i),{},f)}));var h={};return n.forEach((function(e){h=Object.assign({},e(l,u,i),{},h)})),d},o=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},a=function(e){var t={};return o(e,(function(n){!function(e,t,n){"function"!=typeof n?Object.defineProperty(e,t,Object.assign({},n)):e[t]=n}(t,n,e[n])})),t},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},c="http://www.w3.org/2000/svg",l=["svg","path"],u=function(e){return l.includes(e)},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof t&&(n=t,t=null);var i=u(e)?document.createElementNS(c,e):document.createElement(e);return t&&(u(e)?s(i,"class",t):i.className=t),o(n,(function(e,t){s(i,e,t)})),i},f=function(e){return function(t,n){void 0!==n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)}},h=function(e,t){return function(e,n){return void 0!==n?t.splice(n,0,e):t.push(e),e}},p=function(e,t){return function(n){return t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n}},m="undefined"!=typeof window&&void 0!==window.document,g=function(){return m},v="children"in(g()?d("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},b=function(e,t,n,i){var r=n[0]||e.left,o=n[1]||e.top,a=r+e.width,s=o+e.height*(i[1]||1),c={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:r,top:o,right:a,bottom:s}};return t.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){_(c.inner,Object.assign({},e.inner)),_(c.outer,Object.assign({},e.outer))})),E(c.inner),c.outer.bottom+=c.element.marginBottom,c.outer.right+=c.element.marginRight,E(c.outer),c},_=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},E=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},y=function(e){return"number"==typeof e},T=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<i&&Math.abs(n)<i},I=function(e){return e<.5?2*e*e:(4-2*e)*e-1},O={spring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,n=void 0===t?.5:t,i=e.damping,r=void 0===i?.75:i,o=e.mass,s=void 0===o?10:o,c=null,l=null,u=0,d=!1,f=function(){if(!d){if(!y(c)||!y(l))return d=!0,void(u=0);T(l+=u+=-(l-c)*n/s,c,u*=r)?(u=0,d=!0,p.onupdate(l=c),p.oncomplete(l)):p.onupdate(l)}},h=function(e){if(y(e)&&!y(l)&&(l=e),null===c&&(c=e,l=e),l===(c=e)||void 0===c)return d=!0,u=0,p.onupdate(l),void p.oncomplete(l);d=!1},p=a({interpolate:f,target:{set:h,get:function(){return c}},resting:{get:function(){return d}},onupdate:function(e){},oncomplete:function(e){}});return p},tween:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.duration,r=void 0===i?500:i,o=n.easing,s=void 0===o?I:o,c=n.delay,l=void 0===c?0:c,u=null,d=!0,f=!1,h=null,p=function(n){d||null===h||(null===u&&(u=n),n-u<l||((e=n-u-l)<r?(t=e/r,m.onupdate((e>=0?s(f?1-t:t):0)*h)):(e=1,m.onupdate((t=f?0:1)*h),m.oncomplete(t*h),d=!0)))},m=a({interpolate:p,target:{get:function(){return f?0:h},set:function(e){if(null===h)return h=e,m.onupdate(e),void m.oncomplete(e);e<h?(h=1,f=!0):(f=!1,h=e),d=!1,u=null}},resting:{get:function(){return d}},onupdate:function(e){},oncomplete:function(e){}});return m}},x=function(e,t,n){var i=e[t]&&"object"==typeof e[t][n]?e[t][n]:e[t]||e,r="string"==typeof i?i:i.type,o="object"==typeof i?Object.assign({},i):{};return O[r]?O[r](o):null},w=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach((function(t){e.forEach((function(e){var r=e,o=function(){return n[e]},a=function(t){return n[e]=t};"object"==typeof e&&(r=e.key,o=e.getter||o,a=e.setter||a),t[r]&&!i||(t[r]={get:o,set:a})}))}))},R=function(e){return null!=e},C={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},S={styles:function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewInternalAPI,r=e.viewExternalAPI,o=e.view,a=Object.assign({},n),s={};w(t,[i,r],n);var c=function(){return o.rect?b(o.rect,o.childViews,[n.translateX||0,n.translateY||0],[n.scaleX||0,n.scaleY||0]):null};return i.rect={get:c},r.rect={get:c},t.forEach((function(e){n[e]=void 0===a[e]?C[e]:a[e]})),{write:function(){if(function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1}(s,n))return function(e,t){var n=t.opacity,i=t.perspective,r=t.translateX,o=t.translateY,a=t.scaleX,s=t.scaleY,c=t.rotateX,l=t.rotateY,u=t.rotateZ,d=t.originX,f=t.originY,h=t.width,p=t.height,m="",g="";(R(d)||R(f))&&(g+="transform-origin: "+(d||0)+"px "+(f||0)+"px;"),R(i)&&(m+="perspective("+i+"px) "),(R(r)||R(o))&&(m+="translate3d("+(r||0)+"px, "+(o||0)+"px, 0) "),(R(a)||R(s))&&(m+="scale3d("+(R(a)?a:1)+", "+(R(s)?s:1)+", 1) "),R(u)&&(m+="rotateZ("+u+"rad) "),R(c)&&(m+="rotateX("+c+"rad) "),R(l)&&(m+="rotateY("+l+"rad) "),m.length&&(g+="transform:"+m+";"),R(n)&&(g+="opacity:"+n+";",0===n&&(g+="visibility:hidden;"),n<1&&(g+="pointer-events:none;")),R(p)&&(g+="height:"+p+"px;"),R(h)&&(g+="width:"+h+"px;");var v=e.elementCurrentStyle||"";g.length===v.length&&g===v||(e.style.cssText=g,e.elementCurrentStyle=g)}(o.element,n),Object.assign(s,Object.assign({},n)),!0},destroy:function(){}}},listeners:function(e){var t,n=e.viewExternalAPI,i=e.view,r=[],o=(t=i.element,function(e,n){t.addEventListener(e,n)}),a=function(e){return function(t,n){e.removeEventListener(t,n)}}(i.element);return n.on=function(e,t){r.push({type:e,fn:t}),o(e,t)},n.off=function(e,t){r.splice(r.findIndex((function(n){return n.type===e&&n.fn===t})),1),a(e,t)},{write:function(){return!0},destroy:function(){r.forEach((function(e){a(e.type,e.fn)}))}}},animations:function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewInternalAPI,r=e.viewExternalAPI,a=Object.assign({},n),s=[];return o(t,(function(e,t){var o=x(t);o&&(o.onupdate=function(t){n[e]=t},o.target=a[e],w([{key:e,setter:function(e){o.target!==e&&(o.target=e)},getter:function(){return n[e]}}],[i,r],n,!0),s.push(o))})),{write:function(e){var t=!0;return s.forEach((function(n){n.resting||(t=!1),n.interpolate(e)})),t},destroy:function(){}}},apis:function(e){w(e.mixinConfig,e.viewExternalAPI,e.viewProps)}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,n=void 0===t?"div":t,i=e.name,r=void 0===i?null:i,o=e.attributes,s=void 0===o?{}:o,c=e.read,l=void 0===c?function(){}:c,u=e.write,m=void 0===u?function(){}:u,g=e.create,_=void 0===g?function(){}:g,E=e.destroy,y=void 0===E?function(){}:E,T=e.filterFrameActionsForChild,I=void 0===T?function(e,t){return t}:T,O=e.didCreateView,x=void 0===O?function(){}:O,w=e.didWriteView,R=void 0===w?function(){}:w,C=e.ignoreRect,A=void 0!==C&&C,M=e.ignoreRectUpdate,k=void 0!==M&&M,D=e.mixins,L=void 0===D?[]:D;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=d(n,"filepond--"+r,s),o=window.getComputedStyle(i,null),c=P(),u=null,g=!1,E=[],T=[],O={},w={},C=[m],M=[l],D=[y],N=function(){return i},G=function(){return E.concat()},F=function(){return O},j=function(e){return function(t,n){return t(e,n)}},U=function(){return u||(u=b(c,E,[0,0],[1,1]))},V=function(){return o},B=function(){u=null,E.forEach((function(e){return e._read()})),!(k&&c.width&&c.height)&&P(c,i,o);var e={root:K,props:t,rect:c};M.forEach((function(t){return t(e)}))},z=function(e,n,i){var r=0===n.length;return C.forEach((function(o){!1===o({props:t,root:K,actions:n,timestamp:e,shouldOptimize:i})&&(r=!1)})),T.forEach((function(t){!1===t.write(e)&&(r=!1)})),E.filter((function(e){return!!e.element.parentNode})).forEach((function(t){t._write(e,I(t,n),i)||(r=!1)})),E.forEach((function(t,o){t.element.parentNode||(K.appendChild(t.element,o),t._read(),t._write(e,I(t,n),i),r=!1)})),g=r,R({props:t,root:K,actions:n,timestamp:e}),r},q=function(){T.forEach((function(e){return e.destroy()})),D.forEach((function(e){e({root:K,props:t})})),E.forEach((function(e){return e._destroy()}))},H={element:{get:N},style:{get:V},childViews:{get:G}},Y=Object.assign({},H,{rect:{get:U},ref:{get:F},is:function(e){return r===e},appendChild:f(i),createChildView:j(e),linkView:function(e){return E.push(e),e},unlinkView:function(e){E.splice(E.indexOf(e),1)},appendChildView:h(0,E),removeChildView:p(i,E),registerWriter:function(e){return C.push(e)},registerReader:function(e){return M.push(e)},registerDestroyer:function(e){return D.push(e)},invalidateLayout:function(){return i.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),W={element:{get:N},childViews:{get:G},rect:{get:U},resting:{get:function(){return g}},isRectIgnored:function(){return A},_read:B,_write:z,_destroy:q},X=Object.assign({},H,{rect:{get:function(){return c}}});Object.keys(L).sort((function(e,t){return"styles"===e?1:"styles"===t?-1:0})).forEach((function(e){var n=S[e]({mixinConfig:L[e],viewProps:t,viewState:w,viewInternalAPI:Y,viewExternalAPI:W,view:a(X)});n&&T.push(n)}));var K=a(Y);_({root:K,props:t});var Z=v(i);return E.forEach((function(e,t){K.appendChild(e.element,Z+t)})),x(K),a(W)}},M=function(e,t){return function(n){var i=n.root,r=n.props,o=n.actions,a=void 0===o?[]:o,s=n.timestamp,c=n.shouldOptimize;a.filter((function(t){return e[t.type]})).forEach((function(t){return e[t.type]({root:i,props:r,action:t.data,timestamp:s,shouldOptimize:c})})),t&&t({root:i,props:r,actions:a,timestamp:s,shouldOptimize:c})}},k=function(e,t){return t.parentNode.insertBefore(e,t)},D=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},L=function(e){return Array.isArray(e)},N=function(e){return null==e},G=function(e){return e.trim()},F=function(e){return""+e},j=function(e){return"boolean"==typeof e},U=function(e){return j(e)?e:"true"===e},V=function(e){return"string"==typeof e},B=function(e){return y(e)?e:V(e)?F(e).replace(/[a-z]+/gi,""):0},z=function(e){return parseInt(B(e),10)},q=function(e){return parseFloat(B(e))},H=function(e){return y(e)&&isFinite(e)&&Math.floor(e)===e},Y=function(e){if(H(e))return e;var t=F(e).trim();return/MB$/i.test(t)?(t=t.replace(/MB$i/,"").trim(),1e3*z(t)*1e3):/KB/i.test(t)?(t=t.replace(/KB$i/,"").trim(),1e3*z(t)):z(t)},W=function(e){return"function"==typeof e},X={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},K=function(e){return"object"==typeof e&&null!==e},Z=function(e){return L(e)?"array":function(e){return null===e}(e)?"null":H(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":function(e){return K(e)&&V(e.url)&&K(e.process)&&K(e.revert)&&K(e.restore)&&K(e.fetch)}(e)?"api":typeof e},Q={array:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return N(e)?[]:L(e)?e:F(e).split(t).map(G).filter((function(e){return e.length}))},boolean:U,int:function(e){return"bytes"===Z(e)?Y(e):z(e)},number:q,float:q,bytes:Y,string:function(e){return W(e)?e:F(e)},function:function(e){return function(e){for(var t=self,n=e.split("."),i=null;i=n.shift();)if(!(t=t[i]))return null;return t}(e)},serverapi:function(e){return(n={}).url=V(t=e)?t:t.url||"",n.timeout=t.timeout?parseInt(t.timeout,10):0,n.headers=t.headers?t.headers:{},o(X,(function(e){n[e]=function(e,t,n,i,r){if(null===t)return null;if("function"==typeof t)return t;var o={url:"GET"===n||"PATCH"===n?"?"+e+"=":"",method:n,headers:r,withCredentials:!1,timeout:i,onload:null,ondata:null,onerror:null};if(V(t))return o.url=t,o;if(Object.assign(o,t),V(o.headers)){var a=o.headers.split(/:(.+)/);o.headers={header:a[0],value:a[1]}}return o.withCredentials=U(o.withCredentials),o}(e,t[e],X[e],n.timeout,n.headers)})),n.remove=t.remove||null,delete n.headers,n;var t,n},object:function(e){try{return JSON.parse(e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(t){return null}}},$=function(e,t,n){if(e===t)return e;var i=Z(e);if(i!==n){var r=Q[n](e);if(i=Z(r),null===r)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';e=r}return e},J=function(e){var t={};return o(e,(function(n){var i,r,o,a=e[n];t[n]=(r=a[1],o=i=a[0],{enumerable:!0,get:function(){return o},set:function(e){o=$(e,i,r)}})})),a(t)},ee=function(e){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:J(e)}},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(t)},ne=function(e,t){var n={};return o(t,(function(t){n[t]={get:function(){return e.getState().options[t]},set:function(n){e.dispatch("SET_"+te(t,"_").toUpperCase(),{value:n})}}})),n},ie=function(e){return function(t,n,i){var r={};return o(e,(function(e){var n=te(e,"_").toUpperCase();r["SET_"+n]=function(r){try{i.options[e]=r.value}catch(o){}t("DID_SET_"+n,{value:i.options[e]})}})),r}},re=function(e){return function(t){var n={};return o(e,(function(e){n["GET_"+te(e,"_").toUpperCase()]=function(n){return t.options[e]}})),n}},oe=function(){return Math.random().toString(36).substr(2,9)},ae=function(e,t){return e.splice(t,1)},se=function(){var e=[],t=function(t,n){ae(e,e.findIndex((function(e){return e.event===t&&(e.cb===n||!n)})))};return{fire:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.filter((function(e){return e.event===t})).map((function(e){return e.cb})).forEach((function(e){setTimeout((function(){e.apply(void 0,i)}),0)}))},on:function(t,n){e.push({event:t,cb:n})},onOnce:function(n,i){e.push({event:n,cb:function(){t(n,i),i.apply(void 0,arguments)}})},off:t}},ce=function(e,t,n){Object.getOwnPropertyNames(e).filter((function(e){return!n.includes(e)})).forEach((function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))},le=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],ue=function(e){var t={};return ce(e,t,le),t},de=function(e){e.forEach((function(t,n){t.released&&ae(e,n)}))},fe={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},he={INPUT:1,LIMBO:2,LOCAL:3},pe=function(e){return/[^0-9]+/.exec(e)},me=function(){return pe(1.1.toLocaleString())[0]},ge={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},ve=[],be=function(e,t,n){return new Promise((function(i,r){var o=ve.filter((function(t){return t.key===e})).map((function(e){return e.cb}));if(0!==o.length){var a=o.shift();o.reduce((function(e,t){return e.then((function(e){return t(e,n)}))}),a(t,n)).then((function(e){return i(e)})).catch((function(e){return r(e)}))}else i(t)}))},_e=function(e,t,n){return ve.filter((function(t){return t.key===e})).map((function(e){return e.cb(t,n)}))},Ee=function(e,t){return ve.push({key:e,cb:t})},ye=function(){return Object.assign({},Te)},Te={id:[null,ge.STRING],name:["filepond",ge.STRING],disabled:[!1,ge.BOOLEAN],className:[null,ge.STRING],required:[!1,ge.BOOLEAN],captureMethod:[null,ge.STRING],allowDrop:[!0,ge.BOOLEAN],allowBrowse:[!0,ge.BOOLEAN],allowPaste:[!0,ge.BOOLEAN],allowMultiple:[!1,ge.BOOLEAN],allowReplace:[!0,ge.BOOLEAN],allowRevert:[!0,ge.BOOLEAN],allowReorder:[!1,ge.BOOLEAN],allowDirectoriesOnly:[!1,ge.BOOLEAN],forceRevert:[!1,ge.BOOLEAN],maxFiles:[null,ge.INT],checkValidity:[!1,ge.BOOLEAN],itemInsertLocationFreedom:[!0,ge.BOOLEAN],itemInsertLocation:["before",ge.STRING],itemInsertInterval:[75,ge.INT],dropOnPage:[!1,ge.BOOLEAN],dropOnElement:[!0,ge.BOOLEAN],dropValidation:[!1,ge.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],ge.ARRAY],instantUpload:[!0,ge.BOOLEAN],maxParallelUploads:[2,ge.INT],chunkUploads:[!1,ge.BOOLEAN],chunkForce:[!1,ge.BOOLEAN],chunkSize:[5e6,ge.INT],chunkRetryDelays:[[500,1e3,3e3],ge.Array],server:[null,ge.SERVER_API],labelDecimalSeparator:[me(),ge.STRING],labelThousandsSeparator:[(t=me(),n=1e3.toLocaleString(),n!==1e3.toString()?pe(n)[0]:"."===t?",":"."),ge.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',ge.STRING],labelInvalidField:["Field contains invalid files",ge.STRING],labelFileWaitingForSize:["Waiting for size",ge.STRING],labelFileSizeNotAvailable:["Size not available",ge.STRING],labelFileCountSingular:["file in list",ge.STRING],labelFileCountPlural:["files in list",ge.STRING],labelFileLoading:["Loading",ge.STRING],labelFileAdded:["Added",ge.STRING],labelFileLoadError:["Error during load",ge.STRING],labelFileRemoved:["Removed",ge.STRING],labelFileRemoveError:["Error during remove",ge.STRING],labelFileProcessing:["Uploading",ge.STRING],labelFileProcessingComplete:["Upload complete",ge.STRING],labelFileProcessingAborted:["Upload cancelled",ge.STRING],labelFileProcessingError:["Error during upload",ge.STRING],labelFileProcessingRevertError:["Error during revert",ge.STRING],labelTapToCancel:["tap to cancel",ge.STRING],labelTapToRetry:["tap to retry",ge.STRING],labelTapToUndo:["tap to undo",ge.STRING],labelButtonRemoveItem:["Remove",ge.STRING],labelButtonAbortItemLoad:["Abort",ge.STRING],labelButtonRetryItemLoad:["Retry",ge.STRING],labelButtonAbortItemProcessing:["Cancel",ge.STRING],labelButtonUndoItemProcessing:["Undo",ge.STRING],labelButtonRetryItemProcessing:["Retry",ge.STRING],labelButtonProcessItem:["Upload",ge.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',ge.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',ge.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',ge.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',ge.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',ge.STRING],oninit:[null,ge.FUNCTION],onwarning:[null,ge.FUNCTION],onerror:[null,ge.FUNCTION],onactivatefile:[null,ge.FUNCTION],onaddfilestart:[null,ge.FUNCTION],onaddfileprogress:[null,ge.FUNCTION],onaddfile:[null,ge.FUNCTION],onprocessfilestart:[null,ge.FUNCTION],onprocessfileprogress:[null,ge.FUNCTION],onprocessfileabort:[null,ge.FUNCTION],onprocessfilerevert:[null,ge.FUNCTION],onprocessfile:[null,ge.FUNCTION],onprocessfiles:[null,ge.FUNCTION],onremovefile:[null,ge.FUNCTION],onpreparefile:[null,ge.FUNCTION],onupdatefiles:[null,ge.FUNCTION],onreorderfiles:[null,ge.FUNCTION],beforeDropFile:[null,ge.FUNCTION],beforeAddFile:[null,ge.FUNCTION],beforeRemoveFile:[null,ge.FUNCTION],stylePanelLayout:[null,ge.STRING],stylePanelAspectRatio:[null,ge.STRING],styleItemPanelAspectRatio:[null,ge.STRING],styleButtonRemoveItemPosition:["left",ge.STRING],styleButtonProcessItemPosition:["right",ge.STRING],styleLoadIndicatorPosition:["right",ge.STRING],styleProgressIndicatorPosition:["right",ge.STRING],styleButtonRemoveItemAlign:[!1,ge.BOOLEAN],files:[[],ge.ARRAY]},Ie=function(e,t){return N(t)?e[0]||null:H(t)?e[t]||null:("object"==typeof t&&(t=t.id),e.find((function(e){return e.id===t}))||null)},Oe=function(e){if(N(e))return e;if(/:/.test(e)){var t=e.split(":");return t[1]/t[0]}return parseFloat(e)},xe=function(e){return e.filter((function(e){return!e.archived}))},we={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Re=[fe.LOAD_ERROR,fe.PROCESSING_ERROR,fe.PROCESSING_REVERT_ERROR],Ce=[fe.LOADING,fe.PROCESSING,fe.PROCESSING_QUEUED,fe.INIT],Se=[fe.PROCESSING_COMPLETE],Pe=function(e){return Re.includes(e.status)},Ae=function(e){return Ce.includes(e.status)},Me=function(e){return Se.includes(e.status)},ke=function(e){return{GET_STATUS:function(){var t=xe(e.items),n=we.ERROR,i=we.BUSY,r=we.IDLE,o=we.READY;return 0===t.length?we.EMPTY:t.some(Pe)?n:t.some(Ae)?i:t.some(Me)?o:r},GET_ITEM:function(t){return Ie(e.items,t)},GET_ACTIVE_ITEM:function(t){return Ie(xe(e.items),t)},GET_ACTIVE_ITEMS:function(){return xe(e.items)},GET_ITEMS:function(){return e.items},GET_ITEM_NAME:function(t){var n=Ie(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:function(t){var n=Ie(e.items,t);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter((function(e){return/^style/.test(e)})).map((function(t){return{name:t,value:e.options[t]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(e.options.stylePanelLayout)?1:Oe(e.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(t){return xe(e.items).filter((function(e){return e.status===t}))},GET_TOTAL_ITEMS:function(){return xe(e.items).length},IS_ASYNC:function(){return K(e.options.server)&&(K(e.options.server.process)||W(e.options.server.process))}}},De=function(e,t,n){return Math.max(Math.min(n,e),t)},Le=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},Ne=function(e){return e.split("/").pop().split("?").shift()},Ge=function(e){return e.split(".").pop()},Fe=function(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+je(e.getMonth()+1,"00")+"-"+je(e.getDate(),"00")+"_"+je(e.getHours(),"00")+"-"+je(e.getMinutes(),"00")+"-"+je(e.getSeconds(),"00")},Ve=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.slice(0,e.size,"string"==typeof n?n:e.type);return r.lastModifiedDate=new Date,e._relativePath&&(r._relativePath=e._relativePath),V(t)||(t=Ue()),t&&null===i&&Ge(t)?r.name=t:(i=i||Fe(r.type),r.name=t+(i?"."+i:"")),r},Be=function(e,t){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var i=new n;return i.append(e),i.getBlob(t)}return new Blob([e],{type:t})},ze=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},qe=function(e){if(!/^content-disposition:/i.test(e))return null;var t=e.split(/filename=|filename\*=.+''/).splice(1).map((function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(e){return e.length}));return t.length?decodeURI(t[t.length-1]):null},He=function(e){if(/content-length:/i.test(e)){var t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Ye=function(e){return/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null},We=function(e){var t={source:null,name:null,size:null},n=e.split("\n"),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value,l=qe(c);if(l)t.name=l;else{var u=He(c);if(u)t.size=u;else{var d=Ye(c);d&&(t.source=d)}}}}catch(f){r=!0,o=f}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return t},Xe=function(e){return/GET|HEAD/.test(e)},Ke=function(e,t,n){var i={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){r=!0,a.abort()}},r=!1,o=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),t=encodeURI(t),Xe(n.method)&&e&&(t=""+t+encodeURIComponent("string"==typeof e?e:JSON.stringify(e)));var a=new XMLHttpRequest;return(Xe(n.method)?a:a.upload).onprogress=function(e){r||i.onprogress(e.lengthComputable,e.loaded,e.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||o||(o=!0,i.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?i.onload(a):i.onerror(a)},a.onerror=function(){return i.onerror(a)},a.onabort=function(){r=!0,i.onabort()},a.ontimeout=function(){return i.ontimeout(a)},a.open(n.method,t,!0),H(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(e){var t=unescape(encodeURIComponent(n.headers[e]));a.setRequestHeader(e,t)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(e),i},Ze=function(e,t,n,i){return{type:e,code:t,body:n,headers:i}},Qe=function(e){return function(t){e(Ze("error",0,"Timeout",t.getAllResponseHeaders()))}},$e=function(e){return/\?/.test(e)},Je=function(){for(var e="",t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e+=$e(e)&&$e(t)?t.replace(/\?/,"&"):t})),e},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!V(t.url))return null;var n=t.onload||function(e){return e},i=t.onerror||function(e){return null};return function(r,o,a,s,c,l){var u=Ke(r,Je(e,t.url),Object.assign({},t,{responseType:"blob"}));return u.onload=function(e){var t=e.getAllResponseHeaders(),i=We(t).name||Ne(r);o(Ze("load",e.status,Ve(n(e.response),i),t))},u.onerror=function(e){a(Ze("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},u.onheaders=function(e){l(Ze("headers",e.status,null,e.getAllResponseHeaders()))},u.ontimeout=Qe(a),u.onprogress=s,u.onabort=c,u}};function tt(e){this.wrapped=e}function nt(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,s=a instanceof tt;Promise.resolve(s?a.wrapped:a).then((function(e){s?i("next",e):r(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(c){r("throw",c)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(nt.prototype[Symbol.asyncIterator]=function(){return this}),nt.prototype.next=function(e){return this._invoke("next",e)},nt.prototype.throw=function(e){return this._invoke("throw",e)},nt.prototype.return=function(e){return this._invoke("return",e)};var it=function(e,t,n,i){return function(r,o,a,s,c,l,u){if(r){var d=i.chunkUploads;if(r instanceof Blob&&d&&(d&&r.size>i.chunkSize||i.chunkForce))return function(e,t,n,i,r,o,a,s,c,l,u){for(var d=[],f=u.chunkServer,h=u.chunkSize,p=u.chunkRetryDelays,m={serverId:u.chunkTransferId,aborted:!1},g=t.ondata||function(e){return e},v=t.onload||function(e,t){return"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response},b=t.onerror||function(e){return null},_=Math.floor(i.size/h),E=0;E<=_;E++){var y=E*h,T=i.slice(y,y+h,"application/offset+octet-stream");d[E]={index:E,size:T.size,offset:y,data:T,file:i,progress:0,retries:(I=p,function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(I)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(I)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),status:0,error:null,request:null,timeout:null}}var I,O,x,w,R,C=function(e){return 0===e.status||3===e.status},S=function(t){if(!m.aborted)if(t=t||d.find(C)){t.status=2,t.progress=null;var n=f.ondata||function(e){return e},r=f.onerror||function(e){return null},s=Je(e,f.url,m.serverId),l="function"==typeof f.headers?f.headers(t):Object.assign({},f.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":t.offset,"Upload-Length":i.size,"Upload-Name":i.name}),u=t.request=Ke(n(t.data),s,Object.assign({},f,{headers:l}));u.onload=function(){t.status=1,t.request=null,M()},u.onprogress=function(e,n,i){t.progress=e?n:null,A()},u.onerror=function(e){t.status=3,t.request=null,t.error=r(e.response)||e.statusText,P(t)||a(Ze("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},u.ontimeout=function(e){t.status=3,t.request=null,P(t)||Qe(a)(e)},u.onabort=function(){t.status=0,t.request=null,c()}}else d.every((function(e){return 1===e.status}))&&o(m.serverId)},P=function(e){return 0!==e.retries.length&&(e.status=4,clearTimeout(e.timeout),e.timeout=setTimeout((function(){S(e)}),e.retries.shift()),!0)},A=function(){var e=d.reduce((function(e,t){return null===e||null===t.progress?null:e+t.progress}),0);if(null===e)return s(!1,0,0);var t=d.reduce((function(e,t){return e+t.size}),0);s(!0,e,t)},M=function(){d.filter((function(e){return 2===e.status})).length>=1||S()};return m.serverId?(O=function(e){m.aborted||(d.filter((function(t){return t.offset<e})).forEach((function(e){e.status=1,e.progress=e.size})),M())},x=Je(e,f.url,m.serverId),w={headers:"function"==typeof t.headers?t.headers(m.serverId):Object.assign({},t.headers),method:"HEAD"},(R=Ke(null,x,w)).onload=function(e){return O(v(e,w.method))},R.onerror=function(e){return a(Ze("error",e.status,b(e.response)||e.statusText,e.getAllResponseHeaders()))},R.ontimeout=Qe(a)):function(o){var s=new FormData;K(r)&&s.append(n,JSON.stringify(r));var c="function"==typeof t.headers?t.headers(i,r):Object.assign({},t.headers,{"Upload-Length":i.size}),u=Object.assign({},t,{headers:c}),d=Ke(g(s),Je(e,t.url),u);d.onload=function(e){return t=v(e,u.method),void(m.aborted||(l(t),m.serverId=t,M()));var t},d.onerror=function(e){return a(Ze("error",e.status,b(e.response)||e.statusText,e.getAllResponseHeaders()))},d.ontimeout=Qe(a)}(),{abort:function(){m.aborted=!0,d.forEach((function(e){clearTimeout(e.timeout),e.request&&e.request.abort()}))}}}(e,t,n,r,o,a,s,c,l,u,i);var f=t.ondata||function(e){return e},h=t.onload||function(e){return e},p=t.onerror||function(e){return null},m=new FormData;K(o)&&m.append(n,JSON.stringify(o)),(r instanceof Blob?[{name:null,file:r}]:r).forEach((function(e){m.append(n,e.file,null===e.name?e.file.name:""+e.name+e.file.name)}));var g=Ke(f(m),Je(e,t.url),t);return g.onload=function(e){a(Ze("load",e.status,h(e.response),e.getAllResponseHeaders()))},g.onerror=function(e){s(Ze("error",e.status,p(e.response)||e.statusText,e.getAllResponseHeaders()))},g.ontimeout=Qe(s),g.onprogress=c,g.onabort=l,g}}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!V(t.url))return function(e,t){return t()};var n=t.onload||function(e){return e},i=t.onerror||function(e){return null};return function(r,o,a){var s=Ke(r,e+t.url,t);return s.onload=function(e){o(Ze("load",e.status,n(e.response),e.getAllResponseHeaders()))},s.onerror=function(e){a(Ze("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},s.ontimeout=Qe(a),s}},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},at=function(e){return e.substr(0,e.lastIndexOf("."))||e},st=function(e){var t=[e.name,e.size,e.type];return e instanceof Blob||Le(e)?t[0]=e.name||Ue():Le(e)?(t[1]=e.length,t[2]=ze(e)):V(e)&&(t[0]=Ne(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},ct=function(e){return!!(e instanceof File||e instanceof Blob&&e.name)},lt=function e(t){if(!K(t))return t;var n=L(t)?[]:{};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];n[i]=r&&K(r)?e(r):r}return n},ut=function(e,t){var n=function(e,t){return N(t)?0:V(t)?e.findIndex((function(e){return e.id===t})):-1}(e,t);if(!(n<0))return e[n]||null},dt=function(e,t,n,i,r,o){var a=Ke(null,e,{method:"GET",responseType:"blob"});return a.onload=function(n){var i=n.getAllResponseHeaders(),r=We(i).name||Ne(e);t(Ze("load",n.status,Ve(n.response,r),i))},a.onerror=function(e){n(Ze("error",e.status,e.statusText,e.getAllResponseHeaders()))},a.onheaders=function(e){o(Ze("headers",e.status,null,e.getAllResponseHeaders()))},a.ontimeout=Qe(n),a.onprogress=i,a.onabort=r,a},ft=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},ht=function(e){return function(){return W(e)?e.apply(void 0,arguments):e}},pt=function(e,t){clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout((function(){e("DID_UPDATE_ITEMS",{items:xe(t.items)})}),0)},mt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise((function(t){if(!e)return t(!0);var i=e.apply(void 0,n);return null==i?t(!0):"boolean"==typeof i?t(i):void("function"==typeof i.then&&i.then(t))}))},gt=function(e,t){e.items.sort((function(e,n){return t(ue(e),ue(n))}))},vt=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.query,r=n.success,o=void 0===r?function(){}:r,a=n.failure,s=void 0===a?function(){}:a,c=Ie(e.items,i);c?t(c,o,s):s({error:Ze("error",0,"Item not found"),file:null})}},bt=function(e,t,n){return{ABORT_ALL:function(){xe(n.items).forEach((function(e){e.freeze(),e.abortLoad(),e.abortProcessing()}))},DID_SET_FILES:function(t){var i=t.value,r=(void 0===i?[]:i).map((function(e){return{source:e.source?e.source:e,options:e.options}})),o=xe(n.items);o.forEach((function(t){r.find((function(e){return e.source===t.source||e.source===t.file}))||e("REMOVE_ITEM",{query:t})})),o=xe(n.items),r.forEach((function(t,n){o.find((function(e){return e.source===t.source||e.file===t.source}))||e("ADD_ITEM",Object.assign({},t,{interactionMethod:5,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(i){var r=i.id;clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var i=ut(n.items,r);if(t("IS_ASYNC")){var o,a=function(){setTimeout((function(){e("REQUEST_ITEM_PROCESSING",{query:r})}),32)};return i.status===fe.PROCESSING_COMPLETE?(o=n.options.instantUpload,void i.revert(rt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(o?a:function(){}).catch((function(){}))):i.status===fe.PROCESSING?function(e){i.abortProcessing().then(e?a:function(){})}(n.options.instantUpload):void(n.options.instantUpload&&a())}be("SHOULD_PREPARE_OUTPUT",!1,{item:i,query:t}).then((function(t){t&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:i,success:function(t){e("DID_PREPARE_OUTPUT",{id:r,file:t})}},!0)}))}),0)},MOVE_ITEM:function(e){var t=e.index,i=Ie(n.items,e.query);if(i){var r=n.items.indexOf(i);r!==(t=De(t,0,n.items.length-1))&&n.items.splice(t,0,n.items.splice(r,1)[0])}},SORT:function(i){gt(n,i.compare),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var i=n.items,r=n.index,o=n.interactionMethod,a=n.success,s=void 0===a?function(){}:a,c=n.failure,l=void 0===c?function(){}:c,u=r;if(-1===r||void 0===r){var d=t("GET_ITEM_INSERT_LOCATION"),f=t("GET_TOTAL_ITEMS");u="before"===d?0:f}var h=t("GET_IGNORED_FILES"),p=i.filter((function(e){return ct(e)?!h.includes(e.name.toLowerCase()):!N(e)})).map((function(t){return new Promise((function(n,i){e("ADD_ITEM",{interactionMethod:o,source:t.source||t,success:n,failure:i,index:u++,options:t.options||{}})}))}));Promise.all(p).then(s).catch(l)},ADD_ITEM:function(i){var r=i.source,o=i.index,s=void 0===o?-1:o,c=i.interactionMethod,l=i.success,u=void 0===l?function(){}:l,d=i.failure,f=void 0===d?function(){}:d,h=i.options,p=void 0===h?{}:h;if(N(r))f({error:Ze("error",0,"No source"),file:null});else if(!ct(r)||!n.options.ignoredFiles.includes(r.name.toLowerCase())){if(!function(e){var t=xe(e.items).length;if(!e.options.allowMultiple)return 0===t;var n=e.options.maxFiles;return null===n||t<n}(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var m=Ze("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:r,error:m}),void f({error:m,file:null})}var g=xe(n.items)[0];if(g.status===fe.PROCESSING_COMPLETE||g.status===fe.PROCESSING_REVERT_ERROR){var v=t("GET_FORCE_REVERT");if(g.revert(rt(n.options.server.url,n.options.server.revert),v).then((function(){v&&e("ADD_ITEM",{source:r,index:s,interactionMethod:c,success:u,failure:f,options:p})})).catch((function(){})),v)return}e("REMOVE_ITEM",{query:g.id})}var b="local"===p.type?he.LOCAL:"limbo"===p.type?he.LIMBO:he.INPUT,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=oe(),r={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?fe.PROCESSING_COMPLETE:fe.INIT,activeLoader:null,activeProcessor:null},o=null,s={},c=function(e){return r.status=e},l=function(e){if(!r.released&&!r.frozen){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];I.fire.apply(I,[e].concat(n))}},u=function(){return Ge(r.file.name)},d=function(){return r.file.type},f=function(){return r.file.size},h=function(){return r.file},p=function(t,n,i){r.source=t,r.file?l("load-skip"):(r.file=st(t),n.on("init",(function(){l("load-init")})),n.on("meta",(function(t){r.file.size=t.size,r.file.filename=t.filename,t.source&&(e=he.LIMBO,r.serverFileReference=t.source,r.status=fe.PROCESSING_COMPLETE),l("load-meta")})),n.on("progress",(function(e){c(fe.LOADING),l("load-progress",e)})),n.on("error",(function(e){c(fe.LOAD_ERROR),l("load-request-error",e)})),n.on("abort",(function(){c(fe.INIT),l("load-abort")})),n.on("load",(function(t){r.activeLoader=null;var n=function(t){r.file=ct(t)?t:r.file,c(e===he.LIMBO&&r.serverFileReference?fe.PROCESSING_COMPLETE:fe.IDLE),l("load")};r.serverFileReference?n(t):i(t,n,(function(e){r.file=t,l("load-meta"),c(fe.LOAD_ERROR),l("load-file-error",e)}))})),n.setSource(t),r.activeLoader=n,n.load())},m=function(){r.activeLoader&&r.activeLoader.load()},g=function(){r.activeLoader?r.activeLoader.abort():(c(fe.INIT),l("load-abort"))},v=function e(t,n){if(r.processingAborted)r.processingAborted=!1;else if(c(fe.PROCESSING),o=null,r.file instanceof Blob){t.on("load",(function(e){r.transferId=null,r.serverFileReference=e})),t.on("transfer",(function(e){r.transferId=e})),t.on("load-perceived",(function(e){r.activeProcessor=null,r.transferId=null,r.serverFileReference=e,c(fe.PROCESSING_COMPLETE),l("process-complete",e)})),t.on("start",(function(){l("process-start")})),t.on("error",(function(e){r.activeProcessor=null,c(fe.PROCESSING_ERROR),l("process-error",e)})),t.on("abort",(function(e){r.activeProcessor=null,r.transferId=null,r.serverFileReference=e,c(fe.IDLE),l("process-abort"),o&&o()})),t.on("progress",(function(e){l("process-progress",e)}));var i=console.error;n(r.file,(function(e){r.archived||t.process(e,Object.assign({},s))}),i),r.activeProcessor=t}else I.on("load",(function(){e(t,n)}))},b=function(){r.processingAborted=!1,c(fe.PROCESSING_QUEUED)},_=function(){return new Promise((function(e){if(!r.activeProcessor)return r.processingAborted=!0,c(fe.IDLE),l("process-abort"),void e();o=function(){e()},r.activeProcessor.abort()}))},E=function(e,t){return new Promise((function(n,i){null!==r.serverFileReference?(e(r.serverFileReference,(function(){r.serverFileReference=null,n()}),(function(e){t?(c(fe.PROCESSING_REVERT_ERROR),l("process-revert-error"),i(e)):n()})),c(fe.IDLE),l("process-revert")):n()}))},y=function(e,t,n){var i=e.split("."),r=i[0],o=i.pop(),a=s;i.forEach((function(e){return a=a[e]})),JSON.stringify(a[o])!==JSON.stringify(t)&&(a[o]=t,n||l("metadata-update",{key:r,value:s[r]}))},T=function(e){return lt(e?s[e]:s)},I=Object.assign({id:{get:function(){return i}},origin:{get:function(){return e}},serverId:{get:function(){return r.serverFileReference}},transferId:{get:function(){return r.transferId}},status:{get:function(){return r.status}},filename:{get:function(){return r.file.name}},filenameWithoutExtension:{get:function(){return at(r.file.name)}},fileExtension:{get:u},fileType:{get:d},fileSize:{get:f},file:{get:h},relativePath:{get:function(){return r.file._relativePath}},source:{get:function(){return r.source}},getMetadata:T,setMetadata:function(e,t,n){if(K(e)){var i=e;return Object.keys(i).forEach((function(e){y(e,i[e],t)})),e}return y(e,t,n),t},extend:function(e,t){return O[e]=t},abortLoad:g,retryLoad:m,requestProcessing:b,abortProcessing:_,load:p,process:v,revert:E},se(),{freeze:function(){return r.frozen=!0},release:function(){return r.released=!0},released:{get:function(){return r.released}},archive:function(){return r.archived=!0},archived:{get:function(){return r.archived}}}),O=a(I);return O}(b,b===he.INPUT?null:r,p.file);Object.keys(p.metadata||{}).forEach((function(e){_.setMetadata(e,p.metadata[e])})),_e("DID_CREATE_ITEM",_,{query:t,dispatch:e});var E=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(s="before"===E?-1:n.items.length),function(e,t,n){N(t)||(void 0===n?e.push(t):function(e,t,n){e.splice(t,0,n)}(e,n=De(n,0,e.length),t))}(n.items,_,s),W(E)&&r&&gt(n,E);var y=_.id;_.on("load-init",(function(){e("DID_START_ITEM_LOAD",{id:y})})),_.on("load-meta",(function(){e("DID_UPDATE_ITEM_META",{id:y})})),_.on("load-progress",(function(t){e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:y,progress:t})})),_.on("load-request-error",(function(t){var i=ht(n.options.labelFileLoadError)(t);if(t.code>=400&&t.code<500)return e("DID_THROW_ITEM_INVALID",{id:y,error:t,status:{main:i,sub:t.code+" ("+t.body+")"}}),void f({error:t,file:ue(_)});e("DID_THROW_ITEM_LOAD_ERROR",{id:y,error:t,status:{main:i,sub:n.options.labelTapToRetry}})})),_.on("load-file-error",(function(t){e("DID_THROW_ITEM_INVALID",{id:y,error:t.status,status:t.status}),f({error:t.status,file:ue(_)})})),_.on("load-abort",(function(){e("REMOVE_ITEM",{query:y})})),_.on("load-skip",(function(){e("COMPLETE_LOAD_ITEM",{query:y,item:_,data:{source:r,success:u}})})),_.on("load",(function(){var i=function(i){i?(_.on("metadata-update",(function(t){e("DID_UPDATE_ITEM_METADATA",{id:y,change:t})})),be("SHOULD_PREPARE_OUTPUT",!1,{item:_,query:t}).then((function(t){var i=function(){e("COMPLETE_LOAD_ITEM",{query:y,item:_,data:{source:r,success:u}}),pt(e,n)};t?e("REQUEST_PREPARE_OUTPUT",{query:y,item:_,success:function(t){e("DID_PREPARE_OUTPUT",{id:y,file:t}),i()}},!0):i()}))):e("REMOVE_ITEM",{query:y})};be("DID_LOAD_ITEM",_,{query:t,dispatch:e}).then((function(){mt(t("GET_BEFORE_ADD_FILE"),ue(_)).then(i)})).catch((function(){i(!1)}))})),_.on("process-start",(function(){e("DID_START_ITEM_PROCESSING",{id:y})})),_.on("process-progress",(function(t){e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:y,progress:t})})),_.on("process-error",(function(t){e("DID_THROW_ITEM_PROCESSING_ERROR",{id:y,error:t,status:{main:ht(n.options.labelFileProcessingError)(t),sub:n.options.labelTapToRetry}})})),_.on("process-revert-error",(function(t){e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:y,error:t,status:{main:ht(n.options.labelFileProcessingRevertError)(t),sub:n.options.labelTapToRetry}})})),_.on("process-complete",(function(t){e("DID_COMPLETE_ITEM_PROCESSING",{id:y,error:null,serverFileReference:t}),e("DID_DEFINE_VALUE",{id:y,value:t})})),_.on("process-abort",(function(){e("DID_ABORT_ITEM_PROCESSING",{id:y})})),_.on("process-revert",(function(){e("DID_REVERT_ITEM_PROCESSING",{id:y}),e("DID_DEFINE_VALUE",{id:y,value:null})})),e("DID_ADD_ITEM",{id:y,index:s,interactionMethod:c}),pt(e,n);var T=n.options.server||{},I=T.url,O=T.load,x=T.restore,w=T.fetch;_.load(r,function(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=Object.assign({},se(),{setSource:function(e){return t.source=e},getProgress:function(){return t.progress},abort:function(){t.request&&t.request.abort&&t.request.abort()},load:function(){var i,r,o,a=t.source;n.fire("init",a),a instanceof File?n.fire("load",a):a instanceof Blob?n.fire("load",Ve(a,a.name)):Le(a)?n.fire("load",Ve((o=ze(r=a),function(e,t){for(var n=new ArrayBuffer(e.length),i=new Uint8Array(n),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return Be(n,t)}(function(e){return atob(function(e){return e.split(",")[1].replace(/\s/g,"")}(e))}(r),o)),void 0,null,void 0)):(i=a,e?(t.timestamp=Date.now(),t.request=e(i,(function(e){t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=Ve(e,e.name||Ne(i))),n.fire("load",e instanceof Blob?e:e.body)}),(function(e){n.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)}),(function(e,i,r){r&&(t.size=r),t.duration=Date.now()-t.timestamp,e?(t.progress=i/r,n.fire("progress",t.progress)):t.progress=null}),(function(){n.fire("abort")}),(function(e){var i=We("string"==typeof e?e:e.headers);n.fire("meta",{size:t.size||i.size,filename:i.name,source:i.source})}))):n.fire("error",{type:"error",body:"Can't load URL",code:400}))}});return n}(b===he.INPUT?V(r)&&function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&ft(location.href)!==ft(e)}(r)?et(I,w):dt:et(I,b===he.LIMBO?x:O)),(function(e,n,i){be("LOAD_FILE",e,{query:t}).then(n).catch(i)}))}},REQUEST_PREPARE_OUTPUT:function(e){var n=e.item,i=e.success,r=e.failure,o=void 0===r?function(){}:r,a={error:Ze("error",0,"Item not found"),file:null};if(n.archived)return o(a);be("PREPARE_OUTPUT",n.file,{query:t,item:n}).then((function(e){be("COMPLETE_PREPARE_OUTPUT",e,{query:t,item:n}).then((function(e){if(n.archived)return o(a);i(e)}))}))},COMPLETE_LOAD_ITEM:function(i){var r=i.item,o=i.data,a=o.success,s=o.source,c=t("GET_ITEM_INSERT_LOCATION");if(W(c)&&s&&gt(n,c),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===he.INPUT?null:s}),a(ue(r)),r.origin!==he.LOCAL)return r.origin===he.LIMBO?(e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:s}),void e("DID_DEFINE_VALUE",{id:r.id,value:s})):void(t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id}));e("DID_LOAD_LOCAL_ITEM",{id:r.id})},RETRY_ITEM_LOAD:vt(n,(function(e){e.retryLoad()})),REQUEST_ITEM_PREPARE:vt(n,(function(t,n,i){e("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:function(i){e("DID_PREPARE_OUTPUT",{id:t.id,file:i}),n({file:t,output:i})},failure:i},!0)})),REQUEST_ITEM_PROCESSING:vt(n,(function(i,r,o){if(i.status===fe.IDLE||i.status===fe.PROCESSING_ERROR)i.status!==fe.PROCESSING_QUEUED&&(i.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:i.id}),e("PROCESS_ITEM",{query:i,success:r,failure:o},!0));else{var a=function(){setTimeout((function(){e("REQUEST_ITEM_PROCESSING",{query:i,success:r,failure:o})}),32)};i.status===fe.PROCESSING_COMPLETE||i.status===fe.PROCESSING_REVERT_ERROR?i.revert(rt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(a).catch((function(){})):i.status===fe.PROCESSING&&i.abortProcessing().then(a)}})),PROCESS_ITEM:vt(n,(function(i,r,o){var a=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",fe.PROCESSING).length!==a){if(i.status!==fe.PROCESSING){var s=function t(){var i=n.processingQueue.shift();if(i){var r=i.id,o=i.success,a=i.failure,s=Ie(n.items,r);s&&!s.archived?e("PROCESS_ITEM",{query:r,success:o,failure:a},!0):t()}};i.onOnce("process-complete",(function(){r(ue(i)),s(),t("GET_ITEMS_BY_STATUS",fe.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")})),i.onOnce("process-error",(function(e){o({error:e,file:ue(i)}),s()}));var c=n.options;i.process(function(e){var t={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},n=function(){t.request&&(t.perceivedPerformanceUpdater.clear(),t.request.abort(),t.complete=!0)},i=Object.assign({},se(),{process:function(n,r){var o=function(){0!==t.duration&&null!==t.progress&&i.fire("progress",i.getProgress())},a=function(){t.complete=!0,i.fire("load-perceived",t.response.body)};i.fire("start"),t.timestamp=Date.now(),t.perceivedPerformanceUpdater=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,r=null,o=Date.now(),a=function a(){var s=Date.now()-o,c=ot(n,i);s+c>t&&(c=s+c-t);var l=s/t;l>=1?e(1):(e(l),r=setTimeout(a,c))};return a(),{clear:function(){clearTimeout(r)}}}((function(e){t.perceivedProgress=e,t.perceivedDuration=Date.now()-t.timestamp,o(),t.response&&1===t.perceivedProgress&&!t.complete&&a()}),ot(750,1500)),t.request=e(n,r,(function(e){t.response=K(e)?e:{type:"load",code:200,body:""+e,headers:{}},t.duration=Date.now()-t.timestamp,t.progress=1,i.fire("load",t.response.body),1===t.perceivedProgress&&a()}),(function(e){t.perceivedPerformanceUpdater.clear(),i.fire("error",K(e)?e:{type:"error",code:0,body:""+e})}),(function(e,n,i){t.duration=Date.now()-t.timestamp,t.progress=e?n/i:null,o()}),(function(){t.perceivedPerformanceUpdater.clear(),i.fire("abort",t.response?t.response.body:null)}),(function(e){i.fire("transfer",e)}))},abort:n,getProgress:function(){return t.progress?Math.min(t.progress,t.perceivedProgress):null},getDuration:function(){return Math.min(t.duration,t.perceivedDuration)},reset:function(){n(),t.complete=!1,t.perceivedProgress=0,t.progress=0,t.timestamp=null,t.perceivedDuration=0,t.duration=0,t.request=null,t.response=null}});return i}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return"function"==typeof t?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(void 0,[n].concat(r,[i]))}:t&&V(t.url)?it(e,t,n,i):null}(c.server.url,c.server.process,c.name,{chunkTransferId:i.transferId,chunkServer:c.server.patch,chunkUploads:c.chunkUploads,chunkForce:c.chunkForce,chunkSize:c.chunkSize,chunkRetryDelays:c.chunkRetryDelays})),(function(n,r,o){be("PREPARE_OUTPUT",n,{query:t,item:i}).then((function(t){e("DID_PREPARE_OUTPUT",{id:i.id,file:t}),r(t)})).catch(o)}))}}else n.processingQueue.push({id:i.id,success:r,failure:o})})),RETRY_ITEM_PROCESSING:vt(n,(function(t){e("REQUEST_ITEM_PROCESSING",{query:t})})),REQUEST_REMOVE_ITEM:vt(n,(function(n){mt(t("GET_BEFORE_REMOVE_FILE"),ue(n)).then((function(t){t&&e("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:vt(n,(function(e){e.release()})),REMOVE_ITEM:vt(n,(function(t,i){var r=function(){var r=t.id;ut(n.items,r).archive(),e("DID_REMOVE_ITEM",{error:null,id:r,item:t}),pt(e,n),i(ue(t))},o=n.options.server;t.origin===he.LOCAL&&o&&W(o.remove)?(e("DID_START_ITEM_REMOVE",{id:t.id}),o.remove(t.source,(function(){return r()}),(function(i){e("DID_THROW_ITEM_REMOVE_ERROR",{id:t.id,error:Ze("error",0,i,null),status:{main:ht(n.options.labelFileRemoveError)(i),sub:n.options.labelTapToRetry}})}))):r()})),ABORT_ITEM_LOAD:vt(n,(function(e){e.abortLoad()})),ABORT_ITEM_PROCESSING:vt(n,(function(t){t.serverId?e("REVERT_ITEM_PROCESSING",{id:t.id}):t.abortProcessing().then((function(){n.options.instantUpload&&e("REMOVE_ITEM",{query:t.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:vt(n,(function(i){if(n.options.instantUpload){var r=function(t){t&&e("REVERT_ITEM_PROCESSING",{query:i})},o=t("GET_BEFORE_REMOVE_FILE");if(!o)return r(!0);var a=o(ue(i));return null==a?r(!0):"boolean"==typeof a?r(a):void("function"==typeof a.then&&a.then(r))}e("REVERT_ITEM_PROCESSING",{query:i})})),REVERT_ITEM_PROCESSING:vt(n,(function(i){i.revert(rt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then((function(){(n.options.instantUpload||function(e){return!ct(e.file)}(i))&&e("REMOVE_ITEM",{query:i.id})})).catch((function(){}))})),SET_OPTIONS:function(t){o(t.options,(function(t,n){e("SET_"+te(t,"_").toUpperCase(),{value:n})}))}}},_t=function(e){return document.createElement(e)},Et=function(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},yt=function(e,t,n,i){var r=(i%360-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},Tt=A({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(e){var t=e.root,n=e.props;n.spin=!1,n.progress=0,n.opacity=0;var i=d("svg");t.ref.path=d("path",{"stroke-width":2,"stroke-linecap":"round"}),i.appendChild(t.ref.path),t.ref.svg=i,t.appendChild(i)},write:function(e){var t,n,i,r=e.root,o=e.props;if(0!==o.opacity){o.align&&(r.element.dataset.align=o.align);var a=parseInt(s(r.ref.path,"stroke-width"),10),c=.5*r.rect.element.width,l=0,u=0;o.spin?(l=0,u=.5):(l=0,u=o.progress);var d=(i=1,(n=u)>(t=l)&&n-t<=.5&&(i=0),t>n&&t-n>=.5&&(i=0),function(e,t,n,i,r,o){var a=yt(e,t,n,r),s=yt(e,t,n,i);return["M",a.x,a.y,"A",n,n,0,o,0,s.x,s.y].join(" ")}(c,c,c-a,360*Math.min(.9999,t),360*Math.min(.9999,n),i));s(r.ref.path,"d",d),s(r.ref.path,"stroke-opacity",o.spin||o.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),It=A({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(e){var t=e.props;e.root.element.innerHTML=(t.icon||"")+"<span>"+t.label+"</span>",t.isDisabled=!1},write:function(e){var t=e.root,n=e.props,i=n.isDisabled,r=t.query("GET_DISABLED")||0===n.opacity;r&&!i?(n.isDisabled=!0,s(t.element,"disabled","disabled")):!r&&i&&(n.isDisabled=!1,t.element.removeAttribute("disabled"))}}),Ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return(e=Math.round(Math.abs(e)))<1e3?e+" bytes":e<wt?Math.floor(e/xt)+" KB":e<Rt?Ct(e/wt,1,t)+" MB":Ct(e/Rt,2,t)+" GB"},xt=1e3,wt=1e6,Rt=1e9,Ct=function(e,t,n){return e.toFixed(t).split(".").filter((function(e){return"0"!==e})).join(n)},St=function(e){var t=e.root,n=e.props;Et(t.ref.fileSize,Ot(t.query("GET_ITEM_SIZE",n.id))),Et(t.ref.fileName,t.query("GET_ITEM_NAME",n.id))},Pt=function(e){var t=e.root;H(t.query("GET_ITEM_SIZE",e.props.id))||Et(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},At=A({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:M({DID_LOAD_ITEM:St,DID_UPDATE_ITEM_META:St,DID_THROW_ITEM_LOAD_ERROR:Pt,DID_THROW_ITEM_INVALID:Pt}),didCreateView:function(e){_e("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function(e){var t=e.root,n=e.props,i=_t("span");i.className="filepond--file-info-main",s(i,"aria-hidden","true"),t.appendChild(i),t.ref.fileName=i;var r=_t("span");r.className="filepond--file-info-sub",t.appendChild(r),t.ref.fileSize=r,Et(r,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Et(i,t.query("GET_ITEM_NAME",n.id))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Mt=function(e){return Math.round(100*e)},kt=function(e){var t=e.root,n=e.action,i=null===n.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+Mt(n.progress)+"%";Et(t.ref.main,i),Et(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},Dt=function(e){var t=e.root;Et(t.ref.main,""),Et(t.ref.sub,"")},Lt=function(e){var t=e.root,n=e.action;Et(t.ref.main,n.status.main),Et(t.ref.sub,n.status.sub)},Nt=A({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:M({DID_LOAD_ITEM:Dt,DID_REVERT_ITEM_PROCESSING:Dt,DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;Et(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),Et(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(e){var t=e.root;Et(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Et(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;Et(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Et(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action,i=null===n.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+Mt(n.progress)+"%";Et(t.ref.main,i),Et(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:kt,DID_THROW_ITEM_LOAD_ERROR:Lt,DID_THROW_ITEM_INVALID:Lt,DID_THROW_ITEM_PROCESSING_ERROR:Lt,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Lt,DID_THROW_ITEM_REMOVE_ERROR:Lt}),didCreateView:function(e){_e("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function(e){var t=e.root,n=_t("span");n.className="filepond--file-status-main",t.appendChild(n),t.ref.main=n;var i=_t("span");i.className="filepond--file-status-sub",t.appendChild(i),t.ref.sub=i,kt({root:t,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Gt={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Ft=[];o(Gt,(function(e){Ft.push(e)}));var jt,Ut=function(e){var t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},Vt=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},Bt=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},zt=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},qt={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Ht={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Ut},status:{translateX:Ut}},Yt={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Wt={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Ut},status:{translateX:Ut,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Ut},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:zt},info:{translateX:Ut},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:zt},buttonRemoveItem:{opacity:1},info:{translateX:Ut},status:{opacity:1,translateX:Ut}},DID_LOAD_ITEM:Ht,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Ut},status:{translateX:Ut}},DID_START_ITEM_PROCESSING:Yt,DID_REQUEST_ITEM_PROCESSING:Yt,DID_UPDATE_ITEM_PROCESS_PROGRESS:Yt,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Ut}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Ut},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Ht},Xt=A({create:function(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Kt=M({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){e.root.ref.buttonAbortItemProcessing.label=e.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){e.root.ref.buttonAbortItemLoad.label=e.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){e.root.ref.buttonAbortItemRemoval.label=e.action.value},DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=n.progress}}),Zt=A({create:function(e){var t=e.root,n=e.props.id,i=t.query("GET_ALLOW_REVERT"),r=t.query("GET_INSTANT_UPLOAD"),a=t.query("IS_ASYNC"),s=t.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN"),c=a?Ft.concat():Ft.filter((function(e){return!/Process/.test(e)}));if(r&&i&&(Gt.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",Gt.RevertItemProcessing.icon="GET_ICON_REMOVE"),a&&!i){c.splice(-1,1);var l=Wt.DID_COMPLETE_ITEM_PROCESSING;l.info.translateX=Bt,l.info.translateY=Vt,l.status.translateY=Vt,l.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(s&&i){Gt.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var u=Wt.DID_COMPLETE_ITEM_PROCESSING;u.info.translateX=Ut,u.status.translateY=Vt,u.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}o(Gt,(function(e,i){var r=t.createChildView(It,{label:t.query(i.label),icon:t.query(i.icon),opacity:0});c.includes(e)&&t.appendChildView(r),r.element.dataset.align=t.query("GET_STYLE_"+i.align),r.element.classList.add(i.className),r.on("click",(function(e){e.stopPropagation(),t.dispatch(i.action,{query:n})})),t.ref["button"+e]=r})),t.ref.processingCompleteIndicator=t.appendChildView(t.createChildView(Xt)),t.ref.processingCompleteIndicator.element.dataset.align=t.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),t.ref.info=t.appendChildView(t.createChildView(At,{id:n})),t.ref.status=t.appendChildView(t.createChildView(Nt,{id:n}));var d=t.appendChildView(t.createChildView(Tt,{opacity:0,align:t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));d.element.classList.add("filepond--load-indicator"),t.ref.loadProgressIndicator=d;var f=t.appendChildView(t.createChildView(Tt,{opacity:0,align:t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));f.element.classList.add("filepond--process-indicator"),t.ref.processProgressIndicator=f,t.ref.activeStyles=[]},write:function(e){var t=e.root,n=e.actions;Kt({root:t,actions:n,props:e.props});var i=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return Wt[e.type]}));if(i){t.ref.activeStyles=[];var r=Wt[i.type];o(qt,(function(e,n){var i=t.ref[e];o(n,(function(n,o){t.ref.activeStyles.push({control:i,key:n,value:r[e]&&void 0!==r[e][n]?r[e][n]:o})}))}))}t.ref.activeStyles.forEach((function(e){var n=e.value;e.control[e.key]="function"==typeof n?n(t):n}))},didCreateView:function(e){_e("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),Qt=A({create:function(e){var t=e.root,n=e.props;t.ref.fileName=_t("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(Zt,{id:n.id})),t.ref.data=!1},ignoreRect:!0,write:M({DID_LOAD_ITEM:function(e){var t=e.root;Et(t.ref.fileName,t.query("GET_ITEM_NAME",e.props.id))}}),didCreateView:function(e){_e("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),$t={type:"spring",damping:.6,mass:7},Jt=A({name:"panel",write:function(e){var t=e.root,n=e.props;if(null!==t.ref.scalable&&n.scalable===t.ref.scalable||(t.ref.scalable=!j(n.scalable)||n.scalable,t.element.dataset.scalable=t.ref.scalable),n.height){var i=t.ref.top.rect.element,r=t.ref.bottom.rect.element,o=Math.max(i.height+r.height,n.height);t.ref.center.translateY=i.height,t.ref.center.scaleY=(o-i.height-r.height)/100,t.ref.bottom.translateY=o-r.height}},create:function(e){var t=e.root,n=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:$t},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:$t},styles:["translateY"]}}].forEach((function(e){!function(e,t,n){var i=A({name:"panel-"+t.name+" filepond--"+n,mixins:t.mixins,ignoreRectUpdate:!0}),r=e.createChildView(i,t.props);e.ref[t.name]=e.appendChildView(r)}(t,e,n.name)})),t.element.classList.add("filepond--"+n.name),t.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","scalable"]}}),en={type:"spring",stiffness:.75,damping:.45,mass:10},tn={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy",DID_REQUEST_ITEM_PROCESSING:"busy",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},nn=M({DID_UPDATE_PANEL_HEIGHT:function(e){e.root.height=e.action.height}}),rn=M({DID_GRAB_ITEM:function(e){var t=e.root;e.props.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:function(e){e.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(e){var t=e.root,n=e.props;n.dragOffset=null,n.dragOrigin=null,t.element.dataset.dragState="drop"}},(function(e){var t=e.root,n=e.actions,i=e.props,r=e.shouldOptimize;"drop"===t.element.dataset.dragState&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return tn[e.type]}));o&&o.type!==i.currentState&&(i.currentState=o.type,t.element.dataset.filepondItemState=tn[i.currentState]||"");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");a?r||(t.height=t.rect.element.width*a):(nn({root:t,actions:n,props:i}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),r&&(t.ref.panel.height=null),t.ref.panel.height=t.height})),on=A({create:function(e){var t=e.root,n=e.props;t.ref.handleClick=function(e){return t.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},t.element.id="filepond--item-"+n.id,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(Qt,{id:n.id})),t.ref.panel=t.appendChildView(t.createChildView(Jt,{name:"item-panel"})),t.ref.panel.height=null,n.markedForRemoval=!1,t.query("GET_ALLOW_REORDER")&&(t.element.dataset.dragState="idle",t.element.addEventListener("pointerdown",(function(e){if(e.isPrimary){var i=!1,r=e.pageX,o=e.pageY;n.dragOrigin={x:t.translateX,y:t.translateY},n.dragCenter={x:e.offsetX,y:e.offsetY},t.dispatch("DID_GRAB_ITEM",{id:n.id});var a=function(e){e.isPrimary&&(e.stopPropagation(),e.preventDefault(),n.dragOffset={x:e.pageX-r,y:e.pageY-o},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!i&&(i=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:n.id}))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",(function e(s){s.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",e),n.dragOffset={x:s.pageX-r,y:s.pageY-o},t.dispatch("DID_DROP_ITEM",{id:n.id}),i&&setTimeout((function(){return t.element.addEventListener("click",t.ref.handleClick)}),0))}))}})))},write:rn,destroy:function(e){var t=e.root,n=e.props;t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:"spring",scaleY:"spring",translateX:en,translateY:en,opacity:{type:"tween",duration:150}}}}),an=function(e,t,n){if(n){var i=t.length,r=null;if(0===i||n.top<t[0].rect.element.top)return-1;var o=t[0].rect.element,a=o.width+(o.marginLeft+o.marginRight),s=Math.round(e.rect.element.width/a);if(1===s){for(var c=0;c<i;c++){var l=t[c];if(n.top<l.rect.outer.top+.5*l.rect.element.height)return c}return i}for(var u=o.height+(o.marginTop+o.marginBottom),d=0;d<i;d++){var f=d%s,h=Math.floor(d/s)*u;if(n.top<h+u+o.marginBottom&&n.top>h-o.marginTop){if(n.left<f*a+a)return d;r=d!==i-1?d:null}}return null!==r?r:i}},sn=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(0===e.opacity&&cn(e,t,n,i,r),e.scaleX=1,e.scaleY=1,e.opacity=1))},cn=function(e,t,n,i,r){5===e.interactionMethod?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):2===e.interactionMethod?(e.translateX=null,e.translateX=t-20*i,e.translateY=null,e.translateY=n-10*r,e.scaleX=.8,e.scaleY=.8):3===e.interactionMethod?(e.translateY=null,e.translateY=n-30):1===e.interactionMethod&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},ln=function(e){return e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop},un=M({DID_ADD_ITEM:function(e){var t=e.root,n=e.action,i=n.id,r=n.index,o=n.interactionMethod;t.ref.addIndex=r;var a=Date.now(),s=a,c=1;if(5!==o){c=0;var l=t.query("GET_ITEM_INSERT_INTERVAL"),u=a-t.ref.lastItemSpanwDate;s=u<l?a+(l-u):a}t.ref.lastItemSpanwDate=s,t.appendChildView(t.createChildView(on,{spawnDate:s,id:i,opacity:c,interactionMethod:o}),r)},DID_REMOVE_ITEM:function(e){var t=e.action.id,n=e.root.childViews.find((function(e){return e.id===t}));n&&(n.scaleX=.9,n.scaleY=.9,n.opacity=0,n.markedForRemoval=!0)},DID_DRAG_ITEM:function(e){var t=e.root,n=e.action.id,i=t.childViews.find((function(e){return e.id===n}));if(i){for(var r=i.dragOrigin.y+i.dragOffset.y+i.dragCenter.y,o=t.query("GET_ACTIVE_ITEMS"),a=t.childViews.filter((function(e){return e.rect.element.height})),s=o.map((function(e){return a.find((function(t){return t.id===e.id}))})),c=s.length,l=c-1,u=0,d=0,f=s.findIndex((function(e){return e===i})),h=ln(i),p=0;p<c;p++)if(r<(u=(d=u)+ln(s[p]))){if(f>p){if(r<d+h){l=p;break}continue}l=p;break}t.dispatch("MOVE_ITEM",{query:i,index:l}),f!==l&&t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS")})}}}),dn=A({create:function(e){var t=e.root;s(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize;un({root:t,props:n,actions:e.actions});var r=n.dragCoordinates,o=t.rect.element.width,a=t.childViews.filter((function(e){return e.rect.element.height})),s=t.query("GET_ACTIVE_ITEMS").map((function(e){return a.find((function(t){return t.id===e.id}))})).filter((function(e){return e})),c=r?an(t,s,r):null,l=t.ref.addIndex||null;t.ref.addIndex=null;var u=0,d=0,f=0;if(0!==s.length){var h=s[0].rect.element,p=h.marginTop+h.marginBottom,m=h.width+(h.marginLeft+h.marginRight),g=h.height+p,v=Math.round(o/m);if(1===v){var b=0,_=0;s.forEach((function(e,t){if(c){var n=t-c;_=-2===n?.25*-p:-1===n?.75*-p:0===n?.75*p:1===n?.25*p:0}i&&(e.translateX=null,e.translateY=null),e.markedForRemoval||sn(e,0,b+_),b+=(e.rect.element.height+p)*(e.markedForRemoval?e.opacity:1)}))}else{var E=0,y=0;s.forEach((function(e,t){t===c&&(u=1),t===l&&(f+=1),e.markedForRemoval&&e.opacity<.5&&(d-=1);var n=t+f+u+d,r=n%v,o=Math.floor(n/v),a=r*m,s=o*g,h=Math.sign(a-E),p=Math.sign(s-y);E=a,y=s,e.markedForRemoval||(i&&(e.translateX=null,e.translateY=null),sn(e,a,s,h,p))}))}}},tag:"ul",name:"list",didWriteView:function(e){var t=e.root;t.childViews.filter((function(e){return e.markedForRemoval&&0===e.opacity&&e.resting})).forEach((function(e){e._destroy(),t.removeChildView(e)}))},filterFrameActionsForChild:function(e,t){return t.filter((function(t){return!t.data||!t.data.id||e.id===t.data.id}))},mixins:{apis:["dragCoordinates"]}}),fn=M({DID_DRAG:function(e){var t=e.root,n=e.props,i=e.action;t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:i.position.scopeLeft-t.ref.list.rect.element.left,top:i.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},DID_END_DRAG:function(e){e.props.dragCoordinates=null}}),hn=A({create:function(e){var t=e.root,n=e.props;t.ref.list=t.appendChildView(t.createChildView(dn)),n.dragCoordinates=null,n.overflowing=!1},write:function(e){var t=e.root,n=e.props;if(fn({root:t,props:n,actions:e.actions}),t.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,t.element.dataset.state="",t.height=null),n.overflow){var i=Math.round(n.overflow);i!==t.height&&(n.overflowing=!0,t.element.dataset.state="overflow",t.height=i)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),pn=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n?s(e,t,i):e.removeAttribute(t)},mn=function(e){var t=e.action;pn(e.root.element,"accept",!!t.value,t.value?t.value.join(","):"")},gn=function(e){pn(e.root.element,"multiple",e.action.value)},vn=function(e){pn(e.root.element,"webkitdirectory",e.action.value)},bn=function(e){var t=e.root,n=t.query("GET_DISABLED"),i=t.query("GET_ALLOW_BROWSE");pn(t.element,"disabled",n||!i)},_n=function(e){var t=e.root;e.action.value?0===t.query("GET_TOTAL_ITEMS")&&pn(t.element,"required",!0):pn(t.element,"required",!1)},En=function(e){var t=e.action;pn(e.root.element,"capture",!!t.value,!0===t.value?"":t.value)},yn=function(e){var t=e.root,n=t.element;t.query("GET_TOTAL_ITEMS")>0?(pn(n,"required",!1),pn(n,"name",!1)):(pn(n,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),t.query("GET_REQUIRED")&&pn(n,"required",!0))},Tn=A({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function(e){var t=e.root,n=e.props;t.element.id="filepond--browser-"+n.id,s(t.element,"name",t.query("GET_NAME")),s(t.element,"aria-controls","filepond--assistant-"+n.id),s(t.element,"aria-labelledby","filepond--drop-label-"+n.id),mn({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),gn({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),vn({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),bn({root:t}),_n({root:t,action:{value:t.query("GET_REQUIRED")}}),En({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=function(e){if(t.element.value){var i=Array.from(t.element.files).map((function(e){return e._relativePath=e.webkitRelativePath,e}));setTimeout((function(){n.onload(i),function(e){if(e&&""!==e.value){try{e.value=""}catch(r){}if(e.value){var t=_t("form"),n=e.parentNode,i=e.nextSibling;t.appendChild(e),t.reset(),i?n.insertBefore(e,i):n.appendChild(e)}}}(t.element)}),250)}},t.element.addEventListener("change",t.ref.handleChange)},destroy:function(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange)},write:M({DID_LOAD_ITEM:yn,DID_REMOVE_ITEM:yn,DID_THROW_ITEM_INVALID:function(e){var t=e.root;t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:bn,DID_SET_ALLOW_BROWSE:bn,DID_SET_ALLOW_DIRECTORIES_ONLY:vn,DID_SET_ALLOW_MULTIPLE:gn,DID_SET_ACCEPTED_FILE_TYPES:mn,DID_SET_CAPTURE_METHOD:En,DID_SET_REQUIRED:_n})}),In=function(e,t){e.innerHTML=t;var n=e.querySelector(".filepond--label-action");return n&&s(n,"tabindex","0"),t},On=A({name:"drop-label",ignoreRect:!0,create:function(e){var t=e.root,n=e.props,i=_t("label");s(i,"for","filepond--browser-"+n.id),s(i,"id","filepond--drop-label-"+n.id),s(i,"aria-hidden","true"),t.ref.handleKeyDown=function(e){(13===e.keyCode||32===e.keyCode)&&(e.preventDefault(),t.ref.label.click())},t.ref.handleClick=function(e){e.target===i||i.contains(e.target)||t.ref.label.click()},i.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),In(i,n.caption),t.appendChild(i),t.ref.label=i},destroy:function(e){var t=e.root;t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:M({DID_SET_LABEL_IDLE:function(e){In(e.root.ref.label,e.action.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),xn=A({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),wn=M({DID_DRAG:function(e){var t=e.root,n=e.action;t.ref.blob?(t.ref.blob.translateX=n.position.scopeLeft,t.ref.blob.translateY=n.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):function(e){var t=e.root;t.ref.blob=t.appendChildView(t.createChildView(xn,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:.5*t.rect.element.width,translateY:.5*t.rect.element.height}))}({root:t})},DID_DROP:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},DID_END_DRAG:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)}}),Rn=A({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:function(e){var t=e.root,n=e.actions;wn({root:t,props:e.props,actions:n});var i=t.ref.blob;0===n.length&&i&&0===i.opacity&&(t.removeChildView(i),t.ref.blob=null)}}),Cn=function(e,t){return e.ref.fields[t]},Sn=function(e){return function(e){e.query("GET_ACTIVE_ITEMS").forEach((function(t){e.element.appendChild(e.ref.fields[t.id])}))}(e.root)},Pn=M({DID_SET_DISABLED:function(e){var t=e.root;t.element.disabled=t.query("GET_DISABLED")},DID_ADD_ITEM:function(e){var t=e.root,n=e.action,i=_t("input");i.type="hidden",i.name=t.query("GET_NAME"),i.disabled=t.query("GET_DISABLED"),t.appendChild(i,0),t.ref.fields[n.id]=i},DID_LOAD_ITEM:function(e){var t=e.action,n=Cn(e.root,t.id);n&&null!==t.serverFileReference&&(n.value=t.serverFileReference)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action,i=Cn(t,n.id);i&&(i.parentNode.removeChild(i),delete t.ref.fields[n.id])},DID_DEFINE_VALUE:function(e){var t=e.action,n=Cn(e.root,t.id);n&&(null===t.value?n.removeAttribute("value"):n.value=t.value)},DID_REORDER_ITEMS:Sn,DID_SORT_ITEMS:Sn}),An=A({tag:"fieldset",name:"data",create:function(e){return e.root.ref.fields={}},write:Pn,ignoreRect:!0}),Mn=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],kn=["css","csv","html","txt"],Dn={zip:"zip|compressed",epub:"application/epub+zip"},Ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),Mn.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):kn.includes(e)?"text/"+e:Dn[e]||""},Nn=function(e){return new Promise((function(t,n){var i=Yn(e);if(i.length&&!Gn(e))return t(i);Fn(e).then(t)}))},Gn=function(e){return!!e.files&&e.files.length>0},Fn=function(e){return new Promise((function(t,n){var i=(e.items?Array.from(e.items):[]).filter((function(e){return jn(e)})).map((function(e){return Un(e)}));i.length?Promise.all(i).then((function(e){var n=[];e.forEach((function(e){n.push.apply(n,e)})),t(n.filter((function(e){return e})).map((function(e){return e._relativePath||(e._relativePath=e.webkitRelativePath),e})))})).catch(console.error):t(e.files?Array.from(e.files):[])}))},jn=function(e){if(qn(e)){var t=Hn(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},Un=function(e){return new Promise((function(t,n){zn(e)?Vn(Hn(e)).then(t).catch(n):t([e.getAsFile()])}))},Vn=function(e){return new Promise((function(t,n){var i=[],r=0,o=0,a=function(){0===o&&0===r&&t(i)};!function e(t){r++;var s=t.createReader();!function t(){s.readEntries((function(n){if(0===n.length)return r--,void a();n.forEach((function(t){t.isDirectory?e(t):(o++,t.file((function(e){var n=Bn(e);t.fullPath&&(n._relativePath=t.fullPath),i.push(n),o--,a()})))})),t()}),n)}()}(e)}))},Bn=function(e){if(e.type.length)return e;var t=e.lastModifiedDate,n=e.name;return(e=e.slice(0,e.size,Ln(Ge(e.name)))).name=n,e.lastModifiedDate=t,e},zn=function(e){return qn(e)&&(Hn(e)||{}).isDirectory},qn=function(e){return"webkitGetAsEntry"in e},Hn=function(e){return e.webkitGetAsEntry()},Yn=function(e){var t=[];try{if((t=Xn(e)).length)return t;t=Wn(e)}catch(n){}return t},Wn=function(e){var t=e.getData("url");return"string"==typeof t&&t.length?[t]:[]},Xn=function(e){var t=e.getData("text/html");if("string"==typeof t&&t.length){var n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Kn=[],Zn=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},Qn=function(e,t){var n,i=function(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)}("getRootNode"in(n=t)?n.getRootNode():document,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return i===t||t.contains(i)},$n=null,Jn=function(e,t){try{e.dropEffect=t}catch(n){}},ei=function(e,t){return function(e){e.preventDefault(),$n=e.target,t.forEach((function(t){var n=t.onenter;Qn(e,t.element)&&(t.state="enter",n(Zn(e)))}))}},ti=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Nn(n).then((function(i){var r=!1;t.some((function(t){var o=t.filterElement,a=t.element,s=t.onenter,c=t.onexit,l=t.ondrag,u=t.allowdrop;Jn(n,"copy");var d=u(i);if(d)if(Qn(e,a)){if(r=!0,null===t.state)return t.state="enter",void s(Zn(e));if(t.state="over",o&&!d)return void Jn(n,"none");l(Zn(e))}else o&&!r&&Jn(n,"none"),t.state&&(t.state=null,c(Zn(e)));else Jn(n,"none")}))}))}},ni=function(e,t){return function(e){e.preventDefault(),Nn(e.dataTransfer).then((function(n){t.forEach((function(t){var i=t.filterElement,r=t.element,o=t.ondrop,a=t.onexit,s=t.allowdrop;if(t.state=null,!i||Qn(e,r))return s(n)?void o(Zn(e),n):a(Zn(e))}))}))}},ii=function(e,t){return function(e){$n===e.target&&t.forEach((function(t){var n=t.onexit;t.state=null,n(Zn(e))}))}},ri=!1,oi=[],ai=function(e){Nn(e.clipboardData).then((function(e){e.length&&oi.forEach((function(t){return t(e)}))}))},si=null,ci=null,li=[],ui=function(e,t){e.element.textContent=t},di=function(e,t,n){var i=e.query("GET_TOTAL_ITEMS");ui(e,n+" "+t+", "+i+" "+e.query(1===i?"GET_LABEL_FILE_COUNT_SINGULAR":"GET_LABEL_FILE_COUNT_PLURAL")),clearTimeout(ci),ci=setTimeout((function(){!function(e){e.element.textContent=""}(e)}),1500)},fi=function(e){return e.element.parentNode.contains(document.activeElement)},hi=function(e){var t=e.root,n=t.query("GET_ITEM",e.action.id).filename,i=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");ui(t,n+" "+i)},pi=function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id);ui(t,n.status.main+" "+i.filename+" "+n.status.sub)},mi=A({create:function(e){var t=e.root;t.element.id="filepond--assistant-"+e.props.id,s(t.element,"role","status"),s(t.element,"aria-live","polite"),s(t.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:M({DID_LOAD_ITEM:function(e){var t=e.root,n=e.action;if(fi(t)){t.element.textContent="";var i=t.query("GET_ITEM",n.id);li.push(i.filename),clearTimeout(si),si=setTimeout((function(){di(t,li.join(", "),t.query("GET_LABEL_FILE_ADDED")),li.length=0}),750)}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action;fi(t)&&di(t,n.item.filename,t.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root,n=t.query("GET_ITEM",e.action.id).filename,i=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");ui(t,n+" "+i)},DID_ABORT_ITEM_PROCESSING:hi,DID_REVERT_ITEM_PROCESSING:hi,DID_THROW_ITEM_REMOVE_ERROR:pi,DID_THROW_ITEM_LOAD_ERROR:pi,DID_THROW_ITEM_INVALID:pi,DID_THROW_ITEM_PROCESSING_ERROR:pi}),tag:"span",name:"assistant"}),gi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp(t+".","g"),(function(e){return e.charAt(1).toUpperCase()}))},vi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Date.now(),r=null;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];clearTimeout(r);var c=Date.now()-i,l=function(){i=Date.now(),e.apply(void 0,a)};c<t?n||(r=setTimeout(l,t-c)):l()}},bi=function(e){return e.preventDefault()},_i=function(e,t){var n=e.query("GET_ALLOW_REPLACE"),i=e.query("GET_ALLOW_MULTIPLE"),r=e.query("GET_TOTAL_ITEMS"),o=e.query("GET_MAX_FILES"),a=t.length;return!i&&a>1||!!(H(o=i||n?o:1)&&r+a>o)&&(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ze("warning",0,"Max files")}),!0)},Ei=function(e,t,n){var i=e.childViews[0];return an(i,t,{left:n.scopeLeft-i.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},yi=function(e){var t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),i=t&&!n;if(i&&!e.ref.hopper){var r=function(e,t,n){e.classList.add("filepond--hopper");var i=n.filterItems,r=void 0===i?function(e){return e}:i,a=function(e,t,n){var i=function(e){var t=Kn.find((function(t){return t.element===e}));if(t)return t;var n=function(e){var t=[],n={dragenter:ei,dragover:ti,dragleave:ii,drop:ni},i={};o(n,(function(n,r){i[n]=r(e,t),e.addEventListener(n,i[n],!1)}));var r={element:e,addListener:function(a){return t.push(a),function(){t.splice(t.indexOf(a),1),0===t.length&&(Kn.splice(Kn.indexOf(r),1),o(n,(function(t){e.removeEventListener(t,i[t],!1)})))}}};return r}(e);return Kn.push(n),n}(t),r={element:e,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return r.destroy=i.addListener(r),r}(e,n.catchesDropsOnPage?document.documentElement:e,n.requiresDropOnElement),s="",c="";a.allowdrop=function(e){return t(r(e))},a.ondrop=function(e,n){var i=r(n);t(i)?(c="drag-drop",l.onload(i,e)):l.ondragend(e)},a.ondrag=function(e){l.ondrag(e)},a.onenter=function(e){c="drag-over",l.ondragstart(e)},a.onexit=function(e){c="drag-exit",l.ondragend(e)};var l={updateHopperState:function(){s!==c&&(e.dataset.hopperState=c,s=c)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){a.destroy()}};return l}(e.element,(function(t){if(_i(e,t))return!1;var n=e.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!e.query("GET_DROP_VALIDATION")||t.every((function(t){return _e("ALLOW_HOPPER_ITEM",t,{query:e.query}).every((function(e){return!0===e}))&&n(t)}))}),{filterItems:function(t){var n=e.query("GET_IGNORED_FILES");return t.filter((function(e){return!ct(e)||!n.includes(e.name.toLowerCase())}))},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});r.onload=function(t,n){var i=e.ref.list.childViews[0].childViews.filter((function(e){return e.rect.element.height})),r=e.query("GET_ACTIVE_ITEMS").map((function(e){return i.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));e.dispatch("ADD_ITEMS",{items:t,index:Ei(e.ref.list,r,n),interactionMethod:2}),e.dispatch("DID_DROP",{position:n}),e.dispatch("DID_END_DRAG",{position:n})},r.ondragstart=function(t){e.dispatch("DID_START_DRAG",{position:t})},r.ondrag=vi((function(t){e.dispatch("DID_DRAG",{position:t})})),r.ondragend=function(t){e.dispatch("DID_END_DRAG",{position:t})},e.ref.hopper=r,e.ref.drip=e.appendChildView(e.createChildView(Rn))}else!i&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Ti=function(e,t){var n=e.query("GET_ALLOW_BROWSE"),i=e.query("GET_DISABLED"),r=n&&!i;r&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Tn,Object.assign({},t,{onload:function(t){if(_i(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:3})}})),0):!r&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Ii=function(e){var t,n,i=e.query("GET_ALLOW_PASTE"),r=e.query("GET_DISABLED"),o=i&&!r;o&&!e.ref.paster?(e.ref.paster=(t=function(e){n.onload(e)},n={destroy:function(){ae(oi,oi.indexOf(t)),0===oi.length&&(document.removeEventListener("paste",ai),ri=!1)},onload:function(){}},function(e){oi.includes(e)||(oi.push(e),ri||(ri=!0,document.addEventListener("paste",ai)))}(t),n),e.ref.paster.onload=function(t){e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:4})}):!o&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},Oi=M({DID_SET_ALLOW_BROWSE:function(e){Ti(e.root,e.props)},DID_SET_ALLOW_DROP:function(e){yi(e.root)},DID_SET_ALLOW_PASTE:function(e){Ii(e.root)},DID_SET_DISABLED:function(e){var t=e.root,n=e.props;yi(t),Ii(t),Ti(t,n),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),xi=A({name:"root",read:function(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:function(e){var t=e.root,n=e.props,i=t.query("GET_ID");i&&(t.element.id=i);var r=t.query("GET_CLASS_NAME");r&&r.split(" ").filter((function(e){return e.length})).forEach((function(e){t.element.classList.add(e)})),t.ref.label=t.appendChildView(t.createChildView(On,Object.assign({},n,{translateY:null,caption:t.query("GET_LABEL_IDLE")}))),t.ref.list=t.appendChildView(t.createChildView(hn,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(Jt,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(mi,Object.assign({},n))),t.ref.data=t.appendChildView(t.createChildView(An,Object.assign({},n))),t.ref.measure=_t("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter((function(e){return!N(e.value)})).map((function(e){t.element.dataset[e.name]=e.value})),t.ref.widthPrevious=null,t.ref.widthUpdated=vi((function(){t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")}),250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];var o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&a&&!o&&(t.element.addEventListener("touchmove",bi,{passive:!1}),t.element.addEventListener("gesturestart",bi))},write:function(e){var t=e.root,n=e.actions;if(Oi({root:t,props:e.props,actions:n}),n.filter((function(e){return/^DID_SET_STYLE_/.test(e.type)})).filter((function(e){return!N(e.data.value)})).map((function(e){var n=e.data,i=gi(e.type.substr(8).toLowerCase(),"_");t.element.dataset[i]=n.value,t.invalidateLayout()})),!t.rect.element.hidden){t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());var i=t.ref.bounds;i||(i=t.ref.bounds=function(e){var t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===t?null:t}}(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);var r=t.ref,o=r.hopper,a=r.label,s=r.list,c=r.panel;o&&o.updateHopperState();var l=t.query("GET_PANEL_ASPECT_RATIO"),u=t.query("GET_ALLOW_MULTIPLE"),d=t.query("GET_TOTAL_ITEMS"),f=d===(u?t.query("GET_MAX_FILES")||1e6:1),h=n.find((function(e){return"DID_ADD_ITEM"===e.type}));if(f&&h){var p=h.data.interactionMethod;a.opacity=0,u?a.translateY=-40:1===p?a.translateX=40:a.translateY=3===p?40:30}else f||(a.opacity=1,a.translateX=0,a.translateY=0);var m=function(e){var t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}}(t),g=function(e){var t=0,n=0,i=e.ref.list,r=i.childViews[0],o=r.childViews.filter((function(e){return e.rect.element.height})),a=e.query("GET_ACTIVE_ITEMS").map((function(e){return o.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));if(0===a.length)return{visual:t,bounds:n};var s=r.rect.element.width,c=an(r,a,i.dragCoordinates),l=a[0].rect.element,u=l.marginTop+l.marginBottom,d=l.width+(l.marginLeft+l.marginRight),f=l.height+u,h=void 0!==c&&c>=0?1:0,p=a.find((function(e){return e.markedForRemoval&&e.opacity<.45}))?-1:0,m=a.length+h+p,g=Math.round(s/d);return 1===g?a.forEach((function(e){var i=e.rect.element.height+u;n+=i,t+=i*e.opacity})):(n=Math.ceil(m/g)*f,t=n),{visual:t,bounds:n}}(t),v=a.rect.element.height,b=!u||f?0:v,_=f?s.rect.element.marginTop:0,E=0===d?0:s.rect.element.marginBottom,y=b+_+g.visual+E,T=b+_+g.bounds+E;if(s.translateY=Math.max(0,b-s.rect.element.marginTop)-m.top,l){var I=t.rect.element.width,O=I*l;l!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=l,t.ref.updateHistory=[]);var x=t.ref.updateHistory;if(x.push(I),x.length>4)for(var w=x.length,R=w-10,C=0,S=w;S>=R;S--)if(x[S]===x[S-2]&&C++,C>=2)return;c.scalable=!1,c.height=O;var P=O-b-(E-m.bottom)-(f?_:0);s.overflow=g.visual>P?P:null,t.height=O}else if(i.fixedHeight){c.scalable=!1;var A=i.fixedHeight-b-(E-m.bottom)-(f?_:0);s.overflow=g.visual>A?A:null}else if(i.cappedHeight){var M=y>=i.cappedHeight,k=Math.min(i.cappedHeight,y);c.scalable=!0,c.height=M?k:k-m.top-m.bottom;var D=k-b-(E-m.bottom)-(f?_:0);s.overflow=y>i.cappedHeight&&g.visual>D?D:null,t.height=Math.min(i.cappedHeight,T-m.top-m.bottom)}else{var L=d>0?m.top+m.bottom:0;c.scalable=!0,c.height=Math.max(v,y-L),t.height=Math.max(v,T-L)}}},destroy:function(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",bi),t.element.removeEventListener("gesturestart",bi)},mixins:{styles:["height"]}}),wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,n=ye(),i=r(ee(n),[ke,re(n)],[bt,ie(n)]);i.dispatch("SET_OPTIONS",{options:e});var o=function(){document.hidden||i.dispatch("KICK")};document.addEventListener("visibilitychange",o);var s=null,c=!1,l=!1,u=null,d=null,f=function(){c||(c=!0),clearTimeout(s),s=setTimeout((function(){c=!1,u=null,d=null,l&&(l=!1,i.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",f);var h=xi(i,{id:oe()}),p=!1,m=!1,g={_read:function(){c&&(d=window.innerWidth,u||(u=d),l||d===u||(i.dispatch("DID_START_RESIZE"),l=!0)),m&&p&&(p=null===h.element.offsetParent),p||(h._read(),m=h.rect.element.hidden)},_write:function(e){var t=i.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));p&&!t.length||(E(t),p=h._write(e,t,l),de(i.query("GET_ITEMS")),p&&i.processDispatchQueue())}},v=function(e){return function(t){var n={type:e};if(!t)return n;if(t.hasOwnProperty("error")&&(n.error=t.error?Object.assign({},t.error):null),t.status&&(n.status=Object.assign({},t.status)),t.file&&(n.output=t.file),t.source)n.file=t.source;else if(t.item||t.id){var r=t.item?t.item:i.query("GET_ITEM",t.id);n.file=r?ue(r):null}return t.items&&(n.items=t.items.map(ue)),/progress/.test(e)&&(n.progress=t.progress),n}},b={DID_DESTROY:v("destroy"),DID_INIT:v("init"),DID_THROW_MAX_FILES:v("warning"),DID_START_ITEM_LOAD:v("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:v("addfileprogress"),DID_LOAD_ITEM:v("addfile"),DID_THROW_ITEM_INVALID:[v("error"),v("addfile")],DID_THROW_ITEM_LOAD_ERROR:[v("error"),v("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[v("error"),v("removefile")],DID_PREPARE_OUTPUT:v("preparefile"),DID_START_ITEM_PROCESSING:v("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:v("processfileprogress"),DID_ABORT_ITEM_PROCESSING:v("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:v("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:v("processfiles"),DID_REVERT_ITEM_PROCESSING:v("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[v("error"),v("processfile")],DID_REMOVE_ITEM:v("removefile"),DID_UPDATE_ITEMS:v("updatefiles"),DID_ACTIVATE_ITEM:v("activatefile"),DID_REORDER_ITEMS:v("reorderfiles")},_=function(e){var t=Object.assign({pond:N},e);delete t.type,h.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error),e.hasOwnProperty("file")&&n.push(e.file);var r=["type","error","file"];Object.keys(e).filter((function(e){return!r.includes(e)})).forEach((function(t){return n.push(e[t])})),N.fire.apply(N,[e.type].concat(n));var o=i.query("GET_ON"+e.type.toUpperCase());o&&o.apply(void 0,n)},E=function(e){e.length&&e.forEach((function(e){if(b[e.type]){var t=b[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){setTimeout((function(){_(t(e.data))}),0)}))}}))},T=function(e){return i.dispatch("SET_OPTIONS",{options:e})},I=function(e){return i.query("GET_ACTIVE_ITEM",e)},O=function(e){return new Promise((function(t,n){i.dispatch("REQUEST_ITEM_PREPARE",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){R([{source:e,options:t}],{index:t.index}).then((function(e){return n(e&&e[0])})).catch(i)}))},w=function(e){return i.dispatch("REMOVE_ITEM",{query:e}),null===i.query("GET_ACTIVE_ITEM",e)},R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var r=[],o={};if(L(t[0]))r.push.apply(r,t[0]),Object.assign(o,t[1]||{});else{var a=t[t.length-1];"object"!=typeof a||a instanceof Blob||Object.assign(o,t.pop()),r.push.apply(r,t)}i.dispatch("ADD_ITEMS",{items:r,index:o.index,interactionMethod:1,success:e,failure:n})}))},C=function(){return i.query("GET_ACTIVE_ITEMS")},S=function(e){return new Promise((function(t,n){i.dispatch("REQUEST_ITEM_PROCESSING",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t,r=i.length?i:C();return Promise.all(r.map(O))},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t;if(!i.length){var r=C().filter((function(e){return!(e.status===fe.IDLE&&e.origin===he.LOCAL)&&e.status!==fe.PROCESSING&&e.status!==fe.PROCESSING_COMPLETE&&e.status!==fe.PROCESSING_REVERT_ERROR}));return Promise.all(r.map(S))}return Promise.all(i.map(S))},M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t,r=C();if(!i.length)return Promise.all(r.map(w));var o=i.map((function(e){return y(e)?r[e]?r[e].id:null:e})).filter((function(e){return e}));return o.map(w)},N=Object.assign({},se(),{},g,{},ne(i,n),{setOptions:T,addFile:x,addFiles:R,getFile:I,processFile:S,prepareFile:O,removeFile:w,moveFile:function(e,t){return i.dispatch("MOVE_ITEM",{query:e,index:t})},getFiles:C,processFiles:A,removeFiles:M,prepareFiles:P,sort:function(e){return i.dispatch("SORT",{compare:e})},browse:function(){var e=h.element.querySelector("input[type=file]");e&&e.click()},destroy:function(){N.fire("destroy",h.element),i.dispatch("ABORT_ALL"),h._destroy(),window.removeEventListener("resize",f),document.removeEventListener("visibilitychange",o),i.dispatch("DID_DESTROY")},insertBefore:function(e){return k(h.element,e)},insertAfter:function(e){return D(h.element,e)},appendTo:function(e){return e.appendChild(h.element)},replaceElement:function(e){k(h.element,e),e.parentNode.removeChild(e),t=e},restoreElement:function(){t&&(D(t,h.element),h.element.parentNode.removeChild(h.element),t=null)},isAttachedTo:function(e){return h.element===e||t===e},element:{get:function(){return h.element}},status:{get:function(){return i.query("GET_STATUS")}}});return i.dispatch("DID_INIT"),a(N)},Ri=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};o(ye(),(function(e,n){t[e]=n[0]}));var n=wi(Object.assign({},t,{},e));return n},Ci=function(e){return gi(e.replace(/^data-/,""))},Si=function e(t,n){o(n,(function(n,i){o(t,(function(e,r){var o=new RegExp(n);if(o.test(e)&&(delete t[e],!1!==i))if(V(i))t[i]=r;else{var a,s=i.group;K(i)&&!t[s]&&(t[s]={}),t[s][(a=e.replace(o,""),a.charAt(0).toLowerCase()+a.slice(1))]=r}})),i.mapping&&e(t[i.group],i.mapping)}))},Pi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];o(e.attributes,(function(t){n.push(e.attributes[t])}));var i=n.filter((function(e){return e.name})).reduce((function(t,n){var i=s(e,n.name);return t[Ci(n.name)]=i===n.name||i,t}),{});return Si(i,t),i},Ai=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};_e("SET_ATTRIBUTE_TO_OPTION_MAP",n);var i=Object.assign({},t),r=Pi("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,n);Object.keys(r).forEach((function(e){K(r[e])?(K(i[e])||(i[e]={}),Object.assign(i[e],r[e])):i[e]=r[e]})),i.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map((function(e){return{source:e.value,options:{type:e.dataset.type}}})));var o=Ri(i);return e.files&&Array.from(e.files).forEach((function(e){o.addFile(e)})),o.replaceElement(e),o},Mi=function(){return i(arguments.length<=0?void 0:arguments[0])?Ai.apply(void 0,arguments):Ri.apply(void 0,arguments)},ki=["fire","_read","_write"],Di=function(e){var t={};return ce(e,t,ki),t},Li=function(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,(function(e,n){return t[n]}))},Ni=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),i=new Worker(n);return{transfer:function(e,t){},post:function(e,t,n){var r=oe();i.onmessage=function(e){e.data.id===r&&t(e.data.message)},i.postMessage({id:r,message:e},n)},terminate:function(){i.terminate(),URL.revokeObjectURL(n)}}},Gi=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))},Fi=function(e,t){var n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},ji=function(e){return Fi(e,e.name)},Ui=[],Vi=function(e){if(!Ui.includes(e)){Ui.push(e);var t=e({addFilter:Ee,utils:{Type:ge,forin:o,isString:V,isFile:ct,toNaturalFileSize:Ot,replaceInString:Li,getExtensionFromFilename:Ge,getFilenameWithoutExtension:at,guesstimateMimeType:Ln,getFileFromBlob:Ve,getFilenameFromURL:Ne,createRoute:M,createWorker:Ni,createView:A,createItemAPI:ue,loadImage:Gi,copyFile:ji,renameFile:Fi,createBlob:Be,applyFilterChain:be,text:Et,getNumericAspectRatioFromString:Oe},views:{fileActionButton:It}});Object.assign(Te,t.options)}},Bi=(jt=g()&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window,function(){return jt}),zi={apps:[]},qi=function(){};if(e.Status={},e.FileStatus={},e.FileOrigin={},e.OptionTypes={},e.create=qi,e.destroy=qi,e.parse=qi,e.find=qi,e.registerPlugin=qi,e.getOptions=qi,e.setOptions=qi,Bi()){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,i="__framePainter";if(window[i])return window[i].readers.push(e),void window[i].writers.push(t);window[i]={readers:[e],writers:[t]};var r=window[i],o=1e3/n,a=null,s=null,c=null,l=null,u=function(){document.hidden?(c=function(){return window.setTimeout((function(){return d(performance.now())}),o)},l=function(){return window.clearTimeout(s)}):(c=function(){return window.requestAnimationFrame(d)},l=function(){return window.cancelAnimationFrame(s)})};document.addEventListener("visibilitychange",(function(){l&&l(),u(),d(performance.now())}));var d=function e(t){s=c(e),a||(a=t);var n=t-a;n<=o||(a=t-n%o,r.readers.forEach((function(e){return e()})),r.writers.forEach((function(e){return e(t)})))};u(),d(performance.now())}((function(){zi.apps.forEach((function(e){return e._read()}))}),(function(e){zi.apps.forEach((function(t){return t._write(e)}))}));var Hi=function t(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Bi,create:e.create,destroy:e.destroy,parse:e.parse,find:e.find,registerPlugin:e.registerPlugin,setOptions:e.setOptions}})),document.removeEventListener("DOMContentLoaded",t)};"loading"!==document.readyState?setTimeout((function(){return Hi()}),0):document.addEventListener("DOMContentLoaded",Hi);var Yi=function(){return o(ye(),(function(t,n){e.OptionTypes[t]=n[1]}))};e.Status=Object.assign({},we),e.FileOrigin=Object.assign({},he),e.FileStatus=Object.assign({},fe),e.OptionTypes={},Yi(),e.create=function(){var t=Mi.apply(void 0,arguments);return t.on("destroy",e.destroy),zi.apps.push(t),Di(t)},e.destroy=function(e){var t=zi.apps.findIndex((function(t){return t.isAttachedTo(e)}));return t>=0&&(zi.apps.splice(t,1)[0].restoreElement(),!0)},e.parse=function(t){return Array.from(t.querySelectorAll(".filepond")).filter((function(e){return!zi.apps.find((function(t){return t.isAttachedTo(e)}))})).map((function(t){return e.create(t)}))},e.find=function(e){var t=zi.apps.find((function(t){return t.isAttachedTo(e)}));return t?Di(t):null},e.registerPlugin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(Vi),Yi()},e.getOptions=function(){var e={};return o(ye(),(function(t,n){e[t]=n[0]})),e},e.setOptions=function(t){return K(t)&&(zi.apps.forEach((function(e){e.setOptions(t)})),function(e){o(e,(function(e,t){Te[e]&&(Te[e][0]=$(t,Te[e][0],Te[e][1]))}))}(t)),e.getOptions()}}e.supported=Bi,Object.defineProperty(e,"__esModule",{value:!0})}(t)},Z2DH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i,r=n("2kYt"),o=n("EM62"),a=((i=function e(){_classCallCheck(this,e)}).\u0275mod=o.Wb({type:i}),i.\u0275inj=o.Vb({factory:function(e){return new(e||i)},imports:[[r.c]]}),i)},dcom:function(e,t,n){e.exports=function(){"use strict";var e={jpeg:"jpg","svg+xml":"svg"},t=function(e){return/^image/.test(e.type)},n={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},i=function(e,t){return{x:e,y:t}},r=function(e,t){return i(e.x-t.x,e.y-t.y)},o=function(e,t){return Math.sqrt(function(e,t){return function(e,t){return e.x*t.x+e.y*t.y}(r(e,t),r(e,t))}(e,t))},a=function(e,t){var n=e,r=t,o=1.5707963267948966-t,a=Math.sin(1.5707963267948966),s=Math.sin(r),c=Math.sin(o),l=Math.cos(o),u=n/a;return i(l*(u*s),l*(u*c))},s=function(e,t){var n=e.height,r=a(e.width,t),s=a(n,t),c=i(e.x+Math.abs(r.x),e.y-Math.abs(r.y)),l=i(e.x+e.width+Math.abs(s.y),e.y+Math.abs(s.x)),u=i(e.x-Math.abs(s.y),e.y+e.height-Math.abs(s.x));return{width:o(c,l),height:o(c,u)}},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},r=i.x>.5?1-i.x:i.x,o=i.y>.5?1-i.y:i.y,a=2*r*e.width,c=2*o*e.height,l=s(t,n);return Math.max(l.width/a,l.height/c)},l=function(e,t){var n=e.width,i=n*t;return i>e.height&&(n=(i=e.height)/t),{x:.5*(e.width-n),y:.5*(e.height-i),width:n,height:i}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.height/e.width,r=1,o=t,a=1,s=i;s>o&&(a=(s=o)/i);var c=Math.max(r/a,o/s),l=e.width/(n*c*a),u=l*t;return{width:l,height:u}},d=function(e){e.width=1,e.height=1,e.getContext("2d").clearRect(0,0,1,1)},f=function(e){return e&&(e.horizontal||e.vertical)},h=function(e,t,i){if(t<=1&&!f(i))return e.width=e.naturalWidth,e.height=e.naturalHeight,e;var r=document.createElement("canvas"),o=e.naturalWidth,a=e.naturalHeight,s=t>=5&&t<=8;s?(r.width=a,r.height=o):(r.width=o,r.height=a);var c=r.getContext("2d");if(t&&c.transform.apply(c,function(e,t,i){return-1===i&&(i=1),n[i](e,t)}(o,a,t)),f(i)){var l=[1,0,0,1,0,0];(!s&&i.horizontal||s&i.vertical)&&(l[0]=-1,l[4]=o),(!s&&i.vertical||s&&i.horizontal)&&(l[3]=-1,l[5]=a),c.transform.apply(c,l)}return c.drawImage(e,0,0,o,a),r},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.canvasMemoryLimit,o=i.background,a=void 0===o?null:o,s=n.zoom||1,f=h(e,t,n.flip),p={width:f.width,height:f.height},m=n.aspectRatio||p.height/p.width,g=u(p,m,s);if(r){var v=g.width*g.height;if(v>r){var b=Math.sqrt(r)/Math.sqrt(v);p.width=Math.floor(p.width*b),p.height=Math.floor(p.height*b),g=u(p,m,s)}}var _=document.createElement("canvas"),E={x:.5*g.width,y:.5*g.height},y={x:0,y:0,width:g.width,height:g.height,center:E},T=void 0===n.scaleToFit||n.scaleToFit,I=s*c(p,l(y,m),n.rotation,T?n.center:{x:.5,y:.5});_.width=Math.round(g.width/I),_.height=Math.round(g.height/I),E.x/=I,E.y/=I;var O={x:E.x-p.width*(n.center?n.center.x:.5),y:E.y-p.height*(n.center?n.center.y:.5)},x=_.getContext("2d");a&&(x.fillStyle=a,x.fillRect(0,0,_.width,_.height)),x.translate(E.x,E.y),x.rotate(n.rotation||0),x.drawImage(f,O.x-E.x,O.y-E.y,p.width,p.height);var w=x.getImageData(0,0,_.width,_.height);return d(_),w};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this.toDataURL(t,n).split(",")[1];setTimeout((function(){for(var n=atob(i),r=n.length,o=new Uint8Array(r),a=0;a<r;a++)o[a]=n.charCodeAt(a);e(new Blob([o],{type:t||"image/png"}))}))}}));var m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(i){var r=n?n(e):e;Promise.resolve(r).then((function(e){e.toBlob(i,t.type,t.quality)}))}))},g=function(e,t){return E(e.x*t,e.y*t)},v=function(e,t){return E(e.x+t.x,e.y+t.y)},b=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:E(e.x/t,e.y/t)},_=function(e,t,n){var i=Math.cos(t),r=Math.sin(t),o=E(e.x-n.x,e.y-n.y);return E(n.x+i*o.x-r*o.y,n.y+r*o.x+i*o.y)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{x:e,y:t}},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*n:"number"==typeof e?e*(i?t[i]:Math.min(t.width,t.height)):void 0},T=function(e,t,n){var i=e.borderStyle||e.lineStyle||"solid",r=e.backgroundColor||e.fontColor||"transparent",o=e.borderColor||e.lineColor||"transparent",a=y(e.borderWidth||e.lineWidth,t,n);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof i?"":i.map((function(e){return y(e,t,n)})).join(","),stroke:o,fill:r,opacity:e.opacity||1}},I=function(e){return null!=e},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=y(e.x,t,n,"width")||y(e.left,t,n,"width"),r=y(e.y,t,n,"height")||y(e.top,t,n,"height"),o=y(e.width,t,n,"width"),a=y(e.height,t,n,"height"),s=y(e.right,t,n,"width"),c=y(e.bottom,t,n,"height");return I(r)||(r=I(a)&&I(c)?t.height-a-c:c),I(i)||(i=I(o)&&I(s)?t.width-o-s:s),I(o)||(o=I(i)&&I(s)?t.width-i-s:0),I(a)||(a=I(r)&&I(c)?t.height-r-c:0),{x:i||0,y:r||0,width:o||0,height:a||0}},x=function(e,t){return Object.keys(t).forEach((function(n){return e.setAttribute(n,t[n])}))},w=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return t&&x(n,t),n},R={contain:"xMidYMid meet",cover:"xMidYMid slice"},C={left:"start",center:"middle",right:"end"},S=function(e){return function(t){return w(e,{id:t.id})}},P={image:function(e){var t=w("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:S("rect"),ellipse:S("ellipse"),text:S("text"),path:S("path"),line:function(e){var t=w("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=w("line");t.appendChild(n);var i=w("path");t.appendChild(i);var r=w("path");return t.appendChild(r),t}},A={rect:function(e){return x(e,Object.assign({},e.rect,e.styles))},ellipse:function(e){return x(e,Object.assign({cx:e.rect.x+.5*e.rect.width,cy:e.rect.y+.5*e.rect.height,rx:.5*e.rect.width,ry:.5*e.rect.height},e.styles))},image:function(e,t){x(e,Object.assign({},e.rect,e.styles,{preserveAspectRatio:R[t.fit]||"none"}))},text:function(e,t,n,i){var r=y(t.fontSize,n,i);x(e,Object.assign({},e.rect,e.styles,{"stroke-width":0,"font-weight":t.fontWeight||"normal","font-size":r,"font-family":t.fontFamily||"sans-serif","text-anchor":C[t.textAlign]||"start"})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},path:function(e,t,n,i){var r;x(e,Object.assign({},e.styles,{fill:"none",d:(r=t.points.map((function(e){return{x:y(e.x,n,i,"width"),y:y(e.y,n,i,"height")}})),r.map((function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" "))}))},line:function(e,t,n,i){x(e,Object.assign({},e.rect,e.styles,{fill:"none"}));var r=e.childNodes[1],o=e.childNodes[2],a=e.rect,s={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(x(e.childNodes[0],{x1:a.x,y1:a.y,x2:s.x,y2:s.y}),t.lineDecoration){r.style.display="none",o.style.display="none";var c=b({x:s.x-a.x,y:s.y-a.y}),l=y(.05,n,i);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var u=g(c,l),d=v(a,u),f=_(a,2,d),h=_(a,-2,d);x(r,{style:"display:block;",d:"M".concat(f.x,",").concat(f.y," L").concat(a.x,",").concat(a.y," L").concat(h.x,",").concat(h.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var p=g(c,-l),m=v(s,p),E=_(s,2,m),T=_(s,-2,m);x(o,{style:"display:block;",d:"M".concat(E.x,",").concat(E.y," L").concat(s.x,",").concat(s.y," L").concat(T.x,",").concat(T.y)})}}}},M=function(e,t){return P[e](t)},k=function(e,t,n,i,r){"path"!==t&&(e.rect=O(n,i,r)),e.styles=T(n,i,r),A[t](e,n,i,r)},D=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return new Promise((function(r){var o=i.background,a=void 0===o?null:o,s=new FileReader;s.onloadend=function(){var e=s.result,i=document.createElement("div");i.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",i.innerHTML=e;var o=i.querySelector("svg");document.body.appendChild(i);var u=o.getBBox();i.parentNode.removeChild(i);var d=i.querySelector("title"),f=o.getAttribute("viewBox")||"",h=o.getAttribute("width")||"",p=o.getAttribute("height")||"",m=parseFloat(h)||null,g=parseFloat(p)||null,v=(h.match(/[a-z]+/)||[])[0]||"",b=(p.match(/[a-z]+/)||[])[0]||"",_=f.split(" ").map(parseFloat),E=_.length?{x:_[0],y:_[1],width:_[2],height:_[3]}:u,y=null!=m?m:E.width,T=null!=g?g:E.height;o.style.overflow="visible",o.setAttribute("width",y),o.setAttribute("height",T);var I="";if(n&&n.length){var O={width:y,height:T};I=n.sort(D).reduce((function(e,t){var n=M(t[0],t[1]);return k(n,t[0],t[1],O),n.removeAttribute("id"),1===n.getAttribute("opacity")&&n.removeAttribute("opacity"),e+"\n"+n.outerHTML+"\n"}),""),I="\n\n<g>".concat(I.replace(/&nbsp;/g," "),"</g>\n\n")}var x=t.aspectRatio||T/y,w=y,R=w*x,C=void 0===t.scaleToFit||t.scaleToFit,S=t.center?t.center.x:.5,P=t.center?t.center.y:.5,A=c({width:y,height:T},l({width:w,height:R},x),t.rotation,C?{x:S,y:P}:{x:.5,y:.5}),L=t.zoom*A,N=t.rotation*(180/Math.PI),G={x:.5*w,y:.5*R},F={x:G.x-y*S,y:G.y-T*P},j=["rotate(".concat(N," ").concat(G.x," ").concat(G.y,")"),"translate(".concat(G.x," ").concat(G.y,")"),"scale(".concat(L,")"),"translate(".concat(-G.x," ").concat(-G.y,")"),"translate(".concat(F.x," ").concat(F.y,")")],U=t.flip&&t.flip.horizontal,V=t.flip&&t.flip.vertical,B=["scale(".concat(U?-1:1," ").concat(V?-1:1,")"),"translate(".concat(U?-y:0," ").concat(V?-T:0,")")],z='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="'.concat(w).concat(v,'" height="').concat(R).concat(b,'" \nviewBox="0 0 ').concat(w," ").concat(R,'" ').concat(a?'style="background:'+a+'" ':"",'\npreserveAspectRatio="xMinYMin"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns="http://www.w3.org/2000/svg">\n\x3c!-- Generated by PQINA - https://pqina.nl/ --\x3e\n<title>').concat(d?d.textContent:"",'</title>\n<g transform="').concat(j.join(" "),'">\n<g transform="').concat(B.join(" "),'">\n').concat(o.outerHTML).concat(I,"\n</g>\n</g>\n</svg>");r(z)},s.readAsText(e)}))},N=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(e.data),t},G=function(){var e={resize:function(e,n){var o=n.mode,a=void 0===o?"contain":o,s=n.upscale,c=void 0!==s&&s,l=n.width,u=n.height,d=n.matrix;if(d=!d||i(d)?null:d,!l&&!u)return r(e,d);if(null===l?l=u:null===u&&(u=l),"force"!==a){var f=l/e.width,h=u/e.height,p=1;if("cover"===a?p=Math.max(f,h):"contain"===a&&(p=Math.min(f,h)),p>1&&!1===c)return r(e,d);l=e.width*p,u=e.height*p}for(var m=e.width,g=e.height,v=Math.round(l),b=Math.round(u),_=e.data,E=new Uint8ClampedArray(v*b*4),y=m/v,T=g/b,I=Math.ceil(.5*y),O=Math.ceil(.5*T),x=0;x<b;x++)for(var w=0;w<v;w++){for(var R=4*(w+x*v),C=0,S=0,P=0,A=0,M=0,k=0,D=0,L=(x+.5)*T,N=Math.floor(x*T);N<(x+1)*T;N++)for(var G=Math.abs(L-(N+.5))/O,F=(w+.5)*y,j=G*G,U=Math.floor(w*y);U<(w+1)*y;U++){var V=Math.abs(F-(U+.5))/I,B=Math.sqrt(j+V*V);if(B>=-1&&B<=1&&(C=2*B*B*B-3*B*B+1)>0){var z=_[3+(V=4*(U+N*m))];D+=C*z,P+=C,z<255&&(C=C*z/250),A+=C*_[V],M+=C*_[V+1],k+=C*_[V+2],S+=C}}E[R]=A/S,E[R+1]=M/S,E[R+2]=k/S,E[R+3]=D/P,d&&t(R,E,d)}return{data:E,width:v,height:b}},filter:r};function t(e,t,n){var i=t[e]/255,r=t[e+1]/255,o=t[e+2]/255,a=t[e+3]/255,s=i*n[5]+r*n[6]+o*n[7]+a*n[8]+n[9],c=i*n[10]+r*n[11]+o*n[12]+a*n[13]+n[14],l=i*n[15]+r*n[16]+o*n[17]+a*n[18]+n[19],u=Math.max(0,(i*n[0]+r*n[1]+o*n[2]+a*n[3]+n[4])*l)+1*(1-l),d=Math.max(0,s*l)+1*(1-l),f=Math.max(0,c*l)+1*(1-l);t[e]=255*Math.max(0,Math.min(1,u)),t[e+1]=255*Math.max(0,Math.min(1,d)),t[e+2]=255*Math.max(0,Math.min(1,f))}self.onmessage=function(t){!function(n,i){var r,o=n.transforms,a=null;if(o.forEach((function(e){"filter"===e.type&&(a=e)})),a){var s=null;o.forEach((function(e){"resize"===e.type&&(s=e)})),s&&(s.data.matrix=a.data,o=o.filter((function(e){return"filter"!==e.type})))}r=function(t,n){return t.forEach((function(t){n=e[t.type](n,t.data)})),n}(o,n.imageData),self.postMessage({id:t.data.id,message:r},[r.data.buffer])}(t.data.message)};var n=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function i(e){return self.JSON.stringify(e||[])===n}function r(e,t){if(!t||i(t))return e;for(var n=e.data,r=n.length,o=t[0],a=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7],h=t[8],p=t[9],m=t[10],g=t[11],v=t[12],b=t[13],_=t[14],E=t[15],y=t[16],T=t[17],I=t[18],O=t[19],x=0,w=0,R=0,C=0,S=0,P=0,A=0,M=0,k=0,D=0,L=0;x<r;x+=4)P=(w=n[x]/255)*u+(R=n[x+1]/255)*d+(C=n[x+2]/255)*f+(S=n[x+3]/255)*h+p,A=w*m+R*g+C*v+S*b+_,M=w*E+R*y+C*T+S*I+O,k=Math.max(0,(w*o+R*a+C*s+S*c+l)*M)+1*(1-M),D=Math.max(0,P*M)+1*(1-M),L=Math.max(0,A*M)+1*(1-M),n[x]=255*Math.max(0,Math.min(1,k)),n[x+1]=255*Math.max(0,Math.min(1,D)),n[x+2]=255*Math.max(0,Math.min(1,L));return e}},F=function(e,t){if(1165519206===e.getUint32(t+4,!1)){t+=4;var n=18761===e.getUint16(t+=6,!1);t+=e.getUint32(t+4,n);var i=e.getUint16(t,n);t+=2;for(var r=0;r<i;r++)if(274===e.getUint16(t+12*r,n))return e.setUint16(t+12*r+8,1,n),!0;return!1}},j=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){return t(function(e){var t=new DataView(e);if(65496!==t.getUint16(0))return null;for(var n,i,r=2,o=!1;r<t.byteLength&&(n=t.getUint16(r,!1),i=t.getUint16(r+2,!1)+2,n>=65504&&n<=65519||65534===n)&&(o||(o=F(t,r)),!(r+i>t.byteLength));)r+=i;return e.slice(0,r)}(n.result)||null)},n.readAsArrayBuffer(e.slice(0,262144))}))},U=function(e,t){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var i=new n;return i.append(e),i.getBlob(t)}return new Blob([e],{type:t})},V=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),i=new Worker(n),r=[];return{transfer:function(){},post:function(e,t,n){var o=Math.random().toString(36).substr(2,9);r[o]=t,i.onmessage=function(e){var t=r[e.data.id];t&&(t(e.data.message),delete r[e.data.id])},i.postMessage({id:o,message:e},n)},terminate:function(){i.terminate(),URL.revokeObjectURL(n)}}},B=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))},z=function(e,t){return new Promise((function(n){var i,r={width:e.width,height:e.height},o=e.getContext("2d");(i=t.sort(D).map((function(e){return function(){return new Promise((function(t){Y[e[0]](o,r,e[1],t)&&t()}))}})),i.reduce((function(e,t){return e.then((function(e){return t().then(Array.prototype.concat.bind(e))}))}),Promise.resolve([]))).then((function(){return n(e)}))}))},q=function(e,t){e.beginPath(),e.lineCap=t["stroke-linecap"],e.lineJoin=t["stroke-linejoin"],e.lineWidth=t["stroke-width"],t["stroke-dasharray"].length&&e.setLineDash(t["stroke-dasharray"].split(",")),e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.globalAlpha=t.opacity||1},H=function(e){e.fill(),e.stroke(),e.globalAlpha=1},Y={rect:function(e,t,n){var i=O(n,t),r=T(n,t);return q(e,r),e.rect(i.x,i.y,i.width,i.height),H(e),!0},ellipse:function(e,t,n){var i=O(n,t),r=T(n,t);q(e,r);var o=i.x,a=i.y,s=i.width,c=i.height,l=s/2*.5522848,u=c/2*.5522848,d=o+s,f=a+c,h=o+s/2,p=a+c/2;return e.moveTo(o,p),e.bezierCurveTo(o,p-u,h-l,a,h,a),e.bezierCurveTo(h+l,a,d,p-u,d,p),e.bezierCurveTo(d,p+u,h+l,f,h,f),e.bezierCurveTo(h-l,f,o,p+u,o,p),H(e),!0},image:function(e,t,n,i){var r=O(n,t),o=T(n,t);q(e,o);var a=new Image;a.onload=function(){if("cover"===n.fit){var t=r.width/r.height,o=t>1?a.width:a.height*t,s=t>1?a.width/t:a.height;e.drawImage(a,.5*a.width-.5*o,.5*a.height-.5*s,o,s,r.x,r.y,r.width,r.height)}else if("contain"===n.fit){var c=Math.min(r.width/a.width,r.height/a.height),l=c*a.width,u=c*a.height;e.drawImage(a,0,0,a.width,a.height,r.x+.5*r.width-.5*l,r.y+.5*r.height-.5*u,l,u)}else e.drawImage(a,0,0,a.width,a.height,r.x,r.y,r.width,r.height);H(e),i()},a.src=n.src},text:function(e,t,n){var i=O(n,t),r=T(n,t);q(e,r);var o=y(n.fontSize,t),a=n.fontFamily||"sans-serif",s=n.textAlign||"left";return e.font="".concat(n.fontWeight||"normal"," ").concat(o,"px ").concat(a),e.textAlign=s,e.fillText(n.text,i.x,i.y),H(e),!0},line:function(e,t,n){var i=O(n,t),r=T(n,t);q(e,r),e.beginPath();var o={x:i.x,y:i.y},a={x:i.x+i.width,y:i.y+i.height};e.moveTo(o.x,o.y),e.lineTo(a.x,a.y);var s=b({x:a.x-o.x,y:a.y-o.y}),c=.04*Math.min(t.width,t.height);if(-1!==n.lineDecoration.indexOf("arrow-begin")){var l=g(s,c),u=v(o,l),d=_(o,2,u),f=_(o,-2,u);e.moveTo(d.x,d.y),e.lineTo(o.x,o.y),e.lineTo(f.x,f.y)}if(-1!==n.lineDecoration.indexOf("arrow-end")){var h=g(s,-c),p=v(a,h),m=_(a,2,p),E=_(a,-2,p);e.moveTo(m.x,m.y),e.lineTo(a.x,a.y),e.lineTo(E.x,E.y)}return H(e),!0},path:function(e,t,n){var i=T(n,t);q(e,i),e.beginPath();var r=n.points.map((function(e){return{x:y(e.x,t,1,"width"),y:y(e.y,t,1,"height")}}));e.moveTo(r[0].x,r[0].y);for(var o=r.length,a=1;a<o;a++)e.lineTo(r[a].x,r[a].y);return H(e),!0}},W=function(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t};function X(e){this.wrapped=e}function K(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,s=a instanceof X;Promise.resolve(s?a.wrapped:a).then((function(e){s?i("next",e):r(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(c){r("throw",c)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(K.prototype[Symbol.asyncIterator]=function(){return this}),K.prototype.next=function(e){return this._invoke("next",e)},K.prototype.throw=function(e){return this._invoke("throw",e)},K.prototype.return=function(e){return this._invoke("return",e)};var Z=["x","y","left","top","right","bottom","width","height"],Q=function(e){var t,n=(2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),2!==n.length);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),i=n[0],r=n[1],o=r.points?{}:Z.reduce((function(e,t){var n;return e[t]="string"==typeof(n=r[t])&&/%/.test(n)?parseFloat(n)/100:n,e}),{});return[i,Object.assign({zIndex:0},r,o)]};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this;setTimeout((function(){for(var r=i.toDataURL(t,n).split(",")[1],o=atob(r),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);e(new Blob([s],{type:t||"image/png"}))}))}}));var $="undefined"!=typeof window&&void 0!==window.document,J=$&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ee=function(n){var i=n.addFilter,r=n.utils,o=r.Type,a=r.forin,s=r.getFileFromBlob,c=r.isFile,l=["crop","resize","filter","markup","output"],u=function(e){return null===e.aspectRatio&&0===e.rotation&&1===e.zoom&&e.center&&.5===e.center.x&&.5===e.center.y&&e.flip&&!1===e.flip.horizontal&&!1===e.flip.vertical};return i("SHOULD_PREPARE_OUTPUT",(function(e,t){var n=t.query;return new Promise((function(e){e(!n("IS_ASYNC"))}))})),i("PREPARE_OUTPUT",(function(n,i){var r=i.query,o=i.item;return new Promise((function(i){(function(e,t,n){return new Promise((function(i){if(!c(t)||!function(e){return/^image/.test(e.type)}(t)||!e("GET_ALLOW_IMAGE_TRANSFORM")||n.archived)return i(!1);var r=e("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(r){var o=r(t);if(null==o)return handleRevert(!0);if("boolean"==typeof o)return i(o);if("function"==typeof o.then)return o.then(i)}return i(!0)}))})(r,n,o).then((function(c){if(!c)return i(n);var f=[];r("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&f.push((function(){return new Promise((function(e){e({name:r("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:n})}))})),r("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&f.push((function(e,t,n){return new Promise((function(i){e(t,n).then((function(e){return i({name:r("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:e})}))}))}));var h=r("GET_IMAGE_TRANSFORM_VARIANTS")||{};a(h,(function(e,t){var n,i=(n=t,function(e,t,i){return e(t,n?n(i):i)});f.push((function(t,n,r){return new Promise((function(o){i(t,n,r).then((function(t){return o({name:e,file:t})}))}))}))}));var g=r("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),v=r("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),b=null===g?null:g/100,_=r("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),E=r("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||l;o.setMetadata("output",{type:_,quality:b,client:E},!0);var y=function(n,i){return new Promise((function(o,a){var c=Object.assign({},i);Object.keys(c).filter((function(e){return"exif"!==e})).forEach((function(e){-1===E.indexOf(e)&&delete c[e]}));var l=c.resize,f=c.exif,h=c.output,g=c.crop,b=c.filter,_=c.markup,y={image:{orientation:f?f.orientation:null},output:h&&(h.type||"number"==typeof h.quality||h.background)?{type:h.type,quality:"number"==typeof h.quality?100*h.quality:null,background:h.background||r("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:l&&(l.size.width||l.size.height)?Object.assign({mode:l.mode,upscale:l.upscale},l.size):void 0,crop:g&&!u(g)?Object.assign({},g):void 0,markup:_&&_.length?_.map(Q):[],filter:b};if(y.output){var T=!!h.type&&h.type!==n.type,I=/\/jpe?g$/.test(n.type);if(!(y.size||y.crop||y.filter||T||null!==h.quality&&I&&"always"===v))return o(n)}var O={beforeCreateBlob:r("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:r("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:r("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:r("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};(function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){if(!e||!t(e))return o({status:"not an image file",file:e});var a=i.stripImageHead,s=i.beforeCreateBlob,c=i.afterCreateBlob,l=i.canvasMemoryLimit,u=n.crop,f=n.size,h=n.filter,g=n.markup,v=n.output,b=n.image&&n.image.orientation?Math.max(1,Math.min(8,n.image.orientation)):null,_=v&&v.quality,E=null===_?null:_/100,y=v&&v.type||null,T=v&&v.background||null,I=[];!f||"number"!=typeof f.width&&"number"!=typeof f.height||I.push({type:"resize",data:f}),h&&20===h.length&&I.push({type:"filter",data:h});var O=function(e){var t=c?c(e):e;Promise.resolve(t).then(r)},x=function(t,n){var i=W(t),r=g.length?z(i,g):i;Promise.resolve(r).then((function(t){m(t,n,s).then((function(n){if(d(t),a)return O(n);j(e).then((function(e){null!==e&&(n=new Blob([e,n.slice(20)],{type:n.type})),O(n)}))})).catch(o)}))};if(/svg/.test(e.type)&&null===y)return L(e,u,g,{background:T}).then((function(e){r(U(e,"image/svg+xml"))}));var w=URL.createObjectURL(e);B(w).then((function(t){URL.revokeObjectURL(w);var n=p(t,b,u,{canvasMemoryLimit:l,background:T}),i={quality:E,type:y||e.type};if(!I.length)return x(n,i);var r=V(G);r.post({transforms:I,imageData:n},(function(e){x(N(e),i),r.terminate()}),[n.data.buffer])})).catch(o)}))})(n,y,O).then((function(t){var i=s(t,function(t,n){var i=function(e){return e.substr(0,e.lastIndexOf("."))||e}(t),r=n.split("/")[1],o=e[r]||r;return"".concat(i,".").concat(o)}(n.name,function(e){return/jpeg|png|svg\+xml/.test(e)?e:"image/jpeg"}(t.type)));o(i)})).catch(a)}))},T=f.map((function(e){return e(y,n,o.getMetadata())}));Promise.all(T).then((function(e){i(1===e.length&&null===e[0].name?e[0].file:e)}))}))}))})),{options:{allowImageTransform:[!0,o.BOOLEAN],imageTransformImageFilter:[null,o.FUNCTION],imageTransformOutputMimeType:[null,o.STRING],imageTransformOutputQuality:[null,o.INT],imageTransformOutputStripImageHead:[!0,o.BOOLEAN],imageTransformClientTransforms:[null,o.ARRAY],imageTransformOutputQualityMode:["always",o.STRING],imageTransformVariants:[null,o.OBJECT],imageTransformVariantsIncludeDefault:[!0,o.BOOLEAN],imageTransformVariantsDefaultName:[null,o.STRING],imageTransformVariantsIncludeOriginal:[!1,o.BOOLEAN],imageTransformVariantsOriginalName:["original_",o.STRING],imageTransformBeforeCreateBlob:[null,o.FUNCTION],imageTransformAfterCreateBlob:[null,o.FUNCTION],imageTransformCanvasMemoryLimit:[$&&J?16777216:null,o.INT],imageTransformCanvasBackgroundColor:[null,o.STRING]}}};return $&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ee})),ee}()},e2cq:function(e,t,n){e.exports=function(){"use strict";var e=function(){self.onmessage=function(t){e(t.data.message,(function(e){self.postMessage({id:t.data.id,message:e})}))};var e=function(e,t){var n=e.file,i=new FileReader;i.onloadend=function(){t(i.result.replace("data:","").replace(/^.+,/,""))},i.readAsDataURL(n)}},t=function(t){var n=t.addFilter,i=t.utils,r=i.Type,o=i.createWorker,a=i.createRoute,s=i.isFile,c=function(t){var n=t.name,i=t.file;return new Promise((function(t){var r=o(e);r.post({file:i},(function(e){t({name:n,data:e}),r.terminate()}))}))},l=[];return n("DID_CREATE_ITEM",(function(e,t){(0,t.query)("GET_ALLOW_FILE_ENCODE")&&(e.extend("getFileEncodeBase64String",(function(){return l[e.id].data})),e.extend("getFileEncodeDataURL",(function(){return"data:".concat(e.fileType,";base64,").concat(l[e.id].data)})))})),n("SHOULD_PREPARE_OUTPUT",(function(e,t){var n=t.query;return new Promise((function(e){e(n("GET_ALLOW_FILE_ENCODE"))}))})),n("COMPLETE_PREPARE_OUTPUT",(function(e,t){var n=t.item,i=t.query;return new Promise((function(t){if(!i("GET_ALLOW_FILE_ENCODE")||!s(e)&&!Array.isArray(e))return t(e);l[n.id]={metadata:n.getMetadata(),data:null},Promise.all((e instanceof Blob?[{name:null,file:e}]:e).map(c)).then((function(i){l[n.id].data=e instanceof Blob?i[0].data:i,t(e)}))}))})),n("CREATE_VIEW",(function(e){var t=e.view,n=e.query;(0,e.is)("file-wrapper")&&n("GET_ALLOW_FILE_ENCODE")&&t.registerWriter(a({DID_PREPARE_OUTPUT:function(e){var t=e.root,i=e.action;if(!n("IS_ASYNC")){var r=n("GET_ITEM",i.id);if(r){var o=l[r.id],a=JSON.stringify({id:r.id,name:r.file.name,type:r.file.type,size:r.file.size,metadata:o.metadata,data:o.data});t.ref.data?t.ref.data.value=a:t.dispatch("DID_DEFINE_VALUE",{id:r.id,value:a})}}},DID_REMOVE_ITEM:function(e){var t=n("GET_ITEM",e.action.id);t&&delete l[t.id]}}))})),{options:{allowFileEncode:[!0,r.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},eFs7:function(e,t,n){e.exports=function(){"use strict";var e=function(e){var t=e.addFilter,n=e.utils,i=n.Type,r=n.replaceInString,o=n.toNaturalFileSize;return t("ALLOW_HOPPER_ITEM",(function(e,t){var n=t.query;if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var i=n("GET_MAX_FILE_SIZE");if(null!==i&&e.size>=i)return!1;var r=n("GET_MIN_FILE_SIZE");return!(null!==r&&e.size<=r)})),t("LOAD_FILE",(function(e,t){var n=t.query;return new Promise((function(t,i){if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return t(e);var a=n("GET_FILE_VALIDATE_SIZE_FILTER");if(a&&!a(e))return t(e);var s=n("GET_MAX_FILE_SIZE");if(null!==s&&e.size>=s)i({status:{main:n("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:r(n("GET_LABEL_MAX_FILE_SIZE"),{filesize:o(s)})}});else{var c=n("GET_MIN_FILE_SIZE");if(null!==c&&e.size<=c)i({status:{main:n("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:r(n("GET_LABEL_MIN_FILE_SIZE"),{filesize:o(c)})}});else{var l=n("GET_MAX_TOTAL_FILE_SIZE");if(null!==l&&n("GET_ACTIVE_ITEMS").reduce((function(e,t){return e+t.fileSize}),0)>l)return void i({status:{main:n("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:r(n("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:o(l)})}});t(e)}}}))})),{options:{allowFileSizeValidation:[!0,i.BOOLEAN],maxFileSize:[null,i.INT],minFileSize:[null,i.INT],maxTotalFileSize:[null,i.INT],fileValidateSizeFilter:[null,i.FUNCTION],labelMinFileSizeExceeded:["File is too small",i.STRING],labelMinFileSize:["Minimum file size is {filesize}",i.STRING],labelMaxFileSizeExceeded:["File is too large",i.STRING],labelMaxFileSize:["Maximum file size is {filesize}",i.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",i.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",i.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},hrFO:function(e,t,n){e.exports=function(){"use strict";var e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.getUint16(t,n)},t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.getUint32(t,n)},n=function(n){var i=n.utils,r=i.Type,o=i.isFile;return(0,n.addFilter)("DID_LOAD_ITEM",(function(n,i){var r=i.query;return new Promise((function(i,a){var s=n.file;if(!o(s)||!function(e){return/^image\/jpeg/.test(e.type)}(s)||!r("GET_ALLOW_IMAGE_EXIF_ORIENTATION"))return i(n);(function(n){return new Promise((function(i,r){var o=new FileReader;o.onload=function(n){var r=new DataView(n.target.result);if(65496===e(r,0)){for(var o=r.byteLength,a=2;a<o;){var s=e(r,a);if(a+=2,65505===s){if(1165519206!==t(r,a+=2))break;var c=18761===e(r,a+=6);a+=t(r,a+4,c);var l=e(r,a,c);a+=2;for(var u=0;u<l;u++)if(274===e(r,a+12*u,c))return void i(e(r,a+12*u+8,c))}else{if(65280!=(65280&s))break;a+=e(r,a)}}i(-1)}else i(-1)},o.readAsArrayBuffer(n.slice(0,65536))}))})(s).then((function(e){n.setMetadata("exif",{orientation:e}),i(n)}))}))})),{options:{allowImageExifOrientation:[!0,r.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:n})),n}()},x32j:function(e,t,n){e.exports=function(){"use strict";function e(e){this.wrapped=e}function t(t){var n,i;function r(n,i){try{var a=t[n](i),s=a.value,c=s instanceof e;Promise.resolve(c?s.wrapped:s).then((function(e){c?r("next",e):o(a.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(l){o("throw",l)}}function o(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):i=null}this._invoke=function(e,t){return new Promise((function(o,a){var s={key:e,arg:t,resolve:o,reject:a,next:null};i?i=i.next=s:(n=i=s,r(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)};var i=function(e,t){return a(e.x*t,e.y*t)},r=function(e,t){return a(e.x+t.x,e.y+t.y)},o=function(e,t,n){var i=Math.cos(t),r=Math.sin(t),o=a(e.x-n.x,e.y-n.y);return a(n.x+i*o.x-r*o.y,n.y+r*o.x+i*o.y)},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{x:e,y:t}},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*n:"number"==typeof e?e*(i?t[i]:Math.min(t.width,t.height)):void 0},c=function(e){return null!=e},l=function(e,t){return Object.keys(t).forEach((function(n){return e.setAttribute(n,t[n])}))},u=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return t&&l(n,t),n},d={contain:"xMidYMid meet",cover:"xMidYMid slice"},f={left:"start",center:"middle",right:"end"},h=function(e){return function(t){return u(e,{id:t.id})}},p={image:function(e){var t=u("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:h("rect"),ellipse:h("ellipse"),text:h("text"),path:h("path"),line:function(e){var t=u("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=u("line");t.appendChild(n);var i=u("path");t.appendChild(i);var r=u("path");return t.appendChild(r),t}},m={rect:function(e){return l(e,Object.assign({},e.rect,e.styles))},ellipse:function(e){return l(e,Object.assign({cx:e.rect.x+.5*e.rect.width,cy:e.rect.y+.5*e.rect.height,rx:.5*e.rect.width,ry:.5*e.rect.height},e.styles))},image:function(e,t){l(e,Object.assign({},e.rect,e.styles,{preserveAspectRatio:d[t.fit]||"none"}))},text:function(e,t,n,i){var r=s(t.fontSize,n,i);l(e,Object.assign({},e.rect,e.styles,{"stroke-width":0,"font-weight":t.fontWeight||"normal","font-size":r,"font-family":t.fontFamily||"sans-serif","text-anchor":f[t.textAlign]||"start"})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},path:function(e,t,n,i){var r;l(e,Object.assign({},e.styles,{fill:"none",d:(r=t.points.map((function(e){return{x:s(e.x,n,i,"width"),y:s(e.y,n,i,"height")}})),r.map((function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" "))}))},line:function(e,t,n,c){l(e,Object.assign({},e.rect,e.styles,{fill:"none"}));var u=e.childNodes[1],d=e.childNodes[2],f=e.rect,h={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(l(e.childNodes[0],{x1:f.x,y1:f.y,x2:h.x,y2:h.y}),t.lineDecoration){u.style.display="none",d.style.display="none";var p=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:a(e.x/t,e.y/t)}({x:h.x-f.x,y:h.y-f.y}),m=s(.05,n,c);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var g=i(p,m),v=r(f,g),b=o(f,2,v),_=o(f,-2,v);l(u,{style:"display:block;",d:"M".concat(b.x,",").concat(b.y," L").concat(f.x,",").concat(f.y," L").concat(_.x,",").concat(_.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var E=i(p,-m),y=r(h,E),T=o(h,2,y),I=o(h,-2,y);l(d,{style:"display:block;",d:"M".concat(T.x,",").concat(T.y," L").concat(h.x,",").concat(h.y," L").concat(I.x,",").concat(I.y)})}}}},g=["x","y","left","top","right","bottom","width","height"],v=function(e){var t=n(e,2),i=t[0],r=t[1],o=r.points?{}:g.reduce((function(e,t){var n;return e[t]="string"==typeof(n=r[t])&&/%/.test(n)?parseFloat(n)/100:n,e}),{});return[i,Object.assign({zIndex:0},r,o)]},b=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},_=function(e,t){return{x:e,y:t}},E=function(e,t){return _(e.x-t.x,e.y-t.y)},y=function(e,t){return Math.sqrt(function(e,t){return function(e,t){return e.x*t.x+e.y*t.y}(E(e,t),E(e,t))}(e,t))},T=function(e,t){var n=e,i=t,r=1.5707963267948966-t,o=Math.sin(1.5707963267948966),a=Math.sin(i),s=Math.sin(r),c=Math.cos(r),l=n/o;return _(c*(l*a),c*(l*s))},I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.height/e.width,r=1,o=t,a=1,s=i;s>o&&(a=(s=o)/i);var c=Math.max(r/a,o/s),l=e.width/(n*c*a),u=l*t;return{width:l,height:u}},O=function(e,t,n,i){var r=2*(i.x>.5?1-i.x:i.x)*e.width,o=2*(i.y>.5?1-i.y:i.y)*e.height,a=function(e,t){var n=e.height,i=T(e.width,t),r=T(n,t),o=_(e.x+Math.abs(i.x),e.y-Math.abs(i.y)),a=_(e.x+e.width+Math.abs(r.y),e.y+Math.abs(r.x)),s=_(e.x-Math.abs(r.y),e.y+e.height-Math.abs(r.x));return{width:y(o,a),height:y(o,s)}}(t,n);return Math.max(a.width/r,a.height/o)},x=function(e,t){var n=e.width,i=n*t;return i>e.height&&(n=(i=e.height)/t),{x:.5*(e.width-n),y:.5*(e.height-i),width:n,height:i}},w={type:"spring",stiffness:.5,damping:.45,mass:10},R='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',C=!1,S=0,P=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then((function(t){self.postMessage({id:e.data.id,message:t},[t])}))}},A=function(){self.onmessage=function(e){for(var t=e.data.message.imageData,n=e.data.message.colorMatrix,i=t.data,r=i.length,o=n[0],a=n[1],s=n[2],c=n[3],l=n[4],u=n[5],d=n[6],f=n[7],h=n[8],p=n[9],m=n[10],g=n[11],v=n[12],b=n[13],_=n[14],E=n[15],y=n[16],T=n[17],I=n[18],O=n[19],x=0,w=0,R=0,C=0,S=0;x<r;x+=4)w=i[x]/255,R=i[x+1]/255,C=i[x+2]/255,S=i[x+3]/255,i[x]=Math.max(0,Math.min(255*(w*o+R*a+C*s+S*c+l),255)),i[x+1]=Math.max(0,Math.min(255*(w*u+R*d+C*f+S*h+p),255)),i[x+2]=Math.max(0,Math.min(255*(w*m+R*g+C*v+S*b+_),255)),i[x+3]=Math.max(0,Math.min(255*(w*E+R*y+C*T+S*I+O),255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},M={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},k=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},D=function(e){var t=Math.min(10/e.width,10/e.height),n=document.createElement("canvas"),i=n.getContext("2d"),r=n.width=Math.ceil(e.width*t),o=n.height=Math.ceil(e.height*t);i.drawImage(e,0,0,r,o);var a=null;try{a=i.getImageData(0,0,r,o).data}catch(f){return null}for(var s=a.length,c=0,l=0,u=0,d=0;d<s;d+=4)c+=a[d]*a[d],l+=a[d+1]*a[d+1],u+=a[d+2]*a[d+2];return{r:c=L(c,s),g:l=L(l,s),b:u=L(u,s)}},L=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},N=function(e){var t,i,r,o,a,l,u,d,f=e.addFilter,h=e.utils,g=h.Type,_=h.createRoute,E=h.isFile,y=(i=(t=e).utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(e){var t=e.root,n=e.props;!C&&document.querySelector("base")&&(R=R.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),C=!0),S++,t.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),t.element.innerHTML=R.replace(/__UID__/g,S)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),r=function(e){return e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:w,scaleY:w,translateY:w,opacity:{type:"tween",duration:400}}},create:function(t){var i=t.root,r=t.props;i.ref.clip=i.appendChildView(i.createChildView(function(e){return e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(e){var t=e.props;t.background&&(e.root.element.style.backgroundColor=t.background)},create:function(t){var i=t.root,r=t.props;i.ref.image=i.appendChildView(i.createChildView(function(e){return e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:w,originY:w,scaleX:w,scaleY:w,translateX:w,translateY:w,rotateZ:w}},create:function(t){var n=t.root,i=t.props;i.width=i.image.width,i.height=i.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(function(e){return e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(e){e.root.appendChild(e.props.image)}})}(e),{image:i.image}))},write:function(e){var t=e.props.crop.flip,n=e.root.ref.bitmap;n.scaleX=t.horizontal?-1:1,n.scaleY=t.vertical?-1:1}})}(e),Object.assign({},r))),i.ref.createMarkup=function(){i.ref.markup||(i.ref.markup=i.appendChildView(i.createChildView(function(e){return e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(e){var t=e.root,i=e.props;if(i.dirty){var r=i.crop,o=i.resize,a=i.markup,l=i.width,u=i.height,d=r.width,f=r.height;if(o){var h=o.size,g=h&&h.width,_=h&&h.height,E=o.mode;g&&!_&&(_=g),_&&!g&&(g=_);var y=d<g&&f<_;if(!y||y&&o.upscale){var T,I=g/d,O=_/f;"force"===E?(d=g,f=_):("cover"===E?T=Math.max(I,O):"contain"===E&&(T=Math.min(I,O)),d*=T,f*=T)}}var x={width:l,height:u};t.element.setAttribute("width",x.width),t.element.setAttribute("height",x.height);var w=Math.min(l/d,u/f);t.element.innerHTML="";var R=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(R).map(v).sort(b).forEach((function(e){var i=n(e,2),r=i[0],o=i[1],a=function(e,t){return p[e](t)}(r,o);(function(e,t,n,i,r){"path"!==t&&(e.rect=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=s(e.x,t,n,"width")||s(e.left,t,n,"width"),r=s(e.y,t,n,"height")||s(e.top,t,n,"height"),o=s(e.width,t,n,"width"),a=s(e.height,t,n,"height"),l=s(e.right,t,n,"width"),u=s(e.bottom,t,n,"height");return c(r)||(r=c(a)&&c(u)?t.height-a-u:u),c(i)||(i=c(o)&&c(l)?t.width-o-l:l),c(o)||(o=c(i)&&c(l)?t.width-i-l:0),c(a)||(a=c(r)&&c(u)?t.height-r-u:0),{x:i||0,y:r||0,width:o||0,height:a||0}}(n,i,r)),e.styles=function(e,t,n){var i=e.borderStyle||e.lineStyle||"solid",r=e.backgroundColor||e.fontColor||"transparent",o=e.borderColor||e.lineColor||"transparent",a=s(e.borderWidth||e.lineWidth,t,n);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof i?"":i.map((function(e){return s(e,t,n)})).join(","),stroke:o,fill:r,opacity:e.opacity||1}}(n,i,r),m[t](e,n,i,r)})(a,r,o,x,w),t.element.appendChild(a)}))}}})}(e),Object.assign({},r))))},i.ref.destroyMarkup=function(){i.ref.markup&&(i.removeChildView(i.ref.markup),i.ref.markup=null)};var o=i.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==o&&(i.element.dataset.transparencyIndicator="grid"===o?o:"color")},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize,r=n.crop,o=n.markup,a=n.resize,s=n.dirty,c=n.width,l=n.height;t.ref.image.crop=r;var u={x:0,y:0,width:c,height:l,center:{x:.5*c,y:.5*l}},d={width:t.ref.image.width,height:t.ref.image.height},f={x:r.center.x*d.width,y:r.center.y*d.height},h={x:u.center.x-d.width*r.center.x,y:u.center.y-d.height*r.center.y},p=2*Math.PI+r.rotation%(2*Math.PI),m=void 0===r.scaleToFit||r.scaleToFit,g=O(d,x(u,r.aspectRatio||d.height/d.width),p,m?r.center:{x:.5,y:.5}),v=r.zoom*g;o&&o.length?(t.ref.createMarkup(),t.ref.markup.width=c,t.ref.markup.height=l,t.ref.markup.resize=a,t.ref.markup.dirty=s,t.ref.markup.markup=o,t.ref.markup.crop=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoom,i=t.rotation,r=t.center,o=t.aspectRatio;o||(o=e.height/e.width);var a=I(e,o,n),s={x:.5*a.width,y:.5*a.height},c={x:0,y:0,width:a.width,height:a.height,center:s},l=void 0===t.scaleToFit||t.scaleToFit,u=O(e,x(c,o),i,l?r:{x:.5,y:.5}),d=n*u;return{widthFloat:a.width/d,heightFloat:a.height/d,width:Math.round(a.width/d),height:Math.round(a.height/d)}}(d,r)):t.ref.markup&&t.ref.destroyMarkup();var b=t.ref.image;if(i)return b.originX=null,b.originY=null,b.translateX=null,b.translateY=null,b.rotateZ=null,b.scaleX=null,void(b.scaleY=null);b.originX=f.x,b.originY=f.y,b.translateX=h.x,b.translateY=h.y,b.rotateZ=p,b.scaleX=v,b.scaleY=v}})}(e),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize,r=t.ref.clip,o=n.image,a=n.crop,s=n.markup,c=n.resize,l=n.dirty;if(r.crop=a,r.markup=s,r.resize=c,r.dirty=l,r.opacity=i?0:1,!i&&!t.rect.element.hidden){var u=a.aspectRatio||o.height/o.width,d=t.rect.inner.width,f=t.rect.inner.height,h=t.query("GET_IMAGE_PREVIEW_HEIGHT"),p=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),m=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),g=t.query("GET_PANEL_ASPECT_RATIO"),v=t.query("GET_ALLOW_MULTIPLE");g&&!v&&(h=d*g,u=g);var b=null!==h?h:Math.max(p,Math.min(d*u,m)),_=b/u;_>d&&(b=(_=d)*u),b>f&&(b=f,_=f/u),r.width=_,r.height=b}}})}(t),o=t.utils.createWorker,a=function(e,t,n){return new Promise((function(i){e.ref.imageData||(e.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height));var r=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t}(e.ref.imageData);if(!t||20!==t.length)return n.getContext("2d").putImageData(r,0,0),i();var a=o(A);a.post({imageData:r,colorMatrix:t},(function(e){n.getContext("2d").putImageData(e,0,0),a.terminate(),i()}),[r.data.buffer])}))},l=function(e){var t=e.root,n=e.image,i=e.props.id,o=t.query("GET_ITEM",{id:i});if(o){var a,s,c=o.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},l=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),u=!1;t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(a=o.getMetadata("markup")||[],s=o.getMetadata("resize"),u=!0);var d=t.appendChildView(t.createChildView(r,{id:i,image:n,crop:c,resize:s,markup:a,dirty:u,background:l,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),t.childViews.length);t.ref.images.push(d),d.opacity=1,d.scaleX=1,d.scaleY=1,d.translateY=0,setTimeout((function(){t.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:i})}),250)}},u=function(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},d=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1},t.utils.createView({name:"image-preview-wrapper",create:function(e){var t=e.root;t.ref.images=[],t.ref.imageData=null,t.ref.imageViewBin=[],t.ref.overlayShadow=t.appendChildView(t.createChildView(i,{opacity:0,status:"idle"})),t.ref.overlaySuccess=t.appendChildView(t.createChildView(i,{opacity:0,status:"success"})),t.ref.overlayError=t.appendChildView(t.createChildView(i,{opacity:0,status:"failure"}))},styles:["height"],apis:["height"],destroy:function(e){e.root.ref.images.forEach((function(e){e.image.width=1,e.image.height=1}))},didWriteView:function(e){e.root.ref.images.forEach((function(e){e.dirty=!1}))},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:function(e){var t=e.root,n=t.ref.images[t.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:function(e){var t,n,i,r=e.root,o=e.props.id,a=r.query("GET_ITEM",o);a&&(t=URL.createObjectURL(a.file),n=function(e,t){r.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:o,width:e,height:t})},(i=new Image).onload=function(){var e=i.naturalWidth,t=i.naturalHeight;i=null,n(e,t)},i.src=t)},DID_FINISH_CALCULATE_PREVIEWSIZE:function(e){var t=e.root,n=e.props,i=t.query("GET_ITEM",n.id);if(i){var r,s,c=URL.createObjectURL(i.file),u=function(){var e;(e=c,new Promise((function(t,n){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))).then(d)},d=function(e){URL.revokeObjectURL(c);var r=(i.getMetadata("exif")||{}).orientation||-1,o=e.width,s=e.height;if(r>=5&&r<=8){var u=[s,o];o=u[0],s=u[1]}var d=Math.max(1,.75*window.devicePixelRatio),f=t.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*d,h=s/o,p=t.rect.element.width,m=t.rect.element.height,g=p,v=g*h;h>1?v=(g=Math.min(o,p*f))*h:g=(v=Math.min(s,m*f))/h;var b=function(e,t,n,i){t=Math.round(t),n=Math.round(n);var r=document.createElement("canvas");r.width=t,r.height=n;var o=r.getContext("2d");if(i>=5&&i<=8){var a=[n,t];t=a[0],n=a[1]}return function(e,t,n,i){-1!==i&&e.transform.apply(e,M[i](t,n))}(o,t,n,i),o.drawImage(e,0,0,t,n),r}(e,g,v,r),_=function(){var r=t.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?D(data):null;i.setMetadata("color",r,!0),"close"in e&&e.close(),t.ref.overlayShadow.opacity=1,l({root:t,props:n,image:b})},E=i.getMetadata("filter");E?a(t,E,b).then(_):_()};if(r=i.file,((s=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./))?parseInt(s[1]):null)<=58||!("createImageBitmap"in window)||!k(r))u();else{var f=o(P);f.post({file:i.file},(function(e){f.terminate(),e?d(e):u()}))}}},DID_UPDATE_ITEM_METADATA:function(e){var t=e.root,n=e.props,i=e.action;if(/crop|filter|markup|resize/.test(i.change.key)&&t.ref.images.length){var r,o,s=t.query("GET_ITEM",{id:n.id});if(s)if(/filter/.test(i.change.key))a(t,i.change.value,t.ref.images[t.ref.images.length-1].image);else if(/crop|markup|resize/.test(i.change.key)){var c=s.getMetadata("crop");if(Math.abs(c.aspectRatio-t.ref.images[t.ref.images.length-1].crop.aspectRatio)>1e-5){var u=function(e){var t=e.root,n=t.ref.images.shift();return n.opacity=0,n.translateY=-15,t.ref.imageViewBin.push(n),n}({root:t});l({root:t,props:n,image:(r=u.image,(o=o||document.createElement("canvas")).width=r.width,o.height=r.height,o.getContext("2d").drawImage(r,0,0),o)})}else!function(e){var t=e.root,n=t.query("GET_ITEM",{id:e.props.id});if(n){var i=t.ref.images[t.ref.images.length-1];i.crop=n.getMetadata("crop"),i.background=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(i.dirty=!0,i.resize=n.getMetadata("resize"),i.markup=n.getMetadata("markup"))}}({root:t,props:n})}}},DID_THROW_ITEM_LOAD_ERROR:d,DID_THROW_ITEM_PROCESSING_ERROR:d,DID_THROW_ITEM_INVALID:d,DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:u,DID_REVERT_ITEM_PROCESSING:u},(function(e){var t=e.root,n=t.ref.imageViewBin.filter((function(e){return 0===e.opacity}));t.ref.imageViewBin=t.ref.imageViewBin.filter((function(e){return e.opacity>0})),n.forEach((function(e){return function(e,t){e.removeChildView(t),t.image.width=1,t.image.height=1,t._destroy()}(t,e)})),n.length=0}))}));return f("CREATE_VIEW",(function(e){var t=e.view,n=e.query;if((0,e.is)("file")&&n("GET_ALLOW_IMAGE_PREVIEW")){var i=function(e){e.root.ref.shouldRescale=!0};t.registerWriter(_({DID_RESIZE_ROOT:i,DID_STOP_RESIZE:i,DID_LOAD_ITEM:function(e){var i=e.root,r=e.props.id,o=n("GET_ITEM",r);if(o&&E(o.file)&&!o.archived){var a=o.file;if(function(e){return/^image/.test(e.type)}(a)&&n("GET_IMAGE_PREVIEW_FILTER_ITEM")(o)){var s="createImageBitmap"in(window||{}),c=n("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!s&&c&&a.size>c)){i.ref.imagePreview=t.appendChildView(t.createChildView(y,{id:r}));var l=i.query("GET_IMAGE_PREVIEW_HEIGHT");l&&i.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:o.id,height:l});var u=!s&&a.size>n("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");i.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:r},u)}}}},DID_IMAGE_PREVIEW_CALCULATE_SIZE:function(e){var t=e.root,n=e.action;t.ref.imageWidth=n.width,t.ref.imageHeight=n.height,t.ref.shouldRescale=!0,t.ref.shouldDrawPreview=!0,t.dispatch("KICK")},DID_UPDATE_ITEM_METADATA:function(e){"crop"===e.action.change.key&&(e.root.ref.shouldRescale=!0)}},(function(e){var t=e.root,n=e.props;t.ref.imagePreview&&(t.rect.element.hidden||(t.ref.shouldRescale&&(function(e,t){if(e.ref.imagePreview){var n=e.query("GET_ITEM",{id:t.id});if(n){var i=e.query("GET_PANEL_ASPECT_RATIO"),r=e.query("GET_ITEM_PANEL_ASPECT_RATIO"),o=e.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(i||r||o)){var a=e.ref,s=a.imageWidth,c=a.imageHeight;if(s&&c){var l=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),u=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),d=(n.getMetadata("exif")||{}).orientation||-1;if(d>=5&&d<=8){var f=[c,s];s=f[0],c=f[1]}if(!k(n.file)||e.query("GET_IMAGE_PREVIEW_UPSCALE")){var h=2048/s;s*=h,c*=h}var p=c/s,m=(n.getMetadata("crop")||{}).aspectRatio||p,g=Math.max(l,Math.min(c,u)),v=Math.min(e.rect.element.width*m,g);e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:n.id,height:v})}}}}}(t,n),t.ref.shouldRescale=!1),t.ref.shouldDrawPreview&&(requestAnimationFrame((function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})})),t.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,g.BOOLEAN],imagePreviewFilterItem:[function(){return!0},g.FUNCTION],imagePreviewHeight:[null,g.INT],imagePreviewMinHeight:[44,g.INT],imagePreviewMaxHeight:[256,g.INT],imagePreviewMaxFileSize:[null,g.INT],imagePreviewZoomFactor:[2,g.INT],imagePreviewUpscale:[!1,g.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,g.INT],imagePreviewTransparencyIndicator:[null,g.STRING],imagePreviewCalculateAverageImageColor:[!1,g.BOOLEAN],imagePreviewMarkupShow:[!0,g.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},g.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:N})),N}()},x6aL:function(e,t,n){e.exports=function(){"use strict";var e=function(e){return/^image/.test(e.type)},t=function(t){var n=t.addFilter,i=t.utils,r=i.Type,o=i.isFile,a=i.getNumericAspectRatioFromString,s=function(t,n){return!(!e(t.file)||!n("GET_ALLOW_IMAGE_CROP"))},c=function(e){return"object"==typeof e},l=function(e){return"number"==typeof e},u=function(e,t){return e.setMetadata("crop",Object.assign({},e.getMetadata("crop"),t))};return n("DID_CREATE_ITEM",(function(e,t){var n=t.query;e.extend("setImageCrop",(function(t){if(s(e,n)&&c(center))return e.setMetadata("crop",t),t})),e.extend("setImageCropCenter",(function(t){if(s(e,n)&&c(t))return u(e,{center:t})})),e.extend("setImageCropZoom",(function(t){if(s(e,n)&&l(t))return u(e,{zoom:Math.max(1,t)})})),e.extend("setImageCropRotation",(function(t){if(s(e,n)&&l(t))return u(e,{rotation:t})})),e.extend("setImageCropFlip",(function(t){if(s(e,n)&&c(t))return u(e,{flip:t})})),e.extend("setImageCropAspectRatio",(function(t){if(s(e,n)&&void 0!==t){var i=e.getMetadata("crop"),r=a(t),o={center:{x:.5,y:.5},flip:i?Object.assign({},i.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:r};return e.setMetadata("crop",o),o}}))})),n("DID_LOAD_ITEM",(function(t,n){var i=n.query;return new Promise((function(n,r){var s=t.file;if(!o(s)||!e(s)||!i("GET_ALLOW_IMAGE_CROP"))return n(t);if(t.getMetadata("crop"))return n(t);var c=i("GET_IMAGE_CROP_ASPECT_RATIO");t.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:c?a(c):null}),n(t)}))})),{options:{allowImageCrop:[!0,r.BOOLEAN],imageCropAspectRatio:[null,r.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()}}]);